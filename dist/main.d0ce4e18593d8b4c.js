"use strict";(self.webpackChunkMindShare=self.webpackChunkMindShare||[]).push([[179],{6304:(pt,Ce,L)=>{L.d(Ce,{Dh:()=>Ae,GT:()=>pe,cc:()=>Me,hO:()=>ke,on:()=>H,pX:()=>ie,xv:()=>ge});var h=L(5879),B=L(7142),P=L(8186);pt=L.hmd(pt);const J=["ngOnDestroy"],ie=(Pe,vt,lt,te={})=>new Proxy(Pe,{get:(De,se)=>lt.runOutsideAngular(()=>{var fe;if(Pe[se])return!(null===(fe=te?.spy)||void 0===fe)&&fe.get&&te.spy.get(se,Pe[se]),Pe[se];if(J.indexOf(se)>-1)return()=>{};const Ne=vt.toPromise().then(ee=>{const et=ee&&ee[se];return"function"==typeof et?et.bind(ee):et&&et.then?et.then($e=>lt.run(()=>$e)):lt.run(()=>et)});return new Proxy(()=>{},{get:(ee,et)=>Ne[et],apply:(ee,et,$e)=>Ne.then(Jt=>{var cr;const Gr=Jt&&Jt(...$e);return!(null===(cr=te?.spy)||void 0===cr)&&cr.apply&&te.spy.apply(se,$e,Gr),Gr})})})}),pe=(Pe,vt)=>{vt.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(te=>{Object.defineProperty(Pe.prototype,te,Object.getOwnPropertyDescriptor(lt.prototype||lt,te))})})};class _e{constructor(vt){return vt}}const Ae=new h.OlP("angularfire2.app.options"),ge=new h.OlP("angularfire2.app.name");function H(Pe,vt,lt){const De="object"==typeof lt&&lt||{};De.name=De.name||"string"==typeof lt&&lt||"[DEFAULT]";const fe=B.Z.apps.filter(Ne=>Ne&&Ne.name===De.name)[0]||vt.runOutsideAngular(()=>B.Z.initializeApp(Pe,De));try{JSON.stringify(Pe)!==JSON.stringify(fe.options)&&G("error",`${fe.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(fe)}const G=(Pe,...vt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Pe](...vt)},ne={provide:_e,useFactory:H,deps:[Ae,h.R0b,[new h.FiY,ge]]};let ke=(()=>{class Pe{constructor(lt){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",h.q4F.full,lt.toString())}static initializeApp(lt,te){return{ngModule:Pe,providers:[{provide:Ae,useValue:lt},{provide:ge,useValue:te}]}}}return Pe.\u0275fac=function(lt){return new(lt||Pe)(h.LFG(h.Lbi))},Pe.\u0275mod=h.oAB({type:Pe}),Pe.\u0275inj=h.cJS({providers:[ne]}),Pe})();function Me(Pe,vt,lt,te,De){const[,se,fe]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Pe)||[];if(se)return function qe(Pe,vt){try{return Pe.toString()===vt.toString()}catch{return Pe===vt}}(De,fe)||(Ze("error",`${vt} was already initialized on the ${lt} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:De,was:fe})),se;{const Ne=te();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Ne,De]),Ne}}const xe=!!pt.hot,Ze=(Pe,...vt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Pe](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(pt,Ce,L)=>{L.d(Ce,{q4:()=>ua,iC:()=>op,fc:()=>Ol,HU:()=>lc,vb:()=>Pl,JM:()=>sp,u3:()=>ap});var h=L(5879),B=L(3182),P=L(5861),J=L(534),ie=L(9058),pe=L(4537),_e=L(7879);const Ae=(E,b)=>b.some(A=>E instanceof A);let ge,H;const ke=new WeakMap,Me=new WeakMap,qe=new WeakMap,xe=new WeakMap,Ze=new WeakMap;let lt={get(E,b,A){if(E instanceof IDBTransaction){if("done"===b)return Me.get(E);if("objectStoreNames"===b)return E.objectStoreNames||qe.get(E);if("store"===b)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return fe(E[b])},set:(E,b,A)=>(E[b]=A,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function se(E){return"function"==typeof E?function De(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...b){return E.apply(Ne(this),b),fe(ke.get(this))}:function(...b){return fe(E.apply(Ne(this),b))}:function(b,...A){const U=E.call(Ne(this),b,...A);return qe.set(U,b.sort?b.sort():[b]),fe(U)}}(E):(E instanceof IDBTransaction&&function vt(E){if(Me.has(E))return;const b=new Promise((A,U)=>{const W=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",de),E.removeEventListener("abort",de)},Y=()=>{A(),W()},de=()=>{U(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",Y),E.addEventListener("error",de),E.addEventListener("abort",de)});Me.set(E,b)}(E),Ae(E,function G(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,lt):E)}function fe(E){if(E instanceof IDBRequest)return function Pe(E){const b=new Promise((A,U)=>{const W=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",de)},Y=()=>{A(fe(E.result)),W()},de=()=>{U(E.error),W()};E.addEventListener("success",Y),E.addEventListener("error",de)});return b.then(A=>{A instanceof IDBCursor&&ke.set(A,E)}).catch(()=>{}),Ze.set(b,E),b}(E);if(xe.has(E))return xe.get(E);const b=se(E);return b!==E&&(xe.set(E,b),Ze.set(b,E)),b}const Ne=E=>Ze.get(E),$e=["get","getKey","getAll","getAllKeys","count"],Jt=["put","add","delete","clear"],cr=new Map;function Gr(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!=typeof b)return;if(cr.get(b))return cr.get(b);const A=b.replace(/FromIndex$/,""),U=b!==A,W=Jt.includes(A);if(!(A in(U?IDBIndex:IDBObjectStore).prototype)||!W&&!$e.includes(A))return;const Y=function(){var de=(0,P.Z)(function*(ze,...je){const ct=this.transaction(ze,W?"readwrite":"readonly");let Ot=ct.store;return U&&(Ot=Ot.index(je.shift())),(yield Promise.all([Ot[A](...je),W&&ct.done]))[0]});return function(je){return de.apply(this,arguments)}}();return cr.set(b,Y),Y}!function te(E){lt=E(lt)}(E=>({...E,get:(b,A,U)=>Gr(b,A)||E.get(b,A,U),has:(b,A)=>!!Gr(b,A)||E.has(b,A)}));const bs="@firebase/installations",ae="0.6.4",we=1e4,Te=`w:${ae}`,Oe="FIS_v2",He="https://firebaseinstallations.googleapis.com/v1",Ve=36e5,tt=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(E){return E instanceof ie.ZR&&E.code.includes("request-failed")}function rn({projectId:E}){return`${He}/projects/${E}/installations`}function yn(E){return{token:E.token,requestStatus:2,expiresIn:Ai(E.expiresIn),creationTime:Date.now()}}function Ln(E,b){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(E,b){const U=(yield b.json()).error;return tt.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function lr({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function tr(E){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,P.Z)(function*(E){const b=yield E();return b.status>=500&&b.status<600?E():b})).apply(this,arguments)}function Ai(E){return Number(E.replace("s","000"))}function Ar(){return(Ar=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:b},{fid:A}){const U=rn(E),W=lr(E),Y=b.getImmediate({optional:!0});if(Y){const ct=yield Y.getHeartbeatsHeader();ct&&W.append("x-firebase-client",ct)}const ze={method:"POST",headers:W,body:JSON.stringify({fid:A,authVersion:Oe,appId:E.appId,sdkVersion:Te})},je=yield tr(()=>fetch(U,ze));if(je.ok){const ct=yield je.json();return{fid:ct.fid||A,registrationStatus:2,refreshToken:ct.refreshToken,authToken:yn(ct.authToken)}}throw yield Ln("Create Installation",je)})).apply(this,arguments)}function jn(E){return new Promise(b=>{setTimeout(b,E)})}const os=/^[cdef][\w-]{21}$/,Ke="";function dt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function Dt(E){return function Wr(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return os.test(A)?A:Ke}catch{return Ke}}function Kt(E){return`${E.appName}!${E.appId}`}const nr=new Map;function ni(E,b){const A=Kt(E);as(A,b),function pn(E,b){const A=function kt(){return!Ur&&"BroadcastChannel"in self&&(Ur=new BroadcastChannel("[Firebase] FID Change"),Ur.onmessage=E=>{as(E.data.key,E.data.fid)}),Ur}();A&&A.postMessage({key:E,fid:b}),function Un(){0===nr.size&&Ur&&(Ur.close(),Ur=null)}()}(A,b)}function as(E,b){const A=nr.get(E);if(A)for(const U of A)U(b)}let Ur=null;const Wi="firebase-installations-database",Ts=1,Mr="firebase-installations-store";let $n=null;function Dn(){return $n||($n=function ee(E,b,{blocked:A,upgrade:U,blocking:W,terminated:Y}={}){const de=indexedDB.open(E,b),ze=fe(de);return U&&de.addEventListener("upgradeneeded",je=>{U(fe(de.result),je.oldVersion,je.newVersion,fe(de.transaction))}),A&&de.addEventListener("blocked",()=>A()),ze.then(je=>{Y&&je.addEventListener("close",()=>Y()),W&&je.addEventListener("versionchange",()=>W())}).catch(()=>{}),ze}(Wi,Ts,{upgrade:(E,b)=>{0===b&&E.createObjectStore(Mr)}})),$n}function Zn(E,b){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,P.Z)(function*(E,b){const A=Kt(E),W=(yield Dn()).transaction(Mr,"readwrite"),Y=W.objectStore(Mr),de=yield Y.get(A);return yield Y.put(b,A),yield W.done,(!de||de.fid!==b.fid)&&ni(E,b.fid),b})).apply(this,arguments)}function rr(E){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(E){const b=Kt(E),U=(yield Dn()).transaction(Mr,"readwrite");yield U.objectStore(Mr).delete(b),yield U.done})).apply(this,arguments)}function qr(E,b){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,P.Z)(function*(E,b){const A=Kt(E),W=(yield Dn()).transaction(Mr,"readwrite"),Y=W.objectStore(Mr),de=yield Y.get(A),ze=b(de);return void 0===ze?yield Y.delete(A):yield Y.put(ze,A),yield W.done,ze&&(!de||de.fid!==ze.fid)&&ni(E,ze.fid),ze})).apply(this,arguments)}function z(E){return j.apply(this,arguments)}function j(){return j=(0,P.Z)(function*(E){let b;const A=yield qr(E.appConfig,U=>{const W=function k(E){return yt(E||{fid:dt(),registrationStatus:0})}(U),Y=function F(E,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(tt.create("app-offline"))};const A={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},U=function N(E,b){return X.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:U}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:ve(E)}:{installationEntry:b}}(E,W);return b=Y.registrationPromise,Y.installationEntry});return A.fid===Ke?{installationEntry:yield b}:{installationEntry:A,registrationPromise:b}}),j.apply(this,arguments)}function X(){return X=(0,P.Z)(function*(E,b){try{const A=yield function Gi(E,b){return Ar.apply(this,arguments)}(E,b);return Zn(E.appConfig,A)}catch(A){throw gt(A)&&409===A.customData.serverCode?yield rr(E.appConfig):yield Zn(E.appConfig,{fid:b.fid,registrationStatus:0}),A}}),X.apply(this,arguments)}function ve(E){return We.apply(this,arguments)}function We(){return(We=(0,P.Z)(function*(E){let b=yield wt(E.appConfig);for(;1===b.registrationStatus;)yield jn(100),b=yield wt(E.appConfig);if(0===b.registrationStatus){const{installationEntry:A,registrationPromise:U}=yield z(E);return U||A}return b})).apply(this,arguments)}function wt(E){return qr(E,b=>{if(!b)throw tt.create("installation-not-found");return yt(b)})}function yt(E){return function ht(E){return 1===E.registrationStatus&&E.registrationTime+we<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function _n(){return(_n=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:b},A){const U=function Lt(E,{fid:b}){return`${rn(E)}/${b}/authTokens:generate`}(E,A),W=function dr(E,{refreshToken:b}){const A=lr(E);return A.append("Authorization",function Eo(E){return`${Oe} ${E}`}(b)),A}(E,A),Y=b.getImmediate({optional:!0});if(Y){const ct=yield Y.getHeartbeatsHeader();ct&&W.append("x-firebase-client",ct)}const ze={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Te,appId:E.appId}})},je=yield tr(()=>fetch(U,ze));if(je.ok)return yn(yield je.json());throw yield Ln("Generate Auth Token",je)})).apply(this,arguments)}function _r(E){return xr.apply(this,arguments)}function xr(){return xr=(0,P.Z)(function*(E,b=!1){let A;const U=yield qr(E.appConfig,Y=>{if(!jt(Y))throw tt.create("not-registered");const de=Y.authToken;if(!b&&function nn(E){return 2===E.requestStatus&&!function vr(E){const b=Date.now();return b<E.creationTime||E.creationTime+E.expiresIn<b+Ve}(E)}(de))return Y;if(1===de.requestStatus)return A=function he(E,b){return re.apply(this,arguments)}(E,b),Y;{if(!navigator.onLine)throw tt.create("app-offline");const ze=function Hn(E){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:b})}(Y);return A=function ft(E,b){return Rt.apply(this,arguments)}(E,ze),ze}});return A?yield A:U.authToken}),xr.apply(this,arguments)}function re(){return(re=(0,P.Z)(function*(E,b){let A=yield Fe(E.appConfig);for(;1===A.authToken.requestStatus;)yield jn(100),A=yield Fe(E.appConfig);const U=A.authToken;return 0===U.requestStatus?_r(E,b):U})).apply(this,arguments)}function Fe(E){return qr(E,b=>{if(!jt(b))throw tt.create("not-registered");return function Ks(E){return 1===E.requestStatus&&E.requestTime+we<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function Rt(){return Rt=(0,P.Z)(function*(E,b){try{const A=yield function xt(E,b){return _n.apply(this,arguments)}(E,b),U=Object.assign(Object.assign({},b),{authToken:A});return yield Zn(E.appConfig,U),A}catch(A){if(!gt(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const U=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield Zn(E.appConfig,U)}else yield rr(E.appConfig);throw A}}),Rt.apply(this,arguments)}function jt(E){return void 0!==E&&2===E.registrationStatus}function xa(){return(xa=(0,P.Z)(function*(E){const b=E,{installationEntry:A,registrationPromise:U}=yield z(b);return U?U.catch(console.error):_r(b).catch(console.error),A.fid})).apply(this,arguments)}function ri(){return ri=(0,P.Z)(function*(E,b=!1){const A=E;return yield function Ys(E){return Do.apply(this,arguments)}(A),(yield _r(A,b)).token}),ri.apply(this,arguments)}function Do(){return(Do=(0,P.Z)(function*(E){const{registrationPromise:b}=yield z(E);b&&(yield b)})).apply(this,arguments)}function Yo(E){return tt.create("missing-app-config-values",{valueName:E})}const Qc="installations",Na=E=>{const b=E.getProvider("app").getImmediate(),A=function Su(E){if(!E||!E.options)throw Yo("App Configuration");if(!E.name)throw Yo("App Name");const b=["projectId","apiKey","appId"];for(const A of b)if(!E.options[A])throw Yo(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(b);return{app:b,appConfig:A,heartbeatServiceProvider:(0,J._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},Pa=E=>{const b=E.getProvider("app").getImmediate(),A=(0,J._getProvider)(b,Qc).getImmediate();return{getId:()=>function Io(E){return xa.apply(this,arguments)}(A),getToken:W=>function Sd(E){return ri.apply(this,arguments)}(A,W)}};(function Md(){(0,J._registerComponent)(new pe.wA(Qc,Na,"PUBLIC")),(0,J._registerComponent)(new pe.wA("installations-internal",Pa,"PRIVATE"))})(),(0,J.registerVersion)(bs,ae),(0,J.registerVersion)(bs,ae,"esm2017");const Au="@firebase/remote-config",gn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fa{constructor(b,A,U,W){this.client=b,this.storage=A,this.storageCache=U,this.logger=W}isCachedDataFresh(b,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-A,W=U<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${W}.`),W}fetch(b){var A=this;return(0,P.Z)(function*(){const[U,W]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(W&&A.isCachedDataFresh(b.cacheMaxAgeMillis,U))return W;b.eTag=W&&W.eTag;const Y=yield A.client.fetch(b),de=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&de.push(A.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(de),Y})()}}function Nu(E=navigator){return E.languages&&E.languages[0]||E.language}class Qs{constructor(b,A,U,W,Y,de){this.firebaseInstallations=b,this.sdkVersion=A,this.namespace=U,this.projectId=W,this.apiKey=Y,this.appId=de}fetch(b){var A=this;return(0,P.Z)(function*(){const[U,W]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),de=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},je={sdk_version:A.sdkVersion,app_instance_id:U,app_instance_id_token:W,app_id:A.appId,language_code:Nu()},ct={method:"POST",headers:ze,body:JSON.stringify(je)},Ot=fetch(de,ct),St=new Promise((Ii,_s)=>{b.signal.addEventListener(()=>{const Fl=new Error("The operation was aborted.");Fl.name="AbortError",_s(Fl)})});let Fr;try{yield Promise.race([Ot,St]),Fr=yield Ot}catch(Ii){let _s="fetch-client-network";throw"AbortError"===Ii?.name&&(_s="fetch-timeout"),gn.create(_s,{originalErrorMessage:Ii?.message})}let sr=Fr.status;const ms=Fr.headers.get("ETag")||void 0;let dc,ys;if(200===Fr.status){let Ii;try{Ii=yield Fr.json()}catch(_s){throw gn.create("fetch-client-parse",{originalErrorMessage:_s?.message})}dc=Ii.entries,ys=Ii.state}if("INSTANCE_STATE_UNSPECIFIED"===ys?sr=500:"NO_CHANGE"===ys?sr=304:("NO_TEMPLATE"===ys||"EMPTY_CONFIG"===ys)&&(dc={}),304!==sr&&200!==sr)throw gn.create("fetch-status",{httpStatus:sr});return{status:sr,eTag:ms,config:dc}})()}}class bo{constructor(b,A){this.client=b,this.storage=A}fetch(b){var A=this;return(0,P.Z)(function*(){const U=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(b,U)})()}attemptFetch(b,{throttleEndTimeMillis:A,backoffCount:U}){var W=this;return(0,P.Z)(function*(){yield function On(E,b){return new Promise((A,U)=>{const W=Math.max(b-Date.now(),0),Y=setTimeout(A,W);E.addEventListener(()=>{clearTimeout(Y),U(gn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,A);try{const Y=yield W.client.fetch(b);return yield W.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Pu(E){if(!(E instanceof ie.ZR&&E.customData))return!1;const b=Number(E.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Y))throw Y;const de={throttleEndTimeMillis:Date.now()+(0,ie.$s)(U),backoffCount:U+1};return yield W.storage.setThrottleMetadata(de),W.attemptFetch(b,de)}})()}}class Ou{constructor(b,A,U,W,Y){this.app=b,this._client=A,this._storageCache=U,this._storage=W,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nr(E,b){const A=E.target.error||void 0;return gn.create(b,{originalErrorMessage:A&&A?.message})}const Yr="app_namespace_store";class jf{constructor(b,A,U,W=function sn(){return new Promise((E,b)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=U=>{b(Nr(U,"storage-open"))},A.onsuccess=U=>{E(U.target.result)},A.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Yr,{keyPath:"compositeKey"})}}catch(A){b(gn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=b,this.appName=A,this.namespace=U,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var A=this;return(0,P.Z)(function*(){const U=yield A.openDbPromise;return new Promise((W,Y)=>{const ze=U.transaction([Yr],"readonly").objectStore(Yr),je=A.createCompositeKey(b);try{const ct=ze.get(je);ct.onerror=Ot=>{Y(Nr(Ot,"storage-get"))},ct.onsuccess=Ot=>{const St=Ot.target.result;W(St?St.value:void 0)}}catch(ct){Y(gn.create("storage-get",{originalErrorMessage:ct?.message}))}})})()}set(b,A){var U=this;return(0,P.Z)(function*(){const W=yield U.openDbPromise;return new Promise((Y,de)=>{const je=W.transaction([Yr],"readwrite").objectStore(Yr),ct=U.createCompositeKey(b);try{const Ot=je.put({compositeKey:ct,value:A});Ot.onerror=St=>{de(Nr(St,"storage-set"))},Ot.onsuccess=()=>{Y()}}catch(Ot){de(gn.create("storage-set",{originalErrorMessage:Ot?.message}))}})})()}delete(b){var A=this;return(0,P.Z)(function*(){const U=yield A.openDbPromise;return new Promise((W,Y)=>{const ze=U.transaction([Yr],"readwrite").objectStore(Yr),je=A.createCompositeKey(b);try{const ct=ze.delete(je);ct.onerror=Ot=>{Y(Nr(Ot,"storage-delete"))},ct.onsuccess=()=>{W()}}catch(ct){Y(gn.create("storage-delete",{originalErrorMessage:ct?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class cs{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,P.Z)(function*(){const A=b.storage.getLastFetchStatus(),U=b.storage.getLastSuccessfulFetchTimestampMillis(),W=b.storage.getActiveConfig(),Y=yield A;Y&&(b.lastFetchStatus=Y);const de=yield U;de&&(b.lastSuccessfulFetchTimestampMillis=de);const ze=yield W;ze&&(b.activeConfig=ze)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function Xo(){return ea.apply(this,arguments)}function ea(){return(ea=(0,P.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function To(){(0,J._registerComponent)(new pe.wA("remote-config",function E(b,{instanceIdentifier:A}){const U=b.getProvider("app").getImmediate(),W=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gn.create("registration-window");if(!(0,ie.hl)())throw gn.create("indexed-db-unavailable");const{projectId:Y,apiKey:de,appId:ze}=U.options;if(!Y)throw gn.create("registration-project-id");if(!de)throw gn.create("registration-api-key");if(!ze)throw gn.create("registration-app-id");const je=new jf(ze,U.name,A=A||"firebase"),ct=new cs(je),Ot=new _e.Yd(Au);Ot.logLevel=_e.in.ERROR;const St=new Qs(W,J.SDK_VERSION,A,Y,de,ze),Fr=new bo(St,je),sr=new Fa(Fr,je,ct,Ot),ms=new Ou(U,sr,ct,je,Ot);return function Pt(E){const b=(0,ie.m9)(E);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(ms),ms},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(Au,"0.4.4"),(0,J.registerVersion)(Au,"0.4.4","esm2017")}();const Pr=(E,b)=>b.some(A=>E instanceof A);let La,Vr;const Ki=new WeakMap,Js=new WeakMap,Cn=new WeakMap,ta=new WeakMap,Rd=new WeakMap;let nl={get(E,b,A){if(E instanceof IDBTransaction){if("done"===b)return Js.get(E);if("objectStoreNames"===b)return E.objectStoreNames||Cn.get(E);if("store"===b)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return ls(E[b])},set:(E,b,A)=>(E[b]=A,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function Nd(E){return"function"==typeof E?function Jg(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xc(){return Vr||(Vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...b){return E.apply(rl(this),b),ls(Ki.get(this))}:function(...b){return ls(E.apply(rl(this),b))}:function(b,...A){const U=E.call(rl(this),b,...A);return Cn.set(U,b.sort?b.sort():[b]),ls(U)}}(E):(E instanceof IDBTransaction&&function tl(E){if(Js.has(E))return;const b=new Promise((A,U)=>{const W=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",de),E.removeEventListener("abort",de)},Y=()=>{A(),W()},de=()=>{U(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",Y),E.addEventListener("error",de),E.addEventListener("abort",de)});Js.set(E,b)}(E),Pr(E,function Br(){return La||(La=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,nl):E)}function ls(E){if(E instanceof IDBRequest)return function el(E){const b=new Promise((A,U)=>{const W=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",de)},Y=()=>{A(ls(E.result)),W()},de=()=>{U(E.error),W()};E.addEventListener("success",Y),E.addEventListener("error",de)});return b.then(A=>{A instanceof IDBCursor&&Ki.set(A,E)}).catch(()=>{}),Rd.set(b,E),b}(E);if(ta.has(E))return ta.get(E);const b=Nd(E);return b!==E&&(ta.set(E,b),Rd.set(b,E)),b}const rl=E=>Rd.get(E);function il(E,b,{blocked:A,upgrade:U,blocking:W,terminated:Y}={}){const de=indexedDB.open(E,b),ze=ls(de);return U&&de.addEventListener("upgradeneeded",je=>{U(ls(de.result),je.oldVersion,je.newVersion,ls(de.transaction))}),A&&de.addEventListener("blocked",()=>A()),ze.then(je=>{Y&&je.addEventListener("close",()=>Y()),W&&je.addEventListener("versionchange",()=>W())}).catch(()=>{}),ze}function ku(E,{blocked:b}={}){const A=indexedDB.deleteDatabase(E);return b&&A.addEventListener("blocked",()=>b()),ls(A).then(()=>{})}const Hf=["get","getKey","getAll","getAllKeys","count"],Pd=["put","add","delete","clear"],Od=new Map;function kd(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!=typeof b)return;if(Od.get(b))return Od.get(b);const A=b.replace(/FromIndex$/,""),U=b!==A,W=Pd.includes(A);if(!(A in(U?IDBIndex:IDBObjectStore).prototype)||!W&&!Hf.includes(A))return;const Y=function(){var de=(0,P.Z)(function*(ze,...je){const ct=this.transaction(ze,W?"readwrite":"readonly");let Ot=ct.store;return U&&(Ot=Ot.index(je.shift())),(yield Promise.all([Ot[A](...je),W&&ct.done]))[0]});return function(je){return de.apply(this,arguments)}}();return Od.set(b,Y),Y}!function $f(E){nl=E(nl)}(E=>({...E,get:(b,A,U)=>kd(b,A)||E.get(b,A,U),has:(b,A)=>!!kd(b,A)||E.has(b,A)}));const sl="/firebase-messaging-sw.js",Fd="/firebase-cloud-messaging-push-scope",Fu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ol="https://fcmregistrations.googleapis.com/v1",zf="google.c.a.c_id",zn="google.c.a.c_l",J_="google.c.a.ts";var eo=(()=>((eo=eo||{}).PUSH_RECEIVED="push-received",eo.NOTIFICATION_CLICKED="notification-clicked",eo))();function ii(E){const b=new Uint8Array(E);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function al(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(A),W=new Uint8Array(U.length);for(let Y=0;Y<U.length;++Y)W[Y]=U.charCodeAt(Y);return W}const Ua="fcm_token_details_db",Va=5,Gf="fcm_token_object_Store";function Lu(){return Lu=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(Ua))return null;let b=null;return(yield il(Ua,Va,{upgrade:(U=(0,P.Z)(function*(W,Y,de,ze){var je;if(Y<2||!W.objectStoreNames.contains(Gf))return;const ct=ze.objectStore(Gf),Ot=yield ct.index("fcmSenderId").get(E);if(yield ct.clear(),Ot)if(2===Y){const St=Ot;if(!St.auth||!St.p256dh||!St.endpoint)return;b={token:St.fcmToken,createTime:null!==(je=St.createTime)&&void 0!==je?je:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:ii(St.vapidKey)}}}else if(3===Y){const St=Ot;b={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ii(St.auth),p256dh:ii(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ii(St.vapidKey)}}}else if(4===Y){const St=Ot;b={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ii(St.auth),p256dh:ii(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ii(St.vapidKey)}}}}),function(Y,de,ze,je){return U.apply(this,arguments)})})).close(),yield ku(Ua),yield ku("fcm_vapid_details_db"),yield ku("undefined"),function Mi(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:b}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var U}),Lu.apply(this,arguments)}const Uu="firebase-messaging-database",Gn=1,Ei="firebase-messaging-store";let ul=null;function Vu(){return ul||(ul=il(Uu,Gn,{upgrade:(E,b)=>{0===b&&E.createObjectStore(Ei)}})),ul}function Ao(E){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,P.Z)(function*(E){const b=Ud(E),U=yield(yield Vu()).transaction(Ei).objectStore(Ei).get(b);if(U)return U;{const W=yield function Wf(E){return Lu.apply(this,arguments)}(E.appConfig.senderId);if(W)return yield Bu(E,W),W}}),Mo.apply(this,arguments)}function Bu(E,b){return qf.apply(this,arguments)}function qf(){return(qf=(0,P.Z)(function*(E,b){const A=Ud(E),W=(yield Vu()).transaction(Ei,"readwrite");return yield W.objectStore(Ei).put(b,A),yield W.done,b})).apply(this,arguments)}function to(){return(to=(0,P.Z)(function*(E){const b=Ud(E),U=(yield Vu()).transaction(Ei,"readwrite");yield U.objectStore(Ei).delete(b),yield U.done})).apply(this,arguments)}function Ud({appConfig:E}){return E.appId}const Er=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function X_(E,b){return ll.apply(this,arguments)}function ll(){return(ll=(0,P.Z)(function*(E,b){const A=yield na(E),U=hl(b),W={method:"POST",headers:A,body:JSON.stringify(U)};let Y;try{Y=yield(yield fetch(ju(E.appConfig),W)).json()}catch(de){throw Er.create("token-subscribe-failed",{errorInfo:de?.toString()})}if(Y.error)throw Er.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw Er.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*(E,b){const A=yield na(E),U=hl(b.subscriptionOptions),W={method:"PATCH",headers:A,body:JSON.stringify(U)};let Y;try{Y=yield(yield fetch(`${ju(E.appConfig)}/${b.token}`,W)).json()}catch(de){throw Er.create("token-update-failed",{errorInfo:de?.toString()})}if(Y.error)throw Er.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw Er.create("token-update-no-token");return Y.token})).apply(this,arguments)}function Zf(E,b){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(E,b){const U={method:"DELETE",headers:yield na(E)};try{const Y=yield(yield fetch(`${ju(E.appConfig)}/${b}`,U)).json();if(Y.error)throw Er.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(W){throw Er.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function ju({projectId:E}){return`${ol}/projects/${E}/registrations`}function na(E){return dl.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*({appConfig:E,installations:b}){const A=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function hl({p256dh:E,auth:b,endpoint:A,vapidKey:U}){const W={web:{endpoint:A,auth:b,p256dh:E}};return U!==Fu&&(W.web.applicationPubKey=U),W}const Kf=6048e5;function Vd(){return Vd=(0,P.Z)(function*(E){const b=yield function $u(E,b){return ra.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:b.endpoint,auth:ii(b.getKey("auth")),p256dh:ii(b.getKey("p256dh"))},U=yield Ao(E.firebaseDependencies);if(U){if(function jr(E,b){return b.vapidKey===E.vapidKey&&b.endpoint===E.endpoint&&b.auth===E.auth&&b.p256dh===E.p256dh}(U.subscriptionOptions,A))return Date.now()>=U.createTime+Kf?function Yi(E,b){return ml.apply(this,arguments)}(E,{token:U.token,createTime:Date.now(),subscriptionOptions:A}):U.token;try{yield Zf(E.firebaseDependencies,U.token)}catch(W){console.warn(W)}return xo(E.firebaseDependencies,A)}return xo(E.firebaseDependencies,A)}),Vd.apply(this,arguments)}function gl(){return gl=(0,P.Z)(function*(E){const b=yield Ao(E.firebaseDependencies);b&&(yield Zf(E.firebaseDependencies,b.token),yield function Ld(E){return to.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),gl.apply(this,arguments)}function ml(){return ml=(0,P.Z)(function*(E,b){try{const A=yield function em(E,b){return Ba.apply(this,arguments)}(E.firebaseDependencies,b),U=Object.assign(Object.assign({},b),{token:A,createTime:Date.now()});return yield Bu(E.firebaseDependencies,U),A}catch(A){throw yield function pl(E){return gl.apply(this,arguments)}(E),A}}),ml.apply(this,arguments)}function xo(E,b){return wn.apply(this,arguments)}function wn(){return(wn=(0,P.Z)(function*(E,b){const U={token:yield X_(E,b),createTime:Date.now(),subscriptionOptions:b};return yield Bu(E,U),U.token})).apply(this,arguments)}function ra(){return(ra=(0,P.Z)(function*(E,b){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:al(b)})})).apply(this,arguments)}function ia(E){const b={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Bd(E,b){if(!b.notification)return;E.notification={};const A=b.notification.title;A&&(E.notification.title=A);const U=b.notification.body;U&&(E.notification.body=U);const W=b.notification.image;W&&(E.notification.image=W);const Y=b.notification.icon;Y&&(E.notification.icon=Y)}(b,E),function no(E,b){b.data&&(E.data=b.data)}(b,E),function xi(E,b){var A,U,W,Y,de;if(!(b.fcmOptions||null!==(A=b.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const ze=null!==(W=null===(U=b.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==W?W:null===(Y=b.notification)||void 0===Y?void 0:Y.click_action;ze&&(E.fcmOptions.link=ze);const je=null===(de=b.fcmOptions)||void 0===de?void 0:de.analytics_label;je&&(E.fcmOptions.analyticsLabel=je)}(b,E),b}function jd(E,b){const A=[];for(let U=0;U<E.length;U++)A.push(E.charAt(U)),U<b.length&&A.push(b.charAt(U));return A.join("")}function ds(E){return Er.create("missing-app-config-values",{valueName:E})}jd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hd{constructor(b,A,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function $d(E){if(!E||!E.options)throw ds("App Configuration Object");if(!E.name)throw ds("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const U of b)if(!A[U])throw ds(U);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:W,installations:A,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Hu(){return(Hu=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(sl,{scope:Fd}),E.swRegistration.update().catch(()=>{})}catch(b){throw Er.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function Ri(){return(Ri=(0,P.Z)(function*(E,b){if(!b&&!E.swRegistration&&(yield function yl(E){return Hu.apply(this,arguments)}(E)),b||!E.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw Er.create("invalid-sw-registration");E.swRegistration=b}})).apply(this,arguments)}function At(){return(At=(0,P.Z)(function*(E,b){b?E.vapidKey=b:E.vapidKey||(E.vapidKey=Fu)})).apply(this,arguments)}function zd(){return zd=(0,P.Z)(function*(E,b){if(!navigator)throw Er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Er.create("permission-blocked");return yield function zu(E,b){return At.apply(this,arguments)}(E,b?.vapidKey),yield function sa(E,b){return Ri.apply(this,arguments)}(E,b?.serviceWorkerRegistration),function fl(E){return Vd.apply(this,arguments)}(E)}),zd.apply(this,arguments)}function vl(){return(vl=(0,P.Z)(function*(E,b,A){const U=function Qf(E){switch(E){case eo.NOTIFICATION_CLICKED:return"notification_open";case eo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:A[zf],message_name:A[zn],message_time:A[J_],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qi(){return Qi=(0,P.Z)(function*(E,b){const A=b.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===eo.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(ia(A)):E.onMessageHandler.next(ia(A)));const U=A.data;(function Yf(E){return"object"==typeof E&&!!E&&zf in E})(U)&&"1"===U["google.c.a.e"]&&(yield function tm(E,b,A){return vl.apply(this,arguments)}(E,A.messageType,U))}),Qi.apply(this,arguments)}const Gu="@firebase/messaging",Jf=E=>{const b=new Hd(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function $a(E,b){return Qi.apply(this,arguments)}(b,A)),b},Gd=E=>{const b=E.getProvider("messaging").getImmediate();return{getToken:U=>function _l(E,b){return zd.apply(this,arguments)}(b,U)}};function Se(){return en.apply(this,arguments)}function en(){return(en=(0,P.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xf(){(0,J._registerComponent)(new pe.wA("messaging",Jf,"PUBLIC")),(0,J._registerComponent)(new pe.wA("messaging-internal",Gd,"PRIVATE")),(0,J.registerVersion)(Gu,"0.12.4"),(0,J.registerVersion)(Gu,"0.12.4","esm2017")}();const El="analytics",Wd="firebase_id",qd="origin",Or=6e4,hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zu="https://www.googletagmanager.com/gtag/js",kn=new _e.Yd("@firebase/analytics"),fr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Il(E){if(!E.startsWith(Zu)){const b=fr.create("invalid-gtag-resource",{gtagURL:E});return kn.warn(b.message),""}return E}function za(E){return Promise.all(E.map(b=>b.catch(A=>A)))}function ro(){return(ro=(0,P.Z)(function*(E,b,A,U,W,Y){const de=U[W];try{if(de)yield b[de];else{const je=(yield za(A)).find(ct=>ct.measurementId===W);je&&(yield b[je.appId])}}catch(ze){kn.error(ze)}E("config",W,Y)})).apply(this,arguments)}function oa(){return(oa=(0,P.Z)(function*(E,b,A,U,W){try{let Y=[];if(W&&W.send_to){let de=W.send_to;Array.isArray(de)||(de=[de]);const ze=yield za(A);for(const je of de){const ct=ze.find(St=>St.measurementId===je),Ot=ct&&b[ct.appId];if(!Ot){Y=[];break}Y.push(Ot)}}0===Y.length&&(Y=Object.values(b)),yield Promise.all(Y),E("event",U,W||{})}catch(Y){kn.error(Y)}})).apply(this,arguments)}const nm=30,Qd=new class Yd{constructor(b={},A=1e3){this.throttleMetadata=b,this.intervalMillis=A}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,A){this.throttleMetadata[b]=A}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function rm(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function so(){return(so=(0,P.Z)(function*(E){var b;const{appId:A,apiKey:U}=E,W={method:"GET",headers:rm(U)},Y=hs.replace("{app-id}",A),de=yield fetch(Y,W);if(200!==de.status&&304!==de.status){let ze="";try{const je=yield de.json();null!==(b=je.error)&&void 0!==b&&b.message&&(ze=je.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:de.status,responseMessage:ze})}return de.json()})).apply(this,arguments)}function Jd(){return(Jd=(0,P.Z)(function*(E,b=Qd,A){const{appId:U,apiKey:W,measurementId:Y}=E.options;if(!U)throw fr.create("no-app-id");if(!W){if(Y)return{measurementId:Y,appId:U};throw fr.create("no-api-key")}const de=b.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Cl;return setTimeout((0,P.Z)(function*(){ze.abort()}),void 0!==A?A:Or),np({appId:U,apiKey:W,measurementId:Y},de,ze,b)})).apply(this,arguments)}function np(E,b,A){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,P.Z)(function*(E,{throttleEndTimeMillis:b,backoffCount:A},U,W=Qd){var Y;const{appId:de,measurementId:ze}=E;try{yield function eh(E,b){return new Promise((A,U)=>{const W=Math.max(b-Date.now(),0),Y=setTimeout(A,W);E.addEventListener(()=>{clearTimeout(Y),U(fr.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(U,b)}catch(je){if(ze)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${je?.message}]`),{appId:de,measurementId:ze};throw je}try{const je=yield function si(E){return so.apply(this,arguments)}(E);return W.deleteThrottleMetadata(de),je}catch(je){const ct=je;if(!function th(E){if(!(E instanceof ie.ZR&&E.customData))return!1;const b=Number(E.customData.httpStatus);return 429===b||500===b||503===b||504===b}(ct)){if(W.deleteThrottleMetadata(de),ze)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:de,measurementId:ze};throw je}const Ot=503===Number(null===(Y=ct?.customData)||void 0===Y?void 0:Y.httpStatus)?(0,ie.$s)(A,W.intervalMillis,nm):(0,ie.$s)(A,W.intervalMillis),St={throttleEndTimeMillis:Date.now()+Ot,backoffCount:A+1};return W.setThrottleMetadata(de,St),kn.debug(`Calling attemptFetch again in ${Ot} millis`),np(E,St,U,W)}}),Xd.apply(this,arguments)}class Cl{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let Wa,Za;function nh(){return(nh=(0,P.Z)(function*(E,b,A,U,W){if(W&&W.global)E("event",A,U);else{const Y=yield b;E("event",A,Object.assign(Object.assign({},U),{send_to:Y}))}})).apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(){if(!(0,ie.hl)())return kn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(E){return kn.warn(fr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ao(){return ao=(0,P.Z)(function*(E,b,A,U,W,Y,de){var ze;const je=function Mn(E){return Jd.apply(this,arguments)}(E);je.then(sr=>{A[sr.measurementId]=sr.appId,E.options.measurementId&&sr.measurementId!==E.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${sr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sr=>kn.error(sr)),b.push(je);const ct=function Ya(){return kr.apply(this,arguments)}().then(sr=>{if(sr)return U.getId()}),[Ot,St]=yield Promise.all([je,ct]);(function Dl(E){const b=window.document.getElementsByTagName("script");for(const A of Object.values(b))if(A.src&&A.src.includes(Zu)&&A.src.includes(E))return A;return null})(Y)||function Zd(E,b){const A=function Ku(E,b){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,b)),A}("firebase-js-sdk-policy",{createScriptURL:Il}),U=document.createElement("script"),W=`${Zu}?l=${E}&id=${b}`;U.src=A?A?.createScriptURL(W):W,U.async=!0,document.head.appendChild(U)}(Y,Ot.measurementId),Za&&(W("consent","default",Za),function Po(E){Za=E}(void 0)),W("js",new Date);const Fr=null!==(ze=de?.config)&&void 0!==ze?ze:{};return Fr[qd]="firebase",Fr.update=!0,null!=St&&(Fr[Wd]=St),W("config",Ot.measurementId,Fr),Wa&&(W("set",Wa),function Ka(E){Wa=E}(void 0)),Ot.measurementId}),ao.apply(this,arguments)}class tc{constructor(b){this.app=b}_delete(){return delete ai[this.app.options.appId],Promise.resolve()}}let ai={},Al=[];const Qa={};let ps,Ji,xs="dataLayer",Oo=!1;function rp(E,b,A){!function Pi(){const E=[];if((0,ie.ru)()&&E.push("This is a browser extension environment."),(0,ie.zI)()||E.push("Cookies are not available."),E.length>0){const b=E.map((U,W)=>`(${W+1}) ${U}`).join(" "),A=fr.create("invalid-analytics-context",{errorInfo:b});kn.warn(A.message)}}();const U=E.options.appId;if(!U)throw fr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw fr.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ai[U])throw fr.create("already-exists",{id:U});if(!Oo){!function Ga(E){let b=[];Array.isArray(window[E])?b=window[E]:window[E]=b}(xs);const{wrappedGtag:Y,gtagCore:de}=function Ju(E,b,A,U,W){let Y=function(...de){window[U].push(arguments)};return window[W]&&"function"==typeof window[W]&&(Y=window[W]),window[W]=function Qu(E,b,A,U){function Y(){return Y=(0,P.Z)(function*(de,...ze){try{if("event"===de){const[je,ct]=ze;yield function io(E,b,A,U,W){return oa.apply(this,arguments)}(E,b,A,je,ct)}else if("config"===de){const[je,ct]=ze;yield function Yu(E,b,A,U,W,Y){return ro.apply(this,arguments)}(E,b,A,U,je,ct)}else if("consent"===de){const[je]=ze;E("consent","update",je)}else if("get"===de){const[je,ct,Ot]=ze;E("get",je,ct,Ot)}else if("set"===de){const[je]=ze;E("set",je)}else E(de,...ze)}catch(je){kn.error(je)}}),Y.apply(this,arguments)}return function W(de){return Y.apply(this,arguments)}}(Y,E,b,A),{gtagCore:Y,wrappedGtag:window[W]}}(ai,Al,Qa,xs,"gtag");Ji=Y,ps=de,Oo=!0}return ai[U]=function Vt(E,b,A,U,W,Y,de){return ao.apply(this,arguments)}(E,Al,Qa,b,ps,xs,A),new tc(E)}function Ml(){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,P.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const xl="@firebase/analytics";!function ko(){(0,J._registerComponent)(new pe.wA(El,(b,{options:A})=>rp(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,J._registerComponent)(new pe.wA("analytics-internal",function E(b){try{const A=b.getProvider(El).getImmediate();return{logEvent:(U,W,Y)=>function aa(E,b,A,U){E=(0,ie.m9)(E),function Ro(E,b,A,U,W){return nh.apply(this,arguments)}(Ji,ai[E.app.options.appId],b,A,U).catch(W=>kn.error(W))}(A,U,W,Y)}}catch(A){throw fr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,J.registerVersion)(xl,"0.10.0"),(0,J.registerVersion)(xl,"0.10.0","esm2017")}();var Fo=L(1954),Xa=L(2631);const ip=new class sc extends Xa.v{}(class sh extends Fo.o{constructor(b,A){super(b,A),this.scheduler=b,this.work=A}schedule(b,A=0){return A>0?super.schedule(b,A):(this.delay=A,this.state=b,this.scheduler.flush(this),this)}execute(b,A){return A>0||this.closed?super.execute(b,A):this._execute(b,A)}requestAsyncId(b,A,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(b,A,U):(b.flush(this),0)}});var ac=L(6321),Xi=L(5592),Ns=L(9397),ki=L(3093),eu=L(5137);const ua=new h.GfV("7.6.1"),Ps="__angularfire_symbol__analyticsIsSupportedValue",tu="__angularfire_symbol__analyticsIsSupported",Lo="__angularfire_symbol__remoteConfigIsSupportedValue",uc="__angularfire_symbol__remoteConfigIsSupported",Rl="__angularfire_symbol__messagingIsSupportedValue",cc="__angularfire_symbol__messagingIsSupported";function sp(E,b,A){if(b){if(1===b.length)return b[0];const Y=b.filter(de=>de.app===A);if(1===Y.length)return Y[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[tu]||(globalThis[tu]=Ml().then(E=>globalThis[Ps]=E).catch(()=>globalThis[Ps]=!1)),globalThis[cc]||(globalThis[cc]=Se().then(E=>globalThis[Rl]=E).catch(()=>globalThis[Rl]=!1)),globalThis[uc]||(globalThis[uc]=Xo().then(E=>globalThis[Lo]=E).catch(()=>globalThis[Lo]=!1));const Pl=(E,b)=>{const A=b?[b]:(0,B.C6)(),U=[];return A.forEach(W=>{W.container.getProvider(E).instances.forEach(de=>{U.includes(de)||U.push(de)})}),U};function En(){}class nu{constructor(b,A=ip){this.zone=b,this.delegate=A}now(){return this.delegate.now()}schedule(b,A,U){const W=this.zone;return this.delegate.schedule(function(de){W.runGuarded(()=>{b.apply(this,[de])})},A,U)}}class co{constructor(b){this.zone=b,this.task=null}call(b,A){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",En,{},En,En)),A.pipe((0,Ns.b)({next:U,complete:U,error:U})).subscribe(b).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lc=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new nu(Zone.current)),this.insideAngular=A.run(()=>new nu(Zone.current,ac.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(h.LFG(h.R0b))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ir(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Uo(E){return ir().ngZone.run(()=>E())}function Ol(E){return E.pipe((0,ki.Q)(ir().outsideAngular))}function op(E){return ir(),function ev(E){return function(A){return(A=A.lift(new co(E.ngZone))).pipe((0,eu.R)(E.outsideAngular),(0,ki.Q)(E.insideAngular))}}(ir())(E)}const am=(E,b)=>function(){const U=arguments;return b&&setTimeout(()=>{"scheduled"===b.state&&b.invoke()},10),Uo(()=>E.apply(void 0,U))},ap=(E,b)=>function(){let A;const U=arguments;for(let Y=0;Y<arguments.length;Y++)"function"==typeof U[Y]&&(b&&(A||(A=Uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",En,{},En,En)))),U[Y]=am(U[Y],A));const W=function ru(E){return ir().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,U));if(!b){if(W instanceof Xi.y){const Y=ir();return W.pipe((0,eu.R)(Y.outsideAngular),(0,ki.Q)(Y.insideAngular))}return Uo(()=>W)}return W instanceof Xi.y?W.pipe(op):W instanceof Promise?Uo(()=>new Promise((Y,de)=>W.then(ze=>Uo(()=>Y(ze)),ze=>Uo(()=>de(ze))))):"function"==typeof W&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),W.apply(this,arguments)}:Uo(()=>W)}},6878:(pt,Ce,L)=>{L.d(Ce,{$:()=>sl,A:()=>G,D:()=>Me,I:()=>Ad,J:()=>Na,L:()=>Tt,N:()=>qr,P:()=>Vt,Q:()=>jf,R:()=>bl,U:()=>So,V:()=>Xo,W:()=>ea,X:()=>wi,Y:()=>Br,Z:()=>Xc,_:()=>Rd,a:()=>hr,a0:()=>Fu,a1:()=>zf,a2:()=>Xg,a3:()=>Gf,a4:()=>Lu,a5:()=>Uu,a6:()=>Ei,a7:()=>Vu,a8:()=>Mo,a9:()=>qf,aA:()=>ee,aB:()=>tu,aC:()=>rr,aD:()=>Yt,aE:()=>Ns,aF:()=>ih,aG:()=>rh,aH:()=>Kn,aL:()=>Qr,aO:()=>La,aa:()=>Ld,ab:()=>Ud,ac:()=>cl,ad:()=>em,ae:()=>Zf,af:()=>ju,ai:()=>Kf,aj:()=>Vd,ak:()=>pl,an:()=>Jg,ao:()=>Bd,aq:()=>At,ar:()=>Gu,as:()=>$e,at:()=>yt,au:()=>ve,av:()=>te,aw:()=>St,ax:()=>cc,ay:()=>ht,az:()=>De,b:()=>wl,c:()=>Ji,d:()=>rp,e:()=>im,f:()=>xl,g:()=>sc,h:()=>Fo,i:()=>Kd,j:()=>ac,k:()=>ys,l:()=>oo,m:()=>Fl,o:()=>lm,p:()=>Ae,r:()=>Sl,s:()=>oi,u:()=>Ya});var h=L(5861),B=L(9058),P=L(534),J=L(7582),ie=L(7879),pe=L(4537);const Ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},qe=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new ie.Yd("@firebase/auth");function lt(v,...p){Pe.logLevel<=ie.in.ERROR&&Pe.error(`Auth (${P.SDK_VERSION}): ${v}`,...p)}function te(v,...p){throw Ne(v,...p)}function De(v,...p){return Ne(v,...p)}function se(v,p,m){const I=Object.assign(Object.assign({},qe()),{[p]:m});return new B.LL("auth","Firebase",I).create(p,{appName:v.name})}function fe(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&te(v,"argument-error"),se(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(v,...p){if("string"!=typeof v){const m=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return xe.create(v,...p)}function ee(v,p,...m){if(!v)throw Ne(p,...m)}function et(v){const p="INTERNAL ASSERTION FAILED: "+v;throw lt(p),new Error(p)}function $e(v,p){v||et(p)}function Jt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function cr(){return"http:"===Gr()||"https:"===Gr()}function Gr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class we{constructor(p,m){this.shortDelay=p,this.longDelay=m,$e(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function bs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cr()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Te(v,p){$e(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Oe{static initialize(p,m,I){this.fetchImpl=p,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ve=new we(3e4,6e4);function Ye(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function ot(v,p,m,I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(v,p,m,I,M={}){return tt(v,M,(0,h.Z)(function*(){let O={},Z={};I&&("GET"===p?Z=I:O={body:JSON.stringify(I)});const le=(0,B.xO)(Object.assign({key:v.config.apiKey},Z)).slice(1),Be=yield v._getAdditionalHeaders();return Be["Content-Type"]="application/json",v.languageCode&&(Be["X-Firebase-Locale"]=v.languageCode),Oe.fetch()(Ln(v,v.config.apiHost,m,le),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function tt(v,p,m){return gt.apply(this,arguments)}function gt(){return(gt=(0,h.Z)(function*(v,p,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},He),p);try{const M=new Xt(v),O=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw lr(v,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const le=O.ok?Z.errorMessage:Z.error.message,[Be,Xe]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw lr(v,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Be)throw lr(v,"email-already-in-use",Z);if("USER_DISABLED"===Be)throw lr(v,"user-disabled",Z);const Et=I[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw se(v,Et,Xe);te(v,Et)}}catch(M){if(M instanceof B.ZR)throw M;te(v,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function rn(v,p,m,I){return yn.apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*(v,p,m,I,M={}){const O=yield ot(v,p,m,I,M);return"mfaPendingCredential"in O&&te(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ln(v,p,m,I){const M=`${p}${m}?${I}`;return v.config.emulator?Te(v.config,M):`${v.config.apiScheme}://${M}`}class Xt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(De(this.auth,"network-request-failed")),Ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lr(v,p,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const M=De(v,p,I);return M.customData._tokenResponse=m,M}function tr(){return(tr=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ar(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function os(){return(os=(0,h.Z)(function*(v,p=!1){const m=(0,B.m9)(v),I=yield m.getIdToken(p),M=dt(I);ee(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,Z=O?.sign_in_provider;return{claims:M,token:I,authTime:Ar(Ke(M.auth_time)),issuedAtTime:Ar(Ke(M.iat)),expirationTime:Ar(Ke(M.exp)),signInProvider:Z||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Ke(v){return 1e3*Number(v)}function dt(v){const[p,m,I]=v.split(".");if(void 0===p||void 0===m||void 0===I)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,B.tV)(m);return M?JSON.parse(M):(lt("Failed to decode base64 JWT payload"),null)}catch(M){return lt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Kt(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(I){throw I instanceof B.ZR&&function ni({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Wt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),I)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class qn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function as(v){return pn.apply(this,arguments)}function pn(){return pn=(0,h.Z)(function*(v){var p;const m=v.auth,I=yield v.getIdToken(),M=yield Kt(v,function Eo(v,p){return Gi.apply(this,arguments)}(m,{idToken:I}));ee(M?.users.length,m,"internal-error");const O=M.users[0];v._notifyReloadListener(O);const Z=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function Wi(v){return v.map(p=>{var{providerId:m}=p,I=(0,J._T)(p,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(O.providerUserInfo):[],le=function Un(v,p){return[...v.filter(I=>!p.some(M=>M.providerId===I.providerId)),...p]}(v.providerData,Z),Et=!!v.isAnonymous&&!(v.email&&O.passwordHash||le?.length),tn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:le,metadata:new qn(O.createdAt,O.lastLoginAt),isAnonymous:Et};Object.assign(v,tn)}),pn.apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(v){const p=(0,B.m9)(v);yield as(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(v,p){const m=yield tt(v,{},(0,h.Z)(function*(){const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=v.config,Z=Ln(v,M,"/v1/token",`key=${O}`),le=yield v._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(Z,{method:"POST",headers:le,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(typeof p.idToken<"u","internal-error"),ee(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Dt(v){const p=dt(v);return ee(p,"internal-error"),ee(typeof p.exp<"u","internal-error"),ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var I=this;return(0,h.Z)(function*(){return ee(!I.accessToken||I.refreshToken,p,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var I=this;return(0,h.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:Z}=yield function Ts(v,p){return Mr.apply(this,arguments)}(p,m);I.updateTokensAndExpiration(M,O,Number(Z))})()}updateTokensAndExpiration(p,m,I){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,m){const{refreshToken:I,accessToken:M,expirationTime:O}=m,Z=new $n;return I&&(ee("string"==typeof I,"internal-error",{appName:p}),Z.refreshToken=I),M&&(ee("string"==typeof M,"internal-error",{appName:p}),Z.accessToken=M),O&&(ee("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return et("not implemented")}}function Dn(v,p){ee("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Zn{constructor(p){var{uid:m,auth:I,stsTokenManager:M}=p,O=(0,J._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new qn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.Z)(function*(){const I=yield Kt(m,m.stsTokenManager.getToken(m.auth,p));return ee(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(p){return function Wr(v){return os.apply(this,arguments)}(this,p)}reload(){return function Ur(v){return kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Zn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var I=this;return(0,h.Z)(function*(){let M=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield as(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,h.Z)(function*(){const m=yield p.getIdToken();return yield Kt(p,function dr(v,p){return tr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var I,M,O,Z,le,Be,Xe,Et;const tn=null!==(I=m.displayName)&&void 0!==I?I:void 0,ui=null!==(M=m.email)&&void 0!==M?M:void 0,hc=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,fp=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,Ll=null!==(le=m.tenantId)&&void 0!==le?le:void 0,ou=null!==(Be=m._redirectEventId)&&void 0!==Be?Be:void 0,dm=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,pp=null!==(Et=m.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:au,emailVerified:gp,isAnonymous:mp,providerData:Ul,stsTokenManager:hm}=m;ee(au&&hm,p,"internal-error");const Vl=$n.fromJSON(this.name,hm);ee("string"==typeof au,p,"internal-error"),Dn(tn,p.name),Dn(ui,p.name),ee("boolean"==typeof gp,p,"internal-error"),ee("boolean"==typeof mp,p,"internal-error"),Dn(hc,p.name),Dn(fp,p.name),Dn(Ll,p.name),Dn(ou,p.name),Dn(dm,p.name),Dn(pp,p.name);const yp=new Zn({uid:au,auth:p,email:ui,emailVerified:gp,displayName:tn,isAnonymous:mp,photoURL:fp,phoneNumber:hc,tenantId:Ll,stsTokenManager:Vl,createdAt:dm,lastLoginAt:pp});return Ul&&Array.isArray(Ul)&&(yp.providerData=Ul.map(nv=>Object.assign({},nv))),ou&&(yp._redirectEventId=ou),yp}static _fromIdTokenResponse(p,m,I=!1){return(0,h.Z)(function*(){const M=new $n;M.updateFromServerResponse(m);const O=new Zn({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:I});return yield as(O),O})()}}const Nn=new Map;function rr(v){$e(v instanceof Function,"Expected a class definition");let p=Nn.get(v);return p?($e(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Nn.set(v,p),p)}const qr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,I){var M=this;return(0,h.Z)(function*(){M.storage[m]=I})()}_get(m){var I=this;return(0,h.Z)(function*(){const M=I.storage[m];return void 0===M?null:M})()}_remove(m){var I=this;return(0,h.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function Yt(v,p,m){return`firebase:${v}:${p}:${m}`}class z{constructor(p,m,I){this.persistence=p,this.auth=m,this.userKey=I;const{config:M,name:O}=this.auth;this.fullUserKey=Yt(this.userKey,M.apiKey,O),this.fullPersistenceKey=Yt("persistence",M.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Zn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.Z)(function*(){if(m.persistence===p)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,I="authUser"){return(0,h.Z)(function*(){if(!m.length)return new z(rr(qr),p,I);const M=(yield Promise.all(m.map(function(){var Xe=(0,h.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let O=M[0]||rr(qr);const Z=Yt(I,p.config.apiKey,p.name);let le=null;for(const Xe of m)try{const Et=yield Xe._get(Z);if(Et){const tn=Zn._fromJSON(p,Et);Xe!==O&&(le=tn),O=Xe;break}}catch{}const Be=M.filter(Xe=>Xe._shouldAllowMigration);return O._shouldAllowMigration&&Be.length?(O=Be[0],le&&(yield O._set(Z,le.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,h.Z)(function*(Et){if(Et!==O)try{yield Et._remove(Z)}catch{}});return function(Et){return Xe.apply(this,arguments)}}())),new z(O,p,I)):new z(O,p,I)})()}}function j(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(X(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(k(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(We(p))return"Blackberry";if(wt(p))return"Webos";if(F(p))return"Safari";if((p.includes("chrome/")||N(p))&&!p.includes("edge/"))return"Chrome";if(ve(p))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function k(v=(0,B.z$)()){return/firefox\//i.test(v)}function F(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function N(v=(0,B.z$)()){return/crios\//i.test(v)}function X(v=(0,B.z$)()){return/iemobile/i.test(v)}function ve(v=(0,B.z$)()){return/android/i.test(v)}function We(v=(0,B.z$)()){return/blackberry/i.test(v)}function wt(v=(0,B.z$)()){return/webos/i.test(v)}function yt(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function ht(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Lt(v=(0,B.z$)()){return yt(v)||ve(v)||wt(v)||We(v)||/windows phone/i.test(v)||X(v)}function xr(v,p=[]){let m;switch(v){case"Browser":m=j((0,B.z$)());break;case"Worker":m=`${j((0,B.z$)())}-${v}`;break;default:m=v}const I=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${I}`}function re(){return(re=(0,h.Z)(function*(v){return(yield ot(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fe(v,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(v,p){return ot(v,"GET","/v2/recaptchaConfig",Ye(v,p))})).apply(this,arguments)}function Rt(v){return void 0!==v&&void 0!==v.getResponse}function jt(v){return void 0!==v&&void 0!==v.enterprise}class nn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Hn(v){return new Promise((p,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=p,I.onerror=M=>{const O=De("internal-error");O.customData=M,m(O)},I.type="text/javascript",I.charset="UTF-8",function vr(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(I)})}function Ks(v){return`__${v}${Math.floor(1e6*Math.random())}`}class ri{constructor(p){this.type="recaptcha-enterprise",this.auth=Kn(p)}verify(p="verify",m=!1){var I=this;return(0,h.Z)(function*(){function O(){return O=(0,h.Z)(function*(le){if(!m){if(null==le.tenantId&&null!=le._agentRecaptchaConfig)return le._agentRecaptchaConfig.siteKey;if(null!=le.tenantId&&void 0!==le._tenantRecaptchaConfigs[le.tenantId])return le._tenantRecaptchaConfigs[le.tenantId].siteKey}return new Promise(function(){var Be=(0,h.Z)(function*(Xe,Et){Fe(le,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const ui=new nn(tn);return null==le.tenantId?le._agentRecaptchaConfig=ui:le._tenantRecaptchaConfigs[le.tenantId]=ui,Xe(ui.siteKey)}Et(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{Et(tn)})});return function(Xe,Et){return Be.apply(this,arguments)}}())}),O.apply(this,arguments)}function Z(le,Be,Xe){const Et=window.grecaptcha;jt(Et)?Et.enterprise.ready(()=>{Et.enterprise.execute(le,{action:p}).then(tn=>{Be(tn)}).catch(()=>{Be("NO_RECAPTCHA")})}):Xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((le,Be)=>{(function M(le){return O.apply(this,arguments)})(I.auth).then(Xe=>{if(!m&&jt(window.grecaptcha))Z(Xe,le,Be);else{if(typeof window>"u")return void Be(new Error("RecaptchaVerifier is only supported in browser"));Hn("https://www.google.com/recaptcha/enterprise.js?render="+Xe).then(()=>{Z(Xe,le,Be)}).catch(Et=>{Be(Et)})}}).catch(Xe=>{Be(Xe)})})})()}}function Ys(v,p,m){return Do.apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(v,p,m,I=!1){const M=new ri(v);let O;try{O=yield M.verify(m)}catch{O=yield M.verify(m,!0)}const Z=Object.assign({},p);return Object.assign(Z,I?{captchaResp:O}:{captchaResponse:O}),Object.assign(Z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Z})).apply(this,arguments)}class Uf{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const I=O=>new Promise((Z,le)=>{try{Z(p(O))}catch(Be){le(Be)}});I.onAbort=m,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===p)return;const I=[];try{for(const M of m.queue)yield M(p),M.onAbort&&I.push(M.onAbort)}catch(M){I.reverse();for(const O of I)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Ra{constructor(p,m,I,M){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=I,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yg(this),this.idTokenSubscription=new Yg(this),this.beforeStateQueue=new Uf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,m){var I=this;return m&&(this._popupRedirectResolver=rr(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var M,O;if(!I._deleted&&(I.persistenceManager=yield z.create(I,p),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(O=I.currentUser)||void 0===O?void 0:O.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,h.Z)(function*(){var I;const M=yield m.assertedPersistence.getCurrentUser();let O=M,Z=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const le=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,Be=O?._redirectEventId,Xe=yield m.tryRedirectSignIn(p);(!le||le===Be)&&Xe?.user&&(O=Xe.user,Z=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(O)}catch(le){O=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(le))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,h.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.Z)(function*(){try{yield as(p)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ae(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.Z)(function*(){const I=p?(0,B.m9)(p):null;return I&&ee(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(p,m=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return p&&ee(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(rr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const m=yield Fe(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new nn(m);null==p.tenantId?p._agentRecaptchaConfig=I:p._tenantRecaptchaConfigs[p.tenantId]=I,I.emailPasswordEnabled&&new ri(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,I){return this.registerStateListener(this.authStateSubscription,p,m,I)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,I){return this.registerStateListener(this.idTokenSubscription,p,m,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var I=this;return(0,h.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const I=p&&rr(p)||m._popupRedirectResolver;ee(I,m,"argument-error"),m.redirectPersistenceManager=yield z.create(m,[rr(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.Z)(function*(){var I,M;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.Z)(function*(){if(p===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,I,M){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,I,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var m;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();M&&(I["X-Firebase-Client"]=M);const O=yield p._getAppCheckToken();return O&&(I["X-Firebase-AppCheck"]=O),I})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var m;const I=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return I?.error&&function vt(v,...p){Pe.logLevel<=ie.in.WARN&&Pe.warn(`Auth (${P.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Kn(v){return(0,B.m9)(v)}class Yg{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ad(v,p,m){const I=Kn(v);ee(I._canInitEmulator,I,"emulator-config-failed"),ee(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const M=!!m?.disableWarnings,O=Su(p),{host:Z,port:le}=function Yo(v){const p=Su(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const O=M[1];return{host:O,port:Qc(I.substr(O.length+1))}}{const[O,Z]=I.split(":");return{host:O,port:Qc(Z)}}}(p);I.config.emulator={url:`${O}//${Z}${null===le?"":`:${le}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Z,port:le,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Vf(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Su(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Qc(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Na{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return et("not implemented")}_getIdTokenResponse(p){return et("not implemented")}_linkToIdToken(p,m){return et("not implemented")}_getReauthenticationResolver(p){return et("not implemented")}}function Pa(v,p){return Md.apply(this,arguments)}function Md(){return(Md=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:resetPassword",Ye(v,p))})).apply(this,arguments)}function Au(v,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ut(){return(Ut=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",Ye(v,p))})).apply(this,arguments)}function wr(v,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(v,p){return rn(v,"POST","/v1/accounts:signInWithPassword",Ye(v,p))})).apply(this,arguments)}function As(v,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:sendOobCode",Ye(v,p))})).apply(this,arguments)}function Oa(){return(Oa=(0,h.Z)(function*(v,p){return As(v,p)})).apply(this,arguments)}function Qo(v,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(v,p){return As(v,p)})).apply(this,arguments)}function xu(v,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(v,p){return As(v,p)})).apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(v,p){return As(v,p)})).apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(v,p){return rn(v,"POST","/v1/accounts:signInWithEmailLink",Ye(v,p))})).apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(v,p){return rn(v,"POST","/v1/accounts:signInWithEmailLink",Ye(v,p))})).apply(this,arguments)}class Ms extends Na{constructor(p,m,I,M=null){super("password",I),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new Ms(p,m,"password")}static _fromEmailAndCode(p,m,I=null){return new Ms(p,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.Z)(function*(){var I;switch(m.signInMethod){case"password":const M={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=p._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const O=yield Ys(p,M,"signInWithPassword");return wr(p,O)}return wr(p,M).catch(function(){var O=(0,h.Z)(function*(Z){if("auth/missing-recaptcha-token"===Z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const le=yield Ys(p,M,"signInWithPassword");return wr(p,le)}return Promise.reject(Z)});return function(Z){return O.apply(this,arguments)}}());case"emailLink":return function An(v,p){return Kr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:te(p,"internal-error")}})()}_linkToIdToken(p,m){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return Au(p,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Ru(v,p){return Rr.apply(this,arguments)}(p,{idToken:m,email:I._email,oobCode:I._password});default:te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function vn(v,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,h.Z)(function*(v,p){return rn(v,"POST","/v1/accounts:signInWithIdp",Ye(v,p))})).apply(this,arguments)}class Tt extends Na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Tt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M}=m,O=(0,J._T)(m,["providerId","signInMethod"]);if(!I||!M)return null;const Z=new Tt(I,M);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return vn(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,vn(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,vn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function Nu(){return(Nu=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:sendVerificationCode",Ye(v,p))})).apply(this,arguments)}function On(){return(On=(0,h.Z)(function*(v,p){return rn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ye(v,p))})).apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(v,p){const m=yield rn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ye(v,p));if(m.temporaryProof)throw lr(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const us={USER_NOT_FOUND:"user-not-found"};function Ou(){return(Ou=(0,h.Z)(function*(v,p){return rn(v,"POST","/v1/accounts:signInWithPhoneNumber",Ye(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),us)})).apply(this,arguments)}class Nr extends Na{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Nr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Nr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Qs(v,p){return On.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Pu(v,p){return bo.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Jo(v,p){return Ou.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:I,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:I,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:I,phoneNumber:M,temporaryProof:O}=p;return I||m||M||O?new Nr({verificationId:m,verificationCode:I,phoneNumber:M,temporaryProof:O}):null}}class Zi{constructor(p){var m,I,M,O,Z,le;const Be=(0,B.zd)((0,B.pd)(p)),Xe=null!==(m=Be.apiKey)&&void 0!==m?m:null,Et=null!==(I=Be.oobCode)&&void 0!==I?I:null,tn=function Yr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Be.mode)&&void 0!==M?M:null);ee(Xe&&Et&&tn,"argument-error"),this.apiKey=Xe,this.operation=tn,this.code=Et,this.continueUrl=null!==(O=Be.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=Be.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(le=Be.tenantId)&&void 0!==le?le:null}static parseLink(p){const m=function Jc(v){const p=(0,B.zd)((0,B.pd)(v)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||m||p||v}(p);try{return new Zi(m)}catch{return null}}}let jf=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return Ms._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const M=Zi.parseLink(I);return ee(M,"argument-error"),Ms._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class cs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class To extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class wi extends To{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),Tt._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),Tt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return wi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return wi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:O,nonce:Z,providerId:le}=p;if(!I&&!M&&!m&&!O||!le)return null;try{return new wi(le)._credential({idToken:m,accessToken:I,nonce:Z,pendingToken:O})}catch{return null}}}let So=(()=>{class v extends To{constructor(){super("facebook.com")}static credential(m){return Tt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Xo=(()=>{class v extends To{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Tt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:M}=m;if(!I&&!M)return null;try{return v.credential(I,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ea=(()=>{class v extends To{constructor(){super("github.com")}static credential(m){return Tt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class La extends Na{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return vn(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,vn(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,vn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M,pendingToken:O}=m;return I&&M&&O&&I===M?new La(I,O):null}static _create(p,m){return new La(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Br extends cs{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Br.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Br.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=La.fromJSON(p);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:I}=p;if(!m||!I)return null;try{return La._create(I,m)}catch{return null}}}let Xc=(()=>{class v extends To{constructor(){super("twitter.com")}static credential(m,I){return Tt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=m;if(!I||!M)return null;try{return v.credential(I,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ki(v,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(v,p){return rn(v,"POST","/v1/accounts:signUp",Ye(v,p))})).apply(this,arguments)}class Cn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,I,M=!1){return(0,h.Z)(function*(){const O=yield Zn._fromIdTokenResponse(p,I,M),Z=ta(I);return new Cn({user:O,providerId:Z,_tokenResponse:I,operationType:m})})()}static _forOperation(p,m,I){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const M=ta(I);return new Cn({user:p,providerId:M,_tokenResponse:I,operationType:m})})()}}function ta(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Rd(v){return el.apply(this,arguments)}function el(){return(el=(0,h.Z)(function*(v){var p;const m=Kn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Cn({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield Ki(m,{returnSecureToken:!0}),M=yield Cn._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class tl extends B.ZR{constructor(p,m,I,M){var O;super(m.code,m.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,tl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,m,I,M){return new tl(p,m,I,M)}}function nl(v,p,m,I){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?tl._fromErrorAndOperation(v,O,p,I):O})}function $f(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Jg(v,p){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,h.Z)(function*(v,p){const m=(0,B.m9)(v);yield il(!0,m,p);const{providerUserInfo:I}=yield function Bn(v,p){return Ai.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=$f(I||[]);return m.providerData=m.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Nd.apply(this,arguments)}function ls(v,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,h.Z)(function*(v,p,m=!1){const I=yield Kt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Cn._forOperation(v,"link",I)})).apply(this,arguments)}function il(v,p,m){return ku.apply(this,arguments)}function ku(){return(ku=(0,h.Z)(function*(v,p,m){yield as(p);const M=!1===v?"provider-already-linked":"no-such-provider";ee($f(p.providerData).has(m)===v,p.auth,M)})).apply(this,arguments)}function Hf(v,p){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,h.Z)(function*(v,p,m=!1){const{auth:I}=v,M="reauthenticate";try{const O=yield Kt(v,nl(I,M,p,v),m);ee(O.idToken,I,"internal-error");const Z=dt(O.idToken);ee(Z,I,"internal-error");const{sub:le}=Z;return ee(v.uid===le,I,"user-mismatch"),Cn._forOperation(v,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&te(I,"user-mismatch"),O}})).apply(this,arguments)}function Od(v,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,h.Z)(function*(v,p,m=!1){const I="signIn",M=yield nl(v,I,p),O=yield Cn._fromIdTokenResponse(v,I,M);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function sl(v,p){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,h.Z)(function*(v,p){return Od(Kn(v),p)})).apply(this,arguments)}function Fu(v,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,h.Z)(function*(v,p){const m=(0,B.m9)(v);return yield il(!1,m,p.providerId),ls(m,p)})).apply(this,arguments)}function zf(v,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,h.Z)(function*(v,p){return Hf((0,B.m9)(v),p)})).apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(v,p){return rn(v,"POST","/v1/accounts:signInWithCustomToken",Ye(v,p))})).apply(this,arguments)}function Xg(v,p){return eo.apply(this,arguments)}function eo(){return eo=(0,h.Z)(function*(v,p){const m=Kn(v),I=yield function J_(v,p){return Xs.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),M=yield Cn._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(M.user),M}),eo.apply(this,arguments)}class ii{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?al._fromServerResponse(p,m):"totpInfo"in m?Ua._fromServerResponse(p,m):te(p,"internal-error")}}class al extends ii{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new al(m)}}class Ua extends ii{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Ua(m)}}function Va(v,p,m){var I;ee((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Gf(v,p,m){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,h.Z)(function*(v,p,m){var I;const M=Kn(v),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Z=yield Ys(M,O,"getOobCode",!0);m&&Va(M,Z,m),yield Qo(M,Z)}else m&&Va(M,O,m),yield Qo(M,O).catch(function(){var Z=(0,h.Z)(function*(le){if("auth/missing-recaptcha-token"!==le.code)return Promise.reject(le);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Be=yield Ys(M,O,"getOobCode",!0);m&&Va(M,Be,m),yield Qo(M,Be)}});return function(le){return Z.apply(this,arguments)}}())}),Wf.apply(this,arguments)}function Lu(v,p,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(v,p,m){yield Pa((0,B.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Uu(v,p){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,h.Z)(function*(v,p){yield function Bf(v,p){return Ut.apply(this,arguments)}((0,B.m9)(v),{oobCode:p})}),Gn.apply(this,arguments)}function Ei(v,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,h.Z)(function*(v,p){const m=(0,B.m9)(v),I=yield Pa(m,{oobCode:p}),M=I.requestType;switch(ee(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(I.mfaInfo,m,"internal-error");default:ee(I.email,m,"internal-error")}let O=null;return I.mfaInfo&&(O=ii._fromServerResponse(Kn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Vu(v,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(v,p){const{data:m}=yield Ei((0,B.m9)(v),p);return m.email})).apply(this,arguments)}function Mo(v,p,m){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,h.Z)(function*(v,p,m){var I;const M=Kn(v),O={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let Z;if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Xe=yield Ys(M,O,"signUpPassword");Z=Ki(M,Xe)}else Z=Ki(M,O).catch(function(){var Xe=(0,h.Z)(function*(Et){if("auth/missing-recaptcha-token"===Et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const tn=yield Ys(M,O,"signUpPassword");return Ki(M,tn)}return Promise.reject(Et)});return function(Et){return Xe.apply(this,arguments)}}());const le=yield Z.catch(Xe=>Promise.reject(Xe)),Be=yield Cn._fromIdTokenResponse(M,"signIn",le);return yield M._updateCurrentUser(Be.user),Be}),Bu.apply(this,arguments)}function qf(v,p,m){return sl((0,B.m9)(v),jf.credential(p,m))}function Ld(v,p,m){return to.apply(this,arguments)}function to(){return to=(0,h.Z)(function*(v,p,m){var I;const M=Kn(v),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Z(le,Be){ee(Be.handleCodeInApp,M,"argument-error"),Be&&Va(M,le,Be)}if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const le=yield Ys(M,O,"getOobCode",!0);Z(le,m),yield xu(M,le)}else Z(O,m),yield xu(M,O).catch(function(){var le=(0,h.Z)(function*(Be){if("auth/missing-recaptcha-token"!==Be.code)return Promise.reject(Be);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield Ys(M,O,"getOobCode",!0);Z(Xe,m),yield xu(M,Xe)}});return function(Be){return le.apply(this,arguments)}}())}),to.apply(this,arguments)}function Ud(v,p){const m=Zi.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}function cl(v,p,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(v,p,m){const I=(0,B.m9)(v),M=jf.credentialWithLink(p,m||Jt());return ee(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),sl(I,M)})).apply(this,arguments)}function ll(){return(ll=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:createAuthUri",Ye(v,p))})).apply(this,arguments)}function em(v,p){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,h.Z)(function*(v,p){const I={identifier:p,continueUri:cr()?Jt():"http://localhost"},{signinMethods:M}=yield function X_(v,p){return ll.apply(this,arguments)}((0,B.m9)(v),I);return M||[]}),Ba.apply(this,arguments)}function Zf(v,p){return ja.apply(this,arguments)}function ja(){return ja=(0,h.Z)(function*(v,p){const m=(0,B.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Va(m.auth,M,p);const{email:O}=yield function xd(v,p){return Oa.apply(this,arguments)}(m.auth,M);O!==v.email&&(yield v.reload())}),ja.apply(this,arguments)}function ju(v,p,m){return na.apply(this,arguments)}function na(){return na=(0,h.Z)(function*(v,p,m){const I=(0,B.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Va(I.auth,O,m);const{email:Z}=yield function it(v,p){return Pt.apply(this,arguments)}(I.auth,O);Z!==v.email&&(yield v.reload())}),na.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Kf(v,p){return fl.apply(this,arguments)}function fl(){return fl=(0,h.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const I=(0,B.m9)(v),O={idToken:yield I.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield Kt(I,function dl(v,p){return hl.apply(this,arguments)}(I.auth,O));I.displayName=Z.displayName||null,I.photoURL=Z.photoUrl||null;const le=I.providerData.find(({providerId:Be})=>"password"===Be);le&&(le.displayName=I.displayName,le.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Z)}),fl.apply(this,arguments)}function Vd(v,p){return gl((0,B.m9)(v),p,null)}function pl(v,p){return gl((0,B.m9)(v),null,p)}function gl(v,p,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(v,p,m){const{auth:I}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const Z=yield Kt(v,Au(I,O));yield v._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class xo{constructor(p,m,I={}){this.isNewUser=p,this.providerId=m,this.profile=I}}class wn extends xo{constructor(p,m,I,M){super(p,m,I),this.username=M}}class $u extends xo{constructor(p,m){super(p,"facebook.com",m)}}class ra extends wn{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class jr extends xo{constructor(p,m){super(p,"google.com",m)}}class ia extends wn{constructor(p,m,I){super(p,"twitter.com",m,I)}}function Bd(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ml(v){var p,m;if(!v)return null;const{providerId:I}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const Z=null===(m=null===(p=dt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new xo(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!I)return null;switch(I){case"facebook.com":return new $u(O,M);case"github.com":return new ra(O,M);case"google.com":return new jr(O,M);case"twitter.com":return new ia(O,M,v.screenName||null);case"custom":case"anonymous":return new xo(O,null);default:return new xo(O,I,M)}}(m)}class Ri{constructor(p,m,I){this.type=p,this.credential=m,this.auth=I}static _fromIdtoken(p,m){return new Ri("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ri("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,I;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ri._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return Ri._fromIdtoken(p.multiFactorSession.idToken)}return null}}class zu{constructor(p,m,I){this.session=p,this.hints=m,this.signInResolver=I}static _fromError(p,m){const I=Kn(p),M=m.customData._serverResponse,O=(M.mfaInfo||[]).map(le=>ii._fromServerResponse(I,le));ee(M.mfaPendingCredential,I,"internal-error");const Z=Ri._fromMfaPendingCredential(M.mfaPendingCredential);return new zu(Z,O,function(){var le=(0,h.Z)(function*(Be){const Xe=yield Be._process(I,Z);delete M.mfaInfo,delete M.mfaPendingCredential;const Et=Object.assign(Object.assign({},M),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const tn=yield Cn._fromIdTokenResponse(I,m.operationType,Et);return yield I._updateCurrentUser(tn.user),tn;case"reauthenticate":return ee(m.user,I,"internal-error"),Cn._forOperation(m.user,m.operationType,Et);default:te(I,"internal-error")}});return function(Be){return le.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.Z)(function*(){return m.signInResolver(p)})()}}function At(v,p){var m;const I=(0,B.m9)(v),M=p;return ee(p.customData.operationType,I,"argument-error"),ee(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),zu._fromError(I,M)}class $a{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>ii._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new $a(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Ri._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var I=this;return(0,h.Z)(function*(){const M=p,O=yield I.getSession(),Z=yield Kt(I.user,M._process(I.user.auth,O,m));return yield I.user._updateTokensIfNecessary(Z),I.user.reload()})()}unenroll(p){var m=this;return(0,h.Z)(function*(){const I="string"==typeof p?p:p.uid,M=yield m.user.getIdToken();try{const O=yield Kt(m.user,function Qf(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ye(v,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==I),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Qi=new WeakMap;function Gu(v){const p=(0,B.m9)(v);return Qi.has(p)||Qi.set(p,$a._fromUser(p)),Qi.get(p)}const Ha="__sak";class Jf{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const wl=(()=>{class v extends Jf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gd(){const v=(0,B.z$)();return F(v)||yt(v)}()&&function _r(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Lt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),O=this.localCache[I];M!==O&&m(I,O,M)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((le,Be,Xe)=>{this.notifyListeners(le,Xe)});const M=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(M);if(m.newValue!==le)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!I)return}const O=()=>{const le=this.storage.getItem(M);!I&&this.localCache[M]===le||this.notifyListeners(M,le)},Z=this.storage.getItem(M);!function _n(){return(0,B.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,I){this.localCache[m]=I;const M=this.listeners[m];if(M)for(const O of Array.from(M))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var M=()=>super._set,O=this;return(0,h.Z)(function*(){yield M().call(O,m,I),O.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,M=this;return(0,h.Z)(function*(){const O=yield I().call(M,m);return M.localCache[m]=JSON.stringify(O),O})()}_remove(m){var I=()=>super._remove,M=this;return(0,h.Z)(function*(){yield I().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),hr=(()=>{class v extends Jf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let qu=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(O=>O.isListeningto(m));if(I)return I;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,h.Z)(function*(){const M=m,{eventId:O,eventType:Z,data:le}=M.data,Be=I.handlersMap[Z];if(!Be?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const Xe=Array.from(Be).map(function(){var tn=(0,h.Z)(function*(ui){return ui(M.origin,le)});return function(ui){return tn.apply(this,arguments)}}()),Et=yield function ep(v){return Promise.all(v.map(function(){var p=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return p.apply(this,arguments)}}()))}(Xe);M.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:Et})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Qr(v="",p=10){let m="";for(let I=0;I<p;I++)m+=Math.floor(10*Math.random());return v+m}class tp{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,I=50){var M=this;return(0,h.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,le;return new Promise((Be,Xe)=>{const Et=Qr("",20);O.port1.start();const tn=setTimeout(()=>{Xe(new Error("unsupported_event"))},I);le={messageChannel:O,onMessage(ui){const hc=ui;if(hc.data.eventId===Et)switch(hc.data.status){case"ack":clearTimeout(tn),Z=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Be(hc.data.response);break;default:clearTimeout(tn),clearTimeout(Z),Xe(new Error("invalid_response"))}}},M.handlers.add(le),O.port1.addEventListener("message",le.onMessage),M.target.postMessage({eventType:p,eventId:Et,data:m},[O.port2])}).finally(()=>{le&&M.removeMessageHandler(le)})})()}}function Wn(){return window}function Wd(){return typeof Wn().WorkerGlobalScope<"u"&&"function"==typeof Wn().importScripts}function Or(){return(Or=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kn="firebaseLocalStorageDb",fr="firebaseLocalStorage",Il="fbase_key";class za{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ku(v,p){return v.transaction([fr],p?"readwrite":"readonly").objectStore(fr)}function Ga(){const v=indexedDB.open(kn,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(fr,{keyPath:Il})}catch(M){m(M)}}),v.addEventListener("success",(0,h.Z)(function*(){const I=v.result;I.objectStoreNames.contains(fr)?p(I):(I.close(),yield function Zd(){const v=indexedDB.deleteDatabase(kn);return new za(v).toPromise()}(),p(yield Ga()))}))})}function Yu(v,p,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(v,p,m){const I=Ku(v,!0).put({[Il]:p,value:m});return new za(I).toPromise()})).apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(v,p){const m=Ku(v,!1).get(p),I=yield new za(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Qu(v,p){const m=Ku(v,!0).delete(p);return new za(m).toPromise()}const Kd=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Ga()),m.db})()}_withRetries(m){var I=this;return(0,h.Z)(function*(){let M=0;for(;;)try{const O=yield I._openDb();return yield m(O)}catch(O){if(M++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Wd()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=qu._getInstance(function Zu(){return Wd()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(M,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(M,O){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var I,M;if(m.activeServiceWorker=yield function qd(){return Or.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new tp(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(I=O[0])&&void 0!==I&&I.fulfilled&&null!==(M=O[0])&&void 0!==M&&M.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function hs(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ga();return yield Yu(m,Ha,"1"),yield Qu(m,Ha),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(O=>Yu(O,m,I)),M.localCache[m]=I,M.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,h.Z)(function*(){const M=yield I._withRetries(O=>function io(v,p){return oa.apply(this,arguments)}(O,m));return I.localCache[m]=M,M})()}_remove(m){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(M=>Qu(M,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const I=yield m._withRetries(Z=>{const le=Ku(Z,!1).getAll();return new za(le).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:Z,value:le}of I)O.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(le)&&(m.notifyListeners(Z,le),M.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!O.has(Z)&&(m.notifyListeners(Z,null),M.push(Z));return M})()}notifyListeners(m,I){this.localCache[m]=I;const M=this.listeners[m];if(M)for(const O of Array.from(M))O(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Mn=1e12;class Jd{constructor(p){this.auth=p,this.counter=Mn,this._widgets=new Map}render(p,m){const I=this.counter;return this._widgets.set(I,new np(p,this.auth.name,m||{})),this.counter++,I}reset(p){var m;const I=p||Mn;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Mn))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.Z)(function*(){var I;return null===(I=m._widgets.get(p||Mn))||void 0===I||I.execute(),""})()}}class np{constructor(p,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;ee(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xd(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const eh=Ks("rcb"),th=new we(3e4,6e4);class Wa{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Wn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ee(function Ro(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Rt(Wn().grecaptcha)?Promise.resolve(Wn().grecaptcha):new Promise((I,M)=>{const O=Wn().setTimeout(()=>{M(De(p,"network-request-failed"))},th.get());Wn()[eh]=()=>{Wn().clearTimeout(O),delete Wn()[eh];const le=Wn().grecaptcha;if(!le||!Rt(le))return void M(De(p,"internal-error"));const Be=le.render;le.render=(Xe,Et)=>{const tn=Be(Xe,Et);return this.counter++,tn},this.hostLanguage=m,I(le)},Hn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:eh,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),M(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Wn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nh{load(p){return(0,h.Z)(function*(){return new Jd(p)})()}clearedOneInstance(){}}const Xu="recaptcha",qa={theme:"light",type:"image"};class bl{constructor(p,m=Object.assign({},qa),I){this.parameters=m,this.type=Xu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(I),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;ee(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nh:new Wa,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(m)||new Promise(O=>{const Z=le=>{le&&(p.tokenChangeListeners.delete(Z),O(le))};p.tokenChangeListeners.add(Z),p.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof p)p(m);else if("string"==typeof p){const I=Wn()[p];"function"==typeof I&&I(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){ee(cr()&&!Wd(),p.auth,"internal-error"),yield function ec(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function he(v){return re.apply(this,arguments)}(p.auth);ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ln{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Nr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function oi(v,p,m){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,h.Z)(function*(v,p,m){const I=Kn(v),M=yield Po(I,p,(0,B.m9)(m));return new ln(M,O=>sl(I,O))})).apply(this,arguments)}function oo(v,p,m){return No.apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(v,p,m){const I=(0,B.m9)(v);yield il(!1,I,"phone");const M=yield Po(I.auth,p,(0,B.m9)(m));return new ln(M,O=>Fu(I,O))})).apply(this,arguments)}function Sl(v,p,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,h.Z)(function*(v,p,m){const I=(0,B.m9)(v),M=yield Po(I.auth,p,(0,B.m9)(m));return new ln(M,O=>zf(I,O))})).apply(this,arguments)}function Po(v,p,m){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,h.Z)(function*(v,p,m){var I;const M=yield m.verify();try{let O;if(ee("string"==typeof M,v,"argument-error"),ee(m.type===Xu,v,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return ee("enroll"===Z.type,v,"internal-error"),(yield function _l(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:start",Ye(v,p))}(v,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ee("signin"===Z.type,v,"internal-error");const le=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return ee(le,v,"missing-multi-factor-info"),(yield function Yd(v,p){return ot(v,"POST","/v2/accounts/mfaSignIn:start",Ye(v,p))}(v,{mfaPendingCredential:Z.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function Fa(v,p){return Nu.apply(this,arguments)}(v,{phoneNumber:O.phoneNumber,recaptchaToken:M});return Z}}finally{m._reset()}}),Ka.apply(this,arguments)}function Ya(v,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,h.Z)(function*(v,p){yield ls((0,B.m9)(v),p)})).apply(this,arguments)}let Vt=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Kn(m)}verifyPhoneNumber(m,I){return Po(this.auth,m,(0,B.m9)(I))}static credential(m,I){return Nr._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:M}=m;return I&&M?Nr._fromTokenResponse(I,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ao(v,p){return p?rr(p):(ee(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class tc extends Na{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return vn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return vn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return vn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ai(v){return Od(v.auth,new tc(v),v.bypassAuthState)}function Al(v){const{auth:p,user:m}=v;return ee(m,p,"internal-error"),Hf(m,new tc(v),v.bypassAuthState)}function Qa(v){return xs.apply(this,arguments)}function xs(){return(xs=(0,h.Z)(function*(v){const{auth:p,user:m}=v;return ee(m,p,"internal-error"),ls(m,new tc(v),v.bypassAuthState)})).apply(this,arguments)}class Ni{constructor(p,m,I,M,O=!1){this.auth=p,this.resolver=I,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.Z)(function*(I,M){p.pendingPromise={resolve:I,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(I,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:O,tenantId:Z,error:le,type:Be}=p;if(le)return void m.reject(le);const Xe={auth:m.auth,requestUri:I,sessionId:M,tenantId:Z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Be)(Xe))}catch(Et){m.reject(Et)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ai;case"linkViaPopup":case"linkViaRedirect":return Qa;case"reauthViaPopup":case"reauthViaRedirect":return Al;default:te(this.auth,"internal-error")}}resolve(p){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ps=new we(2e3,1e4);function Ji(v,p,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(v,p,m){const I=Kn(v);fe(v,p,cs);const M=ao(I,m);return new Oi(I,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function im(v,p,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,h.Z)(function*(v,p,m){const I=(0,B.m9)(v);fe(I.auth,p,cs);const M=ao(I.auth,m);return new Oi(I.auth,"reauthViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}function rp(v,p,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(v,p,m){const I=(0,B.m9)(v);fe(I.auth,p,cs);const M=ao(I.auth,m);return new Oi(I.auth,"linkViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}let Oi=(()=>{class v extends Ni{constructor(m,I,M,O,Z){super(m,I,O,Z),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const I=yield m.execute();return ee(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,h.Z)(function*(){$e(1===m.filter.length,"Popup operations only handle one event");const I=Qr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(De(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,ps.get())};m()}}return v.currentPopupAction=null,v})();const Ml="pendingRedirect",Fn=new Map;class Rs extends Ni{constructor(p,m,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.Z)(function*(){let I=Fn.get(m.auth._key());if(!I){try{const O=(yield function sm(v,p){return Ja.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;I=()=>Promise.resolve(O)}catch(M){I=()=>Promise.reject(M)}Fn.set(m.auth._key(),I)}return m.bypassAuthState||Fn.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(I,p);if("unknown"!==p.type){if(p.eventId){const M=yield I.auth._redirectUserForId(p.eventId);if(M)return I.user=M,m().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Ja(){return(Ja=(0,h.Z)(function*(v,p){const m=uo(p),I=aa(v);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(m));return yield I._remove(m),M})).apply(this,arguments)}function nc(v,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,h.Z)(function*(v,p){return aa(v)._set(uo(p),"true")})).apply(this,arguments)}function rh(){Fn.clear()}function ih(v,p){Fn.set(v._key(),p)}function aa(v){return rr(v._redirectPersistence)}function uo(v){return Yt(Ml,v.config.apiKey,v.name)}function xl(v,p,m){return function ic(v,p,m){return ko.apply(this,arguments)}(v,p,m)}function ko(){return(ko=(0,h.Z)(function*(v,p,m){const I=Kn(v);fe(v,p,cs),yield I._initializationPromise;const M=ao(I,m);return yield nc(M,I),M._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function Fo(v,p,m){return function sh(v,p,m){return Xa.apply(this,arguments)}(v,p,m)}function Xa(){return(Xa=(0,h.Z)(function*(v,p,m){const I=(0,B.m9)(v);fe(I.auth,p,cs),yield I.auth._initializationPromise;const M=ao(I.auth,m);yield nc(M,I.auth);const O=yield eu(I);return M._openRedirect(I.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function sc(v,p,m){return function ip(v,p,m){return oc.apply(this,arguments)}(v,p,m)}function oc(){return(oc=(0,h.Z)(function*(v,p,m){const I=(0,B.m9)(v);fe(I.auth,p,cs),yield I.auth._initializationPromise;const M=ao(I.auth,m);yield il(!1,I,p.providerId),yield nc(M,I.auth);const O=yield eu(I);return M._openRedirect(I.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ac(v,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(v,p){return yield Kn(v)._initializationPromise,Ns(v,p,!1)})).apply(this,arguments)}function Ns(v,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,h.Z)(function*(v,p,m=!1){const I=Kn(v),M=ao(I,p),Z=yield new Rs(I,M,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield I._persistUserIfCurrent(Z.user),yield I._setRedirectUser(null,p)),Z})).apply(this,arguments)}function eu(v){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(v){const p=Qr(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class tu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(m=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Rl(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uc(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var I;if(p.error&&!uc(p)){const M=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(De(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const I=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lo(p))}saveEventToCache(p){this.cachedEventUids.add(Lo(p)),this.lastProcessedEventTime=Date.now()}}function Lo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function uc({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function cc(v){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(v,p={}){return ot(v,"GET","/v1/projects",p)})).apply(this,arguments)}const ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,om=/^https?/;function sp(){return(sp=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield cc(v);for(const m of p)try{if(Pl(m))return}catch{}te(v,"unauthorized-domain")})).apply(this,arguments)}function Pl(v){const p=Jt(),{protocol:m,hostname:I}=new URL(p);if(v.startsWith("chrome-extension://")){const Z=new URL(v);return""===Z.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===I}if(!om.test(m))return!1;if(ca.test(v))return I===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const En=new we(3e4,6e4);function nu(){const v=Wn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let lc=null;const ru=new we(5e3,15e3),Uo="__/auth/iframe",Ol="emulator/auth/iframe",kl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},op=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ev(v){const p=v.config;ee(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Te(p,Ol):`https://${v.config.authDomain}/${Uo}`,I={apiKey:p.apiKey,appName:v.name,v:P.SDK_VERSION},M=op.get(v.config.apiHost);M&&(I.eid=M);const O=v._getFrameworks();return O.length&&(I.fw=O.join(",")),`${m}?${(0,B.xO)(I).slice(1)}`}function ap(){return ap=(0,h.Z)(function*(v){const p=yield function ir(v){return lc=lc||function co(v){return new Promise((p,m)=>{var I,M,O;function Z(){nu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{nu(),m(De(v,"network-request-failed"))},timeout:En.get()})}if(null!==(M=null===(I=Wn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Wn().gapi)||void 0===O||!O.load){const le=Ks("iframefcb");return Wn()[le]=()=>{gapi.load?Z():m(De(v,"network-request-failed"))},Hn(`https://apis.google.com/js/api.js?onload=${le}`).catch(Be=>m(Be))}Z()}}).catch(p=>{throw lc=null,p})}(v),lc}(v),m=Wn().gapi;return ee(m,v,"internal-error"),p.open({where:document.body,url:ev(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kl,dontclear:!0},I=>new Promise(function(){var M=(0,h.Z)(function*(O,Z){yield I.restyle({setHideOnLeave:!1});const le=De(v,"network-request-failed"),Be=Wn().setTimeout(()=>{Z(le)},ru.get());function Xe(){Wn().clearTimeout(Be),O(I)}I.ping(Xe).then(Xe,()=>{Z(le)})});return function(O,Z){return M.apply(this,arguments)}}()))}),ap.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Y{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const je="__/auth/handler",ct="emulator/auth/handler",Ot=encodeURIComponent("fac");function St(v,p,m,I,M,O){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(v,p,m,I,M,O){ee(v.config.authDomain,v,"auth-domain-config-required"),ee(v.config.apiKey,v,"invalid-api-key");const Z={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:P.SDK_VERSION,eventId:M};if(p instanceof cs){p.setDefaultLanguage(v.languageCode),Z.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Et,tn]of Object.entries(O||{}))Z[Et]=tn}if(p instanceof To){const Et=p.getScopes().filter(tn=>""!==tn);Et.length>0&&(Z.scopes=Et.join(","))}v.tenantId&&(Z.tid=v.tenantId);const le=Z;for(const Et of Object.keys(le))void 0===le[Et]&&delete le[Et];const Be=yield v._getAppCheckToken(),Xe=Be?`#${Ot}=${encodeURIComponent(Be)}`:"";return`${function sr({config:v}){return v.emulator?Te(v,ct):`https://${v.authDomain}/${je}`}(v)}?${(0,B.xO)(le).slice(1)}${Xe}`})).apply(this,arguments)}const ms="webStorageSupport",ys=class dc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hr,this._completeRedirectFn=Ns,this._overrideRedirectResult=ih}_openPopup(p,m,I,M){var O=this;return(0,h.Z)(function*(){var Z;$e(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const le=yield St(p,m,I,Jt(),M);return function de(v,p,m,I=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),Z=Math.max((window.screen.availWidth-I)/2,0).toString();let le="";const Be=Object.assign(Object.assign({},E),{width:I.toString(),height:M.toString(),top:O,left:Z}),Xe=(0,B.z$)().toLowerCase();m&&(le=N(Xe)?"_blank":m),k(Xe)&&(p=p||"http://localhost",Be.scrollbars="yes");const Et=Object.entries(Be).reduce((ui,[hc,fp])=>`${ui}${hc}=${fp},`,"");if(function xt(v=(0,B.z$)()){var p;return yt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Xe)&&"_self"!==le)return function ze(v,p){const m=document.createElement("a");m.href=v,m.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(p||"",le),new Y(null);const tn=window.open(p||"",le,Et);ee(tn,v,"popup-blocked");try{tn.focus()}catch{}return new Y(tn)}(p,le,Qr())})()}_openRedirect(p,m,I,M){var O=this;return(0,h.Z)(function*(){return yield O._originValidation(p),function El(v){Wn().location.href=v}(yield St(p,m,I,Jt(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:O}=this.eventManagers[m];return M?Promise.resolve(M):($e(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(p);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(p){var m=this;return(0,h.Z)(function*(){const I=yield function am(v){return ap.apply(this,arguments)}(p),M=new tu(p);return I.register("authEvent",O=>(ee(O?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=I,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ms,{type:ms},M=>{var O;const Z=null===(O=M?.[0])||void 0===O?void 0:O[ms];void 0!==Z&&m(!!Z),te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Nl(v){return sp.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Lt()||F()||yt()}};class Ii{constructor(p){this.factorId=p}_process(p,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,I);case"signin":return this._finalizeSignIn(p,m.credential);default:return et("unexpected MultiFactorSessionType")}}}class _s extends Ii{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new _s(p)}_finalizeEnroll(p,m,I){return function zd(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ye(v,p))}(p,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Qd(v,p){return ot(v,"POST","/v2/accounts/mfaSignIn:finalize",Ye(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fl=(()=>{class v{constructor(){}static assertion(m){return _s._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var lo="@firebase/auth";class oh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(I=>{p(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hp=(0,B.Pz)("authIdTokenMaxAge")||300;let cm=null;const tv=v=>function(){var p=(0,h.Z)(function*(m){const I=m&&(yield m.getIdTokenResult()),M=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(M&&M>hp)return;const O=I?.token;cm!==O&&(cm=O,yield fetch(v,{method:O?"POST":"DELETE",headers:O?{Authorization:`Bearer ${O}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function lm(v=(0,P.getApp)()){const p=(0,P._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function Ss(v,p){const m=(0,P._getProvider)(v,"auth");if(m.isInitialized()){const M=m.getImmediate(),O=m.getOptions();if((0,B.vZ)(O,p??{}))return M;te(M,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:ys,persistence:[Kd,wl,hr]}),I=(0,B.Pz)("authTokenSyncURL");if(I){const O=tv(I);(function jd(v,p,m){(0,B.m9)(v).beforeAuthStateChanged(p,m)})(m,O,()=>O(m.currentUser)),function Yf(v,p,m,I){(0,B.m9)(v).onIdTokenChanged(p,m,I)}(m,Z=>O(Z))}const M=(0,B.q4)("auth");return M&&Ad(m,`http://${M}`),m}!function um(v){(0,P._registerComponent)(new pe.wA("auth",(p,{options:m})=>{const I=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:Z,authDomain:le}=I.options;ee(Z&&!Z.includes(":"),"invalid-api-key",{appName:I.name});const Be={apiKey:Z,authDomain:le,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(v)},Xe=new Ra(I,M,O,Be);return function Qg(v,p){const m=p?.persistence||[],I=(Array.isArray(m)?m:[m]).map(rr);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(I,p?.popupRedirectResolver)}(Xe,m),Xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,I)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new pe.wA("auth-internal",p=>{const m=Kn(p.getProvider("auth").getImmediate());return new oh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(lo,"0.23.2",function lp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(lo,"0.23.2","esm2017")}("Browser")},9058:(pt,Ce,L)=>{L.d(Ce,{$s:()=>rr,BH:()=>se,G6:()=>Te,L:()=>ge,LL:()=>Rn,P0:()=>lt,Pz:()=>De,Sg:()=>fe,UG:()=>et,US:()=>pe,ZB:()=>ne,ZR:()=>ot,aH:()=>te,b$:()=>cr,eu:()=>He,hl:()=>Oe,jU:()=>$e,m9:()=>Yt,ne:()=>Kt,pd:()=>dt,q4:()=>vt,r3:()=>Bn,ru:()=>Jt,tV:()=>H,uI:()=>ee,vZ:()=>Ar,w1:()=>bs,xO:()=>os,xb:()=>Eo,z$:()=>Ne,zI:()=>Ve,zd:()=>Ke});const J=function(z){const j=[];let k=0;for(let F=0;F<z.length;F++){let N=z.charCodeAt(F);N<128?j[k++]=N:N<2048?(j[k++]=N>>6|192,j[k++]=63&N|128):55296==(64512&N)&&F+1<z.length&&56320==(64512&z.charCodeAt(F+1))?(N=65536+((1023&N)<<10)+(1023&z.charCodeAt(++F)),j[k++]=N>>18|240,j[k++]=N>>12&63|128,j[k++]=N>>6&63|128,j[k++]=63&N|128):(j[k++]=N>>12|224,j[k++]=N>>6&63|128,j[k++]=63&N|128)}return j},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,j){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let N=0;N<z.length;N+=3){const X=z[N],ve=N+1<z.length,We=ve?z[N+1]:0,wt=N+2<z.length,yt=wt?z[N+2]:0;let _n=(15&We)<<2|yt>>6,Lt=63&yt;wt||(Lt=64,ve||(_n=64)),F.push(k[X>>2],k[(3&X)<<4|We>>4],k[_n],k[Lt])}return F.join("")},encodeString(z,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(z):this.encodeByteArray(J(z),j)},decodeString(z,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(z):function(z){const j=[];let k=0,F=0;for(;k<z.length;){const N=z[k++];if(N<128)j[F++]=String.fromCharCode(N);else if(N>191&&N<224){const X=z[k++];j[F++]=String.fromCharCode((31&N)<<6|63&X)}else if(N>239&&N<365){const wt=((7&N)<<18|(63&z[k++])<<12|(63&z[k++])<<6|63&z[k++])-65536;j[F++]=String.fromCharCode(55296+(wt>>10)),j[F++]=String.fromCharCode(56320+(1023&wt))}else{const X=z[k++],ve=z[k++];j[F++]=String.fromCharCode((15&N)<<12|(63&X)<<6|63&ve)}}return j.join("")}(this.decodeStringToByteArray(z,j))},decodeStringToByteArray(z,j){this.init_();const k=j?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let N=0;N<z.length;){const X=k[z.charAt(N++)],We=N<z.length?k[z.charAt(N)]:0;++N;const yt=N<z.length?k[z.charAt(N)]:64;++N;const xt=N<z.length?k[z.charAt(N)]:64;if(++N,null==X||null==We||null==yt||null==xt)throw new _e;F.push(X<<2|We>>4),64!==yt&&(F.push(We<<4&240|yt>>2),64!==xt&&F.push(yt<<6&192|xt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(z){return function(z){const j=J(z);return pe.encodeByteArray(j,!0)}(z).replace(/\./g,"")},H=function(z){try{return pe.decodeString(z,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ne(z,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return j}for(const k in j)!j.hasOwnProperty(k)||!ke(k)||(z[k]=ne(z[k],j[k]));return z}function ke(z){return"__proto__"!==z}const Pe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=z&&H(z[1]);return j&&JSON.parse(j)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},vt=z=>{var j,k;return null===(k=null===(j=Pe())||void 0===j?void 0:j.emulatorHosts)||void 0===k?void 0:k[z]},lt=z=>{const j=vt(z);if(!j)return;const k=j.lastIndexOf(":");if(k<=0||k+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const F=parseInt(j.substring(k+1),10);return"["===j[0]?[j.substring(1,k-1),F]:[j.substring(0,k),F]},te=()=>{var z;return null===(z=Pe())||void 0===z?void 0:z.config},De=z=>{var j;return null===(j=Pe())||void 0===j?void 0:j[`_${z}`]};class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,k)=>{this.resolve=j,this.reject=k})}wrapCallback(j){return(k,F)=>{k?this.reject(k):this.resolve(F),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(k):j(k,F))}}}function fe(z,j){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=j||"demo-project",N=z.iat||0,X=z.sub||z.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ve=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:N,exp:N+3600,auth_time:N,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(ve)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function et(){var z;const j=null===(z=Pe())||void 0===z?void 0:z.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function Jt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function cr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bs(){const z=Ne();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Te(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((z,j)=>{try{let k=!0;const F="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(F);N.onsuccess=()=>{N.result.close(),k||self.indexedDB.deleteDatabase(F),z(!0)},N.onupgradeneeded=()=>{k=!1},N.onerror=()=>{var X;j((null===(X=N.error)||void 0===X?void 0:X.message)||"")}}catch(k){j(k)}})}function Ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ot extends Error{constructor(j,k,F){super(k),this.code=j,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}}class Rn{constructor(j,k,F){this.service=j,this.serviceName=k,this.errors=F}create(j,...k){const F=k[0]||{},N=`${this.service}/${j}`,X=this.errors[j],ve=X?function tt(z,j){return z.replace(gt,(k,F)=>{const N=j[F];return null!=N?String(N):`<${F}?>`})}(X,F):"Error";return new ot(N,`${this.serviceName}: ${ve} (${N}).`,F)}}const gt=/\{\$([^}]+)}/g;function Bn(z,j){return Object.prototype.hasOwnProperty.call(z,j)}function Eo(z){for(const j in z)if(Object.prototype.hasOwnProperty.call(z,j))return!1;return!0}function Ar(z,j){if(z===j)return!0;const k=Object.keys(z),F=Object.keys(j);for(const N of k){if(!F.includes(N))return!1;const X=z[N],ve=j[N];if(jn(X)&&jn(ve)){if(!Ar(X,ve))return!1}else if(X!==ve)return!1}for(const N of F)if(!k.includes(N))return!1;return!0}function jn(z){return null!==z&&"object"==typeof z}function os(z){const j=[];for(const[k,F]of Object.entries(z))Array.isArray(F)?F.forEach(N=>{j.push(encodeURIComponent(k)+"="+encodeURIComponent(N))}):j.push(encodeURIComponent(k)+"="+encodeURIComponent(F));return j.length?"&"+j.join("&"):""}function Ke(z){const j={};return z.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[N,X]=F.split("=");j[decodeURIComponent(N)]=decodeURIComponent(X)}}),j}function dt(z){const j=z.indexOf("?");if(!j)return"";const k=z.indexOf("#",j);return z.substring(j,k>0?k:void 0)}function Kt(z,j){const k=new nr(z,j);return k.subscribe.bind(k)}class nr{constructor(j,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{j(this)}).catch(F=>{this.error(F)})}next(j){this.forEachObserver(k=>{k.next(j)})}error(j){this.forEachObserver(k=>{k.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,k,F){let N;if(void 0===j&&void 0===k&&void 0===F)throw new Error("Missing Observer.");N=function Wt(z,j){if("object"!=typeof z||null===z)return!1;for(const k of j)if(k in z&&"function"==typeof z[k])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:k,complete:F},void 0===N.next&&(N.next=qn),void 0===N.error&&(N.error=qn),void 0===N.complete&&(N.complete=qn);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),X}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,j)}sendOne(j,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{k(this.observers[j])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qn(){}const $n=1e3,Dn=2,Zn=144e5,Nn=.5;function rr(z,j=$n,k=Dn){const F=j*Math.pow(k,z),N=Math.round(Nn*F*(Math.random()-.5)*2);return Math.min(Zn,F+N)}function Yt(z){return z&&z._delegate?z._delegate:z}},7095:(pt,Ce,L)=>{var h=L(5879);let B=null;function P(){return B}class ie{}const pe=new h.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(ge)},providedIn:"platform"}),n})();const Ae=new h.OlP("Location Initialized");let ge=(()=>{class n extends _e{constructor(){super(),this._doc=(0,h.f3M)(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function H(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function G(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(qe)},providedIn:"root"}),n})();const Me=new h.OlP("appBaseHref");let qe=(()=>{class n extends ke{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return H(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ne(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+ne(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+ne(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_e),h.LFG(Me,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends ke{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=H(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_e),h.LFG(Me,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ze=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(G(lt(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ne(r))}normalize(t){return n.stripTrailingSlash(function vt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,lt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=ne,n.joinWithSlash=H,n.stripTrailingSlash=G,n.\u0275fac=function(t){return new(t||n)(h.LFG(ke))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Pe(){return new Ze((0,h.LFG)(ke))}()},providedIn:"root"}),n})();function lt(n){return n.replace(/\/index.html$/,"")}var Ne=(()=>((Ne=Ne||{})[Ne.Format=0]="Format",Ne[Ne.Standalone=1]="Standalone",Ne))(),ee=(()=>((ee=ee||{})[ee.Narrow=0]="Narrow",ee[ee.Abbreviated=1]="Abbreviated",ee[ee.Wide=2]="Wide",ee[ee.Short=3]="Short",ee))(),et=(()=>((et=et||{})[et.Short=0]="Short",et[et.Medium=1]="Medium",et[et.Long=2]="Long",et[et.Full=3]="Full",et))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function He(n,e){return Bn((0,h.cg1)(n)[h.wAp.DateFormat],e)}function Ve(n,e){return Bn((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function Ye(n,e){return Bn((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function ot(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===$e.CurrencyDecimal)return t[h.wAp.NumberSymbols][$e.Decimal];if(e===$e.CurrencyGroup)return t[h.wAp.NumberSymbols][$e.Group]}return r}function Xt(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Bn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ai(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const jn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wr={},os=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.ShortGMT=1]="ShortGMT",Ke[Ke.Long=2]="Long",Ke[Ke.Extended=3]="Extended",Ke))(),dt=(()=>((dt=dt||{})[dt.FullYear=0]="FullYear",dt[dt.Month=1]="Month",dt[dt.Date=2]="Date",dt[dt.Hours=3]="Hours",dt[dt.Minutes=4]="Minutes",dt[dt.Seconds=5]="Seconds",dt[dt.FractionalSeconds=6]="FractionalSeconds",dt[dt.Day=7]="Day",dt))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function Kt(n,e,t,r){let s=function j(n){if(F(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,u=1,l=1]=n.split("-").map(g=>+g);return nr(s,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(jn))return function k(n){const e=new Date(0);let t=0,r=0;const s=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,g=Number(n[5]||0)-r,_=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,g,_,C),e}(r)}const e=new Date(n);if(!F(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ni(t,e)||e;let g,l=[];for(;e;){if(g=os.exec(e),!g){l.push(e);break}{l=l.concat(g.slice(1));const T=l.pop();if(!T)break;e=T}}let _=s.getTimezoneOffset();r&&(_=qr(r,_),s=function z(n,e,t){const r=t?-1:1,s=n.getTimezoneOffset();return function Yt(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(qr(e,s)-s))}(s,r,!0));let C="";return l.forEach(T=>{const x=function Pn(n){if(rr[n])return rr[n];let e;switch(n){case"G":case"GG":case"GGG":e=kt(Dt.Eras,ee.Abbreviated);break;case"GGGG":e=kt(Dt.Eras,ee.Wide);break;case"GGGGG":e=kt(Dt.Eras,ee.Narrow);break;case"y":e=pn(dt.FullYear,1,0,!1,!0);break;case"yy":e=pn(dt.FullYear,2,0,!0,!0);break;case"yyy":e=pn(dt.FullYear,3,0,!1,!0);break;case"yyyy":e=pn(dt.FullYear,4,0,!1,!0);break;case"Y":e=Nn(1);break;case"YY":e=Nn(2,!0);break;case"YYY":e=Nn(3);break;case"YYYY":e=Nn(4);break;case"M":case"L":e=pn(dt.Month,1,1);break;case"MM":case"LL":e=pn(dt.Month,2,1);break;case"MMM":e=kt(Dt.Months,ee.Abbreviated);break;case"MMMM":e=kt(Dt.Months,ee.Wide);break;case"MMMMM":e=kt(Dt.Months,ee.Narrow);break;case"LLL":e=kt(Dt.Months,ee.Abbreviated,Ne.Standalone);break;case"LLLL":e=kt(Dt.Months,ee.Wide,Ne.Standalone);break;case"LLLLL":e=kt(Dt.Months,ee.Narrow,Ne.Standalone);break;case"w":e=Zn(1);break;case"ww":e=Zn(2);break;case"W":e=Zn(1,!0);break;case"d":e=pn(dt.Date,1);break;case"dd":e=pn(dt.Date,2);break;case"c":case"cc":e=pn(dt.Day,1);break;case"ccc":e=kt(Dt.Days,ee.Abbreviated,Ne.Standalone);break;case"cccc":e=kt(Dt.Days,ee.Wide,Ne.Standalone);break;case"ccccc":e=kt(Dt.Days,ee.Narrow,Ne.Standalone);break;case"cccccc":e=kt(Dt.Days,ee.Short,Ne.Standalone);break;case"E":case"EE":case"EEE":e=kt(Dt.Days,ee.Abbreviated);break;case"EEEE":e=kt(Dt.Days,ee.Wide);break;case"EEEEE":e=kt(Dt.Days,ee.Narrow);break;case"EEEEEE":e=kt(Dt.Days,ee.Short);break;case"a":case"aa":case"aaa":e=kt(Dt.DayPeriods,ee.Abbreviated);break;case"aaaa":e=kt(Dt.DayPeriods,ee.Wide);break;case"aaaaa":e=kt(Dt.DayPeriods,ee.Narrow);break;case"b":case"bb":case"bbb":e=kt(Dt.DayPeriods,ee.Abbreviated,Ne.Standalone,!0);break;case"bbbb":e=kt(Dt.DayPeriods,ee.Wide,Ne.Standalone,!0);break;case"bbbbb":e=kt(Dt.DayPeriods,ee.Narrow,Ne.Standalone,!0);break;case"B":case"BB":case"BBB":e=kt(Dt.DayPeriods,ee.Abbreviated,Ne.Format,!0);break;case"BBBB":e=kt(Dt.DayPeriods,ee.Wide,Ne.Format,!0);break;case"BBBBB":e=kt(Dt.DayPeriods,ee.Narrow,Ne.Format,!0);break;case"h":e=pn(dt.Hours,1,-12);break;case"hh":e=pn(dt.Hours,2,-12);break;case"H":e=pn(dt.Hours,1);break;case"HH":e=pn(dt.Hours,2);break;case"m":e=pn(dt.Minutes,1);break;case"mm":e=pn(dt.Minutes,2);break;case"s":e=pn(dt.Seconds,1);break;case"ss":e=pn(dt.Seconds,2);break;case"S":e=pn(dt.FractionalSeconds,1);break;case"SS":e=pn(dt.FractionalSeconds,2);break;case"SSS":e=pn(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Wi(Ke.Short);break;case"ZZZZZ":e=Wi(Ke.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Wi(Ke.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Wi(Ke.Long);break;default:return null}return rr[n]=e,e}(T);C+=x?x(s,t,_):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function nr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ni(n,e){const t=function cr(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(Wr[t]=Wr[t]||{},Wr[t][e])return Wr[t][e];let r="";switch(e){case"shortDate":r=He(n,et.Short);break;case"mediumDate":r=He(n,et.Medium);break;case"longDate":r=He(n,et.Long);break;case"fullDate":r=He(n,et.Full);break;case"shortTime":r=Ve(n,et.Short);break;case"mediumTime":r=Ve(n,et.Medium);break;case"longTime":r=Ve(n,et.Long);break;case"fullTime":r=Ve(n,et.Full);break;case"short":const s=ni(n,"shortTime"),u=ni(n,"shortDate");r=Wt(Ye(n,et.Short),[s,u]);break;case"medium":const l=ni(n,"mediumTime"),g=ni(n,"mediumDate");r=Wt(Ye(n,et.Medium),[l,g]);break;case"long":const _=ni(n,"longTime"),C=ni(n,"longDate");r=Wt(Ye(n,et.Long),[_,C]);break;case"full":const T=ni(n,"fullTime"),x=ni(n,"fullDate");r=Wt(Ye(n,et.Full),[T,x])}return r&&(Wr[t][e]=r),r}function Wt(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function qn(n,e,t="-",r,s){let u="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),u+l}function pn(n,e,t=0,r=!1,s=!1){return function(u,l){let g=function Ur(n,e){switch(n){case dt.FullYear:return e.getFullYear();case dt.Month:return e.getMonth();case dt.Date:return e.getDate();case dt.Hours:return e.getHours();case dt.Minutes:return e.getMinutes();case dt.Seconds:return e.getSeconds();case dt.FractionalSeconds:return e.getMilliseconds();case dt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||g>-t)&&(g+=t),n===dt.Hours)0===g&&-12===t&&(g=12);else if(n===dt.FractionalSeconds)return function as(n,e){return qn(n,3).substring(0,e)}(g,e);const _=ot(l,$e.MinusSign);return qn(g,e,_,r,s)}}function kt(n,e,t=Ne.Format,r=!1){return function(s,u){return function Un(n,e,t,r,s,u){switch(t){case Dt.Months:return function ae(n,e,t){const r=(0,h.cg1)(n),u=Bn([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return Bn(u,t)}(e,s,r)[n.getMonth()];case Dt.Days:return function bs(n,e,t){const r=(0,h.cg1)(n),u=Bn([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return Bn(u,t)}(e,s,r)[n.getDay()];case Dt.DayPeriods:const l=n.getHours(),g=n.getMinutes();if(u){const C=function lr(n){const e=(0,h.cg1)(n);return Xt(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Ai(r):[Ai(r[0]),Ai(r[1])])}(e),T=function dr(n,e,t){const r=(0,h.cg1)(n);Xt(r);const u=Bn([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return Bn(u,t)||[]}(e,s,r),x=C.findIndex($=>{if(Array.isArray($)){const[K,ue]=$,ye=l>=K.hours&&g>=K.minutes,me=l<ue.hours||l===ue.hours&&g<ue.minutes;if(K.hours<ue.hours){if(ye&&me)return!0}else if(ye||me)return!0}else if($.hours===l&&$.minutes===g)return!0;return!1});if(-1!==x)return T[x]}return function Gr(n,e,t){const r=(0,h.cg1)(n),u=Bn([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return Bn(u,t)}(e,s,r)[l<12?0:1];case Dt.Eras:return function we(n,e){return Bn((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,u,n,e,t,r)}}function Wi(n){return function(e,t,r){const s=-1*r,u=ot(t,$e.MinusSign),l=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case Ke.Short:return(s>=0?"+":"")+qn(l,2,u)+qn(Math.abs(s%60),2,u);case Ke.ShortGMT:return"GMT"+(s>=0?"+":"")+qn(l,1,u);case Ke.Long:return"GMT"+(s>=0?"+":"")+qn(l,2,u)+":"+qn(Math.abs(s%60),2,u);case Ke.Extended:return 0===r?"Z":(s>=0?"+":"")+qn(l,2,u)+":"+qn(Math.abs(s%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ts=0,Mr=4;function Dn(n){return nr(n.getFullYear(),n.getMonth(),n.getDate()+(Mr-n.getDay()))}function Zn(n,e=!1){return function(t,r){let s;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();s=1+Math.floor((l+u)/7)}else{const u=Dn(t),l=function $n(n){const e=nr(n,Ts,1).getDay();return nr(n,0,1+(e<=Mr?Mr:Mr+7)-e)}(u.getFullYear()),g=u.getTime()-l.getTime();s=1+Math.round(g/6048e5)}return qn(s,n,ot(r,$e.MinusSign))}}function Nn(n,e=!1){return function(t,r){return qn(Dn(t).getFullYear(),n,ot(r,$e.MinusSign),e)}}const rr={};function qr(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function F(n){return n instanceof Date&&!isNaN(n.valueOf())}function Io(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}class Uf{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ra=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Uf(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,l),Kn(g,s)}});for(let s=0,u=r.length;s<u;s++){const g=r.get(s).context;g.index=s,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Kn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kn(n,e){n.context.$implicit=e.item}let Ss=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ad("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ad("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Qg{constructor(){this.$implicit=null,this.ngIf=null}}function Ad(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function Ut(n,e){return new h.vHH(2100,!1)}let xu=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Ut();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=h.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const it=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pt=new h.OlP("DATE_PIPE_DEFAULT_OPTIONS");let An=(()=>{class n{constructor(t,r,s){this.locale=t,this.defaultTimezone=r,this.defaultOptions=s}transform(t,r,s,u){if(null==t||""===t||t!=t)return null;try{return Kt(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw Ut()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(it,24),h.Y36(Pt,24))},n.\u0275pipe=h.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Zi(n){return"server"===n}let To=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new wi((0,h.LFG)(pe),window)}),n})();class wi{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Xo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=So(this.window.history)||So(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function So(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Pr{}class ra extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jr extends ra{static makeCurrent(){!function J(n){B||(B=n)}(new jr)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Bd(){return ia=ia||document.querySelector("base"),ia?ia.getAttribute("href"):null}();return null==t?null:function xi(n){no=no||document.createElement("a"),no.setAttribute("href",n);const e=no.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Io(document.cookie,e)}}let no,ia=null,jd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const $d=new h.OlP("EventManagerPlugins");let ds=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($d),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Hd{constructor(e){this._doc=e}}const yl="ng-app-id";let Hu=(()=>{class n{constructor(t,r,s,u={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zi(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${yl}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const u=s.get(t);return u.usage+=r,u.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,u=s?.get(r);if(u?.parentNode===t)return s.delete(r),u.removeAttribute(yl),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(yl,this.appId),l}}addStyleToHost(t,r){const s=this.getStyleElement(t,r);t.appendChild(s);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(s):u.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const sa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ri=/%COMP%/g,tm=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $a(n,e){return e.map(t=>t.replace(Ri,n))}let Qi=(()=>{class n{constructor(t,r,s,u,l,g,_,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.doc=l,this.platformId=g,this.ngZone=_,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=Zi(g),this.defaultRenderer=new Gu(t,l,_,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof en?s.applyToHost(t):s instanceof Se&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.doc,g=this.ngZone,_=this.eventManager,C=this.sharedStylesHost,T=this.removeStylesOnCompDestory,x=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:u=new en(_,C,r,this.appId,T,l,g,x);break;case h.ifc.ShadowDom:return new Xf(_,C,t,r,l,g,this.nonce,x);default:u=new Se(_,C,r,T,l,g,x)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ds),h.LFG(Hu),h.LFG(h.AFp),h.LFG(tm),h.LFG(pe),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Gu{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(sa[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Gd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Gd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=sa[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=sa[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,s&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=P().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Gd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xf extends Gu{constructor(e,t,r,s,u,l,g,_){super(e,u,l,_),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=$a(s.id,s.styles);for(const T of C){const x=document.createElement("style");g&&x.setAttribute("nonce",g),x.textContent=T,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Se extends Gu{constructor(e,t,r,s,u,l,g,_){super(e,u,l,g),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=_?$a(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class en extends Se{constructor(e,t,r,s,u,l,g,_){const C=s+"-"+r.id;super(e,t,r,u,l,g,_,C),this.contentAttr=function vl(n){return"_ngcontent-%COMP%".replace(Ri,n)}(C),this.hostAttr=function Qf(n){return"_nghost-%COMP%".replace(Ri,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let wl=(()=>{class n extends Hd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Wu=["alt","control","meta","shift"],hr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ep={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qu=(()=>{class n extends Hd{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),Wu.forEach(C=>{const T=r.indexOf(C);T>-1&&(r.splice(T,1),l+=C+".")}),l+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=s,_.fullKey=l,_}static matchEventFullKeyCode(t,r){let s=hr[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Wu.forEach(l=>{l!==s&&(0,ep[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Zu=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Wd(){jr.makeCurrent()},multi:!0},{provide:pe,useFactory:function Or(){return(0,h.RDi)(document),document},deps:[]}]),kn=new h.OlP(""),fs=[{provide:h.rWj,useClass:class Yf{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const g=function(_){l=l||_,u--,0==u&&r(l)};s.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],fr=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function qd(){return new h.qLn},deps:[]},{provide:$d,useClass:wl,multi:!0,deps:[pe,h.R0b,h.Lbi]},{provide:$d,useClass:qu,multi:!0,deps:[pe]},Qi,Hu,ds,{provide:h.FYo,useExisting:Qi},{provide:Pr,useClass:jd,deps:[]},[]];let Il=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(kn,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...fr,...fs],imports:[us,h.hGG]}),n})(),Yu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ga(){return new Yu((0,h.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var ln=L(2459),oi=L(5592);const{isArray:Tl}=Array,{getPrototypeOf:oo,prototype:No,keys:Sl}=Object;function Za(n){if(1===n.length){const e=n[0];if(Tl(e))return{args:e,keys:null};if(function Po(n){return n&&"object"==typeof n&&oo(n)===No}(e)){const t=Sl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ka=L(4829),Ya=L(4564),kr=L(8251),Vt=L(7398);const{isArray:ao}=Array;function ai(n){return(0,Vt.U)(e=>function tc(n,e){return ao(e)?n(...e):n(e)}(n,e))}function Al(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}let xs=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Ni=(()=>{class n extends xs{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const ps=new h.OlP("NgValueAccessor"),im={provide:ps,useExisting:(0,h.Gpc)(()=>gs),multi:!0},rp=new h.OlP("CompositionEventMode");let gs=(()=>{class n extends xs{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pi(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(rp,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([im]),h.qOj]}),n})();function Oi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Fn=new h.OlP("NgValidators"),Rs=new h.OlP("NgAsyncValidators"),sm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function rh(n){return Oi(n.value)?{required:!0}:null}function aa(n){return Oi(n.value)||sm.test(n.value)?null:{email:!0}}function ko(n){return null}function Fo(n){return null!=n}function sh(n){return(0,h.QGY)(n)?(0,ln.D)(n):n}function Xa(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function sc(n,e){return e.map(t=>t(n))}function oc(n){return n.map(e=>function ip(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xi(n){return null!=n?function ac(n){if(!n)return null;const e=n.filter(Fo);return 0==e.length?null:function(t){return Xa(sc(t,e))}}(oc(n)):null}function ki(n){return null!=n?function Ns(n){if(!n)return null;const e=n.filter(Fo);return 0==e.length?null:function(t){return function Qa(...n){const e=(0,Ya.jO)(n),{args:t,keys:r}=Za(n),s=new oi.y(u=>{const{length:l}=t;if(!l)return void u.complete();const g=new Array(l);let _=l,C=l;for(let T=0;T<l;T++){let x=!1;(0,Ka.Xf)(t[T]).subscribe((0,kr.x)(u,$=>{x||(x=!0,C--),g[T]=$},()=>_--,void 0,()=>{(!_||!x)&&(C||u.next(r?Al(r,g):g),u.complete())}))}});return e?s.pipe(ai(e)):s}(sc(t,e).map(sh)).pipe((0,Vt.U)(Xa))}}(oc(n)):null}function eu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tu(n){return n?Array.isArray(n)?n:[n]:[]}function Lo(n,e){return Array.isArray(n)?n.includes(e):n===e}function uc(n,e){const t=tu(e);return tu(n).forEach(s=>{Lo(t,s)||t.push(s)}),t}function Rl(n,e){return tu(e).filter(t=>!Lo(n,t))}class cc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ki(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ir extends cc{get formDirective(){return null}get path(){return null}}class ca extends cc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class om{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pl=(()=>{class n extends om{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ca,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),En=(()=>{class n extends om{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ir,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const Y="VALID",de="INVALID",ze="PENDING",je="DISABLED";function ct(n){return(sr(n)?n.validators:n)||null}function St(n,e){return(sr(e)?e.asyncValidators:n)||null}function sr(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ys{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Y}get invalid(){return this.status===de}get pending(){return this.status==ze}get disabled(){return this.status===je}get enabled(){return this.status!==je}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rl(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rl(e,this._rawAsyncValidators))}hasValidator(e){return Lo(this._rawValidators,e)}hasAsyncValidator(e){return Lo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ze,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=je,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Y,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Y||this.status===ze)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?je:Y}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ze,this._hasOwnPendingAsyncValidator=!0;const t=sh(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?je:this.errors?de:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ze)?ze:this._anyControlsHaveStatus(de)?de:Y}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sr(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ot(n){return Array.isArray(n)?Xi(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Fr(n){return Array.isArray(n)?ki(n):n||null}(this._rawAsyncValidators)}}class Ii extends ys{constructor(e,t,r){super(ct(t),St(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function dc(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function ms(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const iu=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>su}),su="always";function ho(n,e,t=su){dp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function cm(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lm(n,e)})}(n,e),function v(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lm(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function um(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dp(n,e){const t=function ua(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(eu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Ps(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(eu(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();lp(e._rawValidators,s),lp(e._rawAsyncValidators,s)}function lm(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const fp={provide:Ir,useExisting:(0,h.Gpc)(()=>ou)},Ll=(()=>Promise.resolve())();let ou=(()=>{class n extends Ir{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Ii({},Xi(t),ki(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ll.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ho(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ll.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ll.then(()=>{const r=this._findContainer(t.path),s=new Ii({});(function p(n,e){dp(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ll.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ll.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Et(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Fn,10),h.Y36(Rs,10),h.Y36(iu,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([fp]),h.qOj]}),n})();function dm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function pp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const au=class extends ys{constructor(e=null,t,r){super(ct(t),St(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sr(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=pp(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},la={provide:ca,useExisting:(0,h.Gpc)(()=>vp)},vE=(()=>Promise.resolve())();let vp=(()=>{class n extends ca{constructor(t,r,s,u,l,g){super(),this._changeDetectorRef=l,this.callSetDisabledState=g,this.control=new au,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function tn(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===gs?t=u:function Xe(n){return Object.getPrototypeOf(n.constructor)===Ni}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Be(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ho(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,h.VuI)(r);vE.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function lo(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ir,9),h.Y36(Fn,10),h.Y36(Rs,10),h.Y36(ps,10),h.Y36(h.sBO,8),h.Y36(iu,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([la]),h.qOj,h.TTD]}),n})(),pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),EE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let da=(()=>{class n{constructor(){this._validator=ko}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ko,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const yT={provide:Fn,useExisting:(0,h.Gpc)(()=>Ep),multi:!0};let Ep=(()=>{class n extends da{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.VuI,this.createValidator=t=>rh}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([yT]),h.qOj]}),n})();const vT={provide:Fn,useExisting:(0,h.Gpc)(()=>Dm),multi:!0};let Dm=(()=>{class n extends da{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=h.VuI,this.createValidator=t=>aa}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[h._Bn([vT]),h.qOj]}),n})();const av={provide:Fn,useExisting:(0,h.Gpc)(()=>uv),multi:!0};let uv=(()=>{class n extends da{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function iv(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function xl(n){return e=>function Ml(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[h._Bn([av]),h.qOj]}),n})(),kE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[EE]}),n})(),LE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iu,useValue:t.callSetDisabledState??su}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[kE]}),n})();var $r=L(6304),ch=L(4674),bt=L(2096),vs=L(5619),lh=L(2737),Ip=L(7103);function hv(...n){const e=(0,Ya.yG)(n),t=(0,Ya.jO)(n),{args:r,keys:s}=Za(n);if(0===r.length)return(0,ln.D)([],e);const u=new oi.y(function UE(n,e,t=lh.y){return r=>{VE(e,()=>{const{length:s}=n,u=new Array(s);let l=s,g=s;for(let _=0;_<s;_++)VE(e,()=>{const C=(0,ln.D)(n[_],e);let T=!1;C.subscribe((0,kr.x)(r,x=>{u[_]=x,T||(T=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>Al(s,l):lh.y));return t?u.pipe(ai(t)):u}function VE(n,e,t){n?(0,Ip.f)(t,n,e):e()}const bm=(0,L(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var dh=L(7537);function hh(...n){return function BE(){return(0,dh.J)(1)}()((0,ln.D)(n,(0,Ya.yG)(n)))}function Tm(n){return new oi.y(e=>{(0,Ka.Xf)(n()).subscribe(e)})}var fh=L(8407);function ph(n,e){const t=(0,ch.m)(n)?n:()=>n,r=s=>s.error(t());return new oi.y(e?s=>e.schedule(r,0,s):r)}var fc=L(6232),AT=L(7394),Os=L(9360);function Dp(){return(0,Os.e)((n,e)=>{let t=null;n._refCount++;const r=(0,kr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class jE extends oi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Os.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new AT.w0;const t=this.getSubject();e.add(this.source.subscribe((0,kr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=AT.w0.EMPTY)}return e}refCount(){return Dp()(this)}}var Vo=L(8645),pr=L(4664);function uu(n){return n<=0?()=>fc.E:(0,Os.e)((e,t)=>{let r=0;e.subscribe((0,kr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Cp(...n){const e=(0,Ya.yG)(n);return(0,Os.e)((t,r)=>{(e?hh(n,t,e):hh(n,t)).subscribe(r)})}function ks(n,e){return(0,Os.e)((t,r)=>{let s=0;t.subscribe((0,kr.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var Li=L(1631);function bp(n){return(0,Os.e)((e,t)=>{let r=!1;e.subscribe((0,kr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function $E(n=MT){return(0,Os.e)((e,t)=>{let r=!1;e.subscribe((0,kr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function MT(){return new bm}function pc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ks((s,u)=>n(s,u,r)):lh.y,uu(1),t?bp(e):$E(()=>new bm))}function gh(n,e){return(0,ch.m)(e)?(0,Li.z)(n,e,1):(0,Li.z)(n,1)}var Jr=L(9397);function Ui(n){return(0,Os.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,kr.x)(t,void 0,void 0,l=>{u=(0,Ka.Xf)(n(l,Ui(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Sm(n,e){return(0,Os.e)(function Tp(n,e,t,r,s){return(u,l)=>{let g=t,_=e,C=0;u.subscribe((0,kr.x)(l,T=>{const x=C++;_=g?n(_,T,x):(g=!0,T),r&&l.next(_)},s&&(()=>{g&&l.next(_),l.complete()})))}}(n,e,arguments.length>=2,!0))}function HE(n){return n<=0?()=>fc.E:(0,Os.e)((e,t)=>{let r=[];e.subscribe((0,kr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function mh(n){return(0,Os.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Qt="primary",yh=Symbol("RouteTitle");class xT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _h(n){return new xT(n)}function RT(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))s[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function fo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!ha(n[s],e[s]))return!1;return!0}function ha(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function vh(n){return n.length>0?n[n.length-1]:null}function cu(n){return function dv(n){return!!n&&(n instanceof oi.y||(0,ch.m)(n.lift)&&(0,ch.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,ln.D)(Promise.resolve(n)):(0,bt.of)(n)}const zE={exact:function OT(n,e,t){if(!Hl(n.segments,e.segments)||!gv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!OT(n.children[r],e.children[r],t))return!1;return!0},subset:Am},fv={exact:function IR(n,e){return fo(n,e)},subset:function pv(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ha(n[t],e[t]))},ignored:()=>!0};function PT(n,e,t){return zE[t.paths](n.root,e.root,t.matrixParams)&&fv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Am(n,e,t){return kT(n,e,e.segments,t)}function kT(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Hl(s,t)||e.hasChildren()||!gv(s,t,r))}if(n.segments.length===t.length){if(!Hl(n.segments,t)||!gv(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!Am(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Hl(n.segments,s)&&gv(n.segments,s,r)&&n.children[Qt])&&kT(n.children[Qt],e,u,r)}}function gv(n,e,t){return e.every((r,s)=>fv[t](n[s].parameters,r.parameters))}class $l{constructor(e=new xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_h(this.queryParams)),this._queryParamMap}toString(){return yv.serialize(this)}}class xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mm(this)}}class Sp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_h(this.parameters)),this._parameterMap}toString(){return ZE(this)}}function Hl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let gc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new mv},providedIn:"root"}),n})();class mv{parse(e){const t=new vv(e);return new $l(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${or(e.root,!0)}`,r=function KE(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${xm(t)}=${xm(s)}`).join("&"):`${xm(t)}=${xm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function _v(n){return encodeURI(n)}(e.fragment)}`:""}`}}const yv=new mv;function Mm(n){return n.segments.map(e=>ZE(e)).join("/")}function or(n,e){if(!n.hasChildren())return Mm(n);if(e){const t=n.children[Qt]?or(n.children[Qt],!1):"",r=[];return Object.entries(n.children).forEach(([s,u])=>{s!==Qt&&r.push(`${s}:${or(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function GE(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===Qt&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==Qt&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===Qt?[or(n.children[Qt],!1)]:[`${s}:${or(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${Mm(n)}/${t[0]}`:`${Mm(n)}/(${t.join("//")})`}}function WE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xm(n){return WE(n).replace(/%3B/gi,";")}function Rm(n){return WE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nm(n){return decodeURIComponent(n)}function qE(n){return Nm(n.replace(/\+/g,"%20"))}function ZE(n){return`${Rm(n.path)}${function LT(n){return Object.keys(n).map(e=>`;${Rm(e)}=${Rm(n[e])}`).join("")}(n.parameters)}`}const DR=/^[^\/()?;#]+/;function YE(n){const e=n.match(DR);return e?e[0]:""}const Ap=/^[^\/()?;=#]+/,Mp=/^[^=?&#]+/,JE=/^[^&#]+/;class vv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Qt]=new xn(e,t)),r}parseSegment(){const e=YE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new Sp(Nm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function In(n){const e=n.match(Ap);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=YE(this.remaining);s&&(r=s,this.capture(r))}e[Nm(t)]=Nm(r)}parseQueryParam(e){const t=function QE(n){const e=n.match(Mp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function XE(n){const e=n.match(JE);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=qE(t),u=qE(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=YE(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Qt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Qt]:new xn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function eI(n){return n.segments.length>0?new xn([],{[Qt]:n}):n}function wv(n){const e={};for(const r of Object.keys(n.children)){const u=wv(n.children[r]);if(r===Qt&&0===u.segments.length&&u.hasChildren())for(const[l,g]of Object.entries(u.children))e[l]=g;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function tI(n){if(1===n.numberOfChildren&&n.children[Qt]){const e=n.children[Qt];return new xn(n.segments.concat(e.segments),e.children)}return n}(new xn(n.segments,e))}function lu(n){return n instanceof $l}function Pm(n){let e;const s=eI(function t(u){const l={};for(const _ of u.children){const C=t(_);l[_.outlet]=C}const g=new xn(u.url,l);return u===n&&(e=g),g}(n.root));return e??s}function nI(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return Om(s,s,s,t,r);const u=function Ev(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rI(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Object.entries(u.outlets).forEach(([_,C])=>{g[_]="string"==typeof C?C.split("/"):C}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new rI(t,e,r)}(e);if(u.toRoot())return Om(s,s,new xn([],{}),t,r);const l=function UT(n,e,t){if(n.isAbsolute)return new zl(e,!0,0);if(!t)return new zl(e,!1,NaN);if(null===t.parent)return new zl(t,!0,0);const r=wh(n.commands[0])?0:1;return function Iv(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new h.vHH(4005,!1);s=r.segments.length}return new zl(r,!1,s-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,s,n),g=l.processChildren?Gl(l.segmentGroup,l.index,u.commands):yc(l.segmentGroup,l.index,u.commands);return Om(s,l.segmentGroup,g,t,r)}function wh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Eh(n){return"object"==typeof n&&null!=n&&n.outlets}function Om(n,e,t,r,s){let l,u={};r&&Object.entries(r).forEach(([_,C])=>{u[_]=Array.isArray(C)?C.map(T=>`${T}`):`${C}`}),l=n===e?t:mc(n,e,t);const g=eI(wv(l));return new $l(g,u,s)}function mc(n,e,t){const r={};return Object.entries(n.children).forEach(([s,u])=>{r[s]=u===e?t:mc(u,e,t)}),new xn(n.segments,r)}class rI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wh(r[0]))throw new h.vHH(4003,!1);const s=r.find(Eh);if(s&&s!==vh(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yc(n,e,t){if(n||(n=new xn([],{})),0===n.segments.length&&n.hasChildren())return Gl(n,e,t);const r=function Dv(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],g=t[r];if(Eh(g))break;const _=`${g}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!Wl(_,C,l))return u;r+=2}else{if(!Wl(_,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new xn(n.segments.slice(0,r.pathIndex),{});return u.children[Qt]=new xn(n.segments.slice(r.pathIndex),n.children),Gl(u,0,s)}return r.match&&0===s.length?new xn(n.segments,{}):r.match&&!n.hasChildren()?Cv(n,e,t):r.match?Gl(n,0,s):Cv(n,e,t)}function Gl(n,e,t){if(0===t.length)return new xn(n.segments,{});{const r=function km(n){return Eh(n[0])?n[0].outlets:{[Qt]:n}}(t),s={};if(!r[Qt]&&n.children[Qt]&&1===n.numberOfChildren&&0===n.children[Qt].segments.length){const u=Gl(n.children[Qt],e,t);return new xn(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(s[u]=yc(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(s[u]=l)}),new xn(n.segments,s)}}function Cv(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Eh(u)){const _=VT(u.outlets);return new xn(r,_)}if(0===s&&wh(t[0])){r.push(new Sp(n.segments[e].path,bv(t[0]))),s++;continue}const l=Eh(u)?u.outlets[Qt]:`${u}`,g=s<t.length-1?t[s+1]:null;l&&g&&wh(g)?(r.push(new Sp(l,bv(g))),s+=2):(r.push(new Sp(l,{})),s++)}return new xn(r,{})}function VT(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Cv(new xn([],{}),0,r))}),e}function bv(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Wl(n,e,t){return n==t.path&&fo(e,t.parameters)}const xp="imperative";class fa{constructor(e,t){this.id=e,this.url=t}}class Tv extends fa{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class du extends fa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rp extends fa{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Np extends fa{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Fm extends fa{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sv extends fa{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bR extends fa{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TR extends fa{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BT extends fa{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jT extends fa{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SR{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AR{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $T{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Av{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ih{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xv{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hu,this.attachRef=null}}let hu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xv,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ql(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ql(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Um(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Um(e,this._root).map(t=>t.value)}}function ql(n,e){if(n===e.value)return e;for(const t of e.children){const r=ql(n,t);if(r)return r}return null}function Um(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Um(n,t);if(r.length)return r.unshift(e),r}return[]}class Bo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HT extends Pp{constructor(e,t){super(e),this.snapshot=t,Pv(this,e)}toString(){return this.snapshot.toString()}}function Vm(n,e){const t=function Rv(n,e){const l=new Op([],{},{},"",{},Qt,e,null,{});return new Nv("",new Bo(l,[]))}(0,e),r=new vs.X([new Sp("",{})]),s=new vs.X({}),u=new vs.X({}),l=new vs.X({}),g=new vs.X(""),_=new _c(r,s,l,g,u,Qt,e,t.root);return _.snapshot=t.root,new HT(new Bo(_,[]),t)}class _c{constructor(e,t,r,s,u,l,g,_){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=l,this.component=g,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,Vt.U)(C=>C[yh]))??(0,bt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(e=>_h(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(e=>_h(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function zT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Op{get title(){return this.data?.[yh]}constructor(e,t,r,s,u,l,g,_,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.routeConfig=_,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_h(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_h(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nv extends Pp{constructor(e,t){super(t),this.url=e,Pv(this,t)}toString(){return oI(this._root)}}function Pv(n,e){e.value._routerState=n,e.children.forEach(t=>Pv(n,t))}function oI(n){const e=n.children.length>0?` { ${n.children.map(oI).join(", ")} } `:"";return`${n.value}${e}`}function aI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fo(e.params,t.params)||n.paramsSubject.next(t.params),function NT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),fo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ov(n,e){const t=fo(n.params,e.params)&&function FT(n,e){return Hl(n,e)&&n.every((t,r)=>fo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ov(n.parent,e.parent))}let kp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(hu),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Bm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new kv(t,g,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:_,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class kv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_c?this.route:e===hu?this.childContexts:this.parent.get(e,t)}}const Bm=new h.OlP("");let Fv=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=hv([r.queryParams,r.params,r.data]).pipe((0,pr.w)(([u,l,g],_)=>(g={...u,...l,...g},0===_?(0,bt.of)(g):Promise.resolve(g)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,h.qFp)(r.component);if(l)for(const{templateName:g}of l.inputs)t.activatedComponentRef.setInput(g,u[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function vc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function GT(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return vc(n,r,s);return vc(n,r)})}(n,e,t);return new Bo(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>vc(n,g)),l}}const r=function uI(n){return new _c(new vs.X(n.url),new vs.X(n.params),new vs.X(n.queryParams),new vs.X(n.fragment),new vs.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>vc(n,u));return new Bo(r,s)}}const Uv="ngNavigationCancelingError";function Vv(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=lu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=WT(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function WT(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Uv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function cI(n){return Fp(n)&&lu(n.url)}function Fp(n){return n&&n[Uv]}let lI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[kp],encapsulation:2}),n})();function Lp(n){const e=n.children&&n.children.map(Lp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=lI),t}function ts(n){return n.outlet||Qt}function $m(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Hm{constructor(e,t,r,s,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),aI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=fu(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=fu(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=fu(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=fu(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new Mv(u.value.snapshot))}),e.children.length&&this.forwardEvent(new $T(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(aI(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),aI(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=$m(s.snapshot);l.attachRef=null,l.route=s,l.injector=g,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Bv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Up{constructor(e,t){this.component=e,this.route=t}}function KT(n,e,t){const r=n._root;return Vp(r,e?e._root:null,t,[r.value])}function bh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Vp(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=fu(e);return n.children.forEach(l=>{(function QT(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const _=function JT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Hl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hl(n.url,e.url)||!fo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ov(n,e)||!fo(n.queryParams,e.queryParams);default:return!Ov(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);_?s.canActivateChecks.push(new Bv(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Vp(n,e,u.component?g?g.children:null:t,r,s),_&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new Up(g.outlet.component,l))}else l&&Th(e,g,s),s.canActivateChecks.push(new Bv(r)),Vp(n,null,u.component?g?g.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,g])=>Th(g,t.getContext(l),s)),s}function Th(n,e,t){const r=fu(n),s=n.value;Object.entries(r).forEach(([u,l])=>{Th(l,s.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Up(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function pa(n){return"function"==typeof n}function tS(n){return n instanceof bm||"EmptyError"===n?.name}const Bp=Symbol("INITIAL_VALUE");function gu(){return(0,pr.w)(n=>hv(n.map(e=>e.pipe(uu(1),Cp(Bp)))).pipe((0,Vt.U)(e=>{for(const t of e)if(!0!==t){if(t===Bp)return Bp;if(!1===t||t instanceof $l)return t}return!0}),ks(e=>e!==Bp),uu(1)))}function DI(n){return(0,fh.z)((0,Jr.b)(e=>{if(lu(e))throw Vv(0,e)}),(0,Vt.U)(e=>!0===e))}class jp{constructor(e){this.segmentGroup=e||null}}class CI{constructor(e){this.urlTree=e}}function Zl(n){return ph(new jp(n))}function bI(n){return ph(new CI(n))}class TI{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,bt.of)(r);if(s.numberOfChildren>1||!s.children[Qt])return ph(new h.vHH(4e3,!1));s=s.children[Qt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new $l(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);r[s]=t[g]}else r[s]=u}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return Object.entries(t.children).forEach(([g,_])=>{l[g]=this.createSegmentGroup(e,_,r,s)}),new xn(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new h.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wc(n,e,t,r,s){const u=Ec(n,e,t);return u.matched?(r=function Dh(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function rS(n,e,t,r){const s=e.canMatch;if(!s||0===s.length)return(0,bt.of)(!0);const u=s.map(l=>{const g=bh(l,n);return cu(function OR(n){return n&&pa(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))});return(0,bt.of)(u).pipe(gu(),DI())}(r,e,t).pipe((0,Vt.U)(l=>!0===l?u:{...zm}))):(0,bt.of)(u)}function Ec(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...zm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||RT)(t,n,e);if(!s)return{...zm};const u={};Object.entries(s.posParams??{}).forEach(([g,_])=>{u[g]=_.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function jv(n,e,t,r){return t.length>0&&function Sh(n,e,t){return t.some(r=>Ic(n,e,r)&&ts(r)!==Qt)}(n,t,r)?{segmentGroup:new xn(e,Gm(r,new xn(t,n.children))),slicedSegments:[]}:0===t.length&&function $v(n,e,t){return t.some(r=>Ic(n,e,r))}(n,t,r)?{segmentGroup:new xn(n.segments,sS(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xn(n.segments,n.children),slicedSegments:t}}function sS(n,e,t,r,s){const u={};for(const l of r)if(Ic(n,t,l)&&!s[ts(l)]){const g=new xn([],{});u[ts(l)]=g}return{...s,...u}}function Gm(n,e){const t={};t[Qt]=e;for(const r of n)if(""===r.path&&ts(r)!==Qt){const s=new xn([],{});t[ts(r)]=s}return t}function Ic(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Gv{constructor(e,t,r,s,u,l,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new TI(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=jv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Qt).pipe(Ui(t=>{if(t instanceof CI)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof jp?this.noMatchError(t):t}),(0,Vt.U)(t=>{const r=new Op([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,{}),s=new Bo(r,t),u=new Nv("",s),l=function CR(n,e,t=null,r=null){return nI(Pm(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Qt).pipe(Ui(r=>{throw r instanceof jp?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=sI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0)}processChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,ln.D)(s).pipe(gh(u=>{const l=r.children[u],g=function fI(n,e){const t=n.filter(r=>ts(r)===e);return t.push(...n.filter(r=>ts(r)!==e)),t}(t,u);return this.processSegmentGroup(e,g,l,u)}),Sm((u,l)=>(u.push(...l),u)),bp(null),function wR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ks((s,u)=>n(s,u,r)):lh.y,HE(1),t?bp(e):$E(()=>new bm))}(),(0,Li.z)(u=>{if(null===u)return Zl(r);const l=MI(u);return function AI(n){n.sort((e,t)=>e.value.outlet===Qt?-1:t.value.outlet===Qt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,bt.of)(l)}))}processSegment(e,t,r,s,u,l){return(0,ln.D)(t).pipe(gh(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,s,u,l).pipe(Ui(_=>{if(_ instanceof jp)return(0,bt.of)(null);throw _}))),pc(g=>!!g),Ui(g=>{if(tS(g))return function Hv(n,e,t){return 0===e.length&&!n.children[t]}(r,s,u)?(0,bt.of)([]):Zl(r);throw g}))}processSegmentAgainstRoute(e,t,r,s,u,l,g){return function SI(n,e,t,r){return!!(ts(n)===r||r!==Qt&&Ic(e,t,n))&&("**"===n.path||Ec(e,n,t).matched)}(r,s,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,l,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,u,l):Zl(s):Zl(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bI(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Li.z)(l=>{const g=new xn(l,{});return this.processSegment(e,t,g,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:g,consumedSegments:_,remainingSegments:C,positionalParamSegments:T}=Ec(t,s,u);if(!g)return Zl(t);const x=this.applyRedirects.applyRedirectCommands(_,s.redirectTo,T);return s.redirectTo.startsWith("/")?bI(x):this.applyRedirects.lineralizeSegments(s,x).pipe((0,Li.z)($=>this.processSegment(e,r,t,$.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u,l){let g;if("**"===r.path){const _=s.length>0?vh(s).parameters:{},C=new Op(s,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xI(r),ts(r),r.component??r._loadedComponent??null,r,qv(r));g=(0,bt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=wc(t,r,s,e).pipe((0,Vt.U)(({matched:_,consumedSegments:C,remainingSegments:T,parameters:x})=>_?{snapshot:new Op(C,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xI(r),ts(r),r.component??r._loadedComponent??null,r,qv(r)),consumedSegments:C,remainingSegments:T}:null));return g.pipe((0,pr.w)(_=>null===_?Zl(t):this.getChildConfig(e=r._injector??e,r,s).pipe((0,pr.w)(({routes:C})=>{const T=r._loadedInjector??e,{snapshot:x,consumedSegments:$,remainingSegments:K}=_,{segmentGroup:ue,slicedSegments:ye}=jv(t,$,K,C);if(0===ye.length&&ue.hasChildren())return this.processChildren(T,C,ue).pipe((0,Vt.U)(rt=>null===rt?null:[new Bo(x,rt)]));if(0===C.length&&0===ye.length)return(0,bt.of)([new Bo(x,[])]);const me=ts(r)===u;return this.processSegment(T,C,ue,ye,me?Qt:u,!0).pipe((0,Vt.U)(rt=>[new Bo(x,rt)]))}))))}getChildConfig(e,t,r){return t.children?(0,bt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,bt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function II(n,e,t,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,bt.of)(!0);const u=s.map(l=>{const g=bh(l,n);return cu(function gI(n){return n&&pa(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))});return(0,bt.of)(u).pipe(gu(),DI())}(e,t,r).pipe((0,Li.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,Jr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function FR(n){return ph(WT(!1,3))}())):(0,bt.of)({routes:[],injector:e})}}function Wv(n){const e=n.value.routeConfig;return e&&""===e.path}function MI(n){const e=[],t=new Set;for(const r of n){if(!Wv(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=MI(r.children);e.push(new Bo(r.value,s))}return e.filter(r=>!t.has(r))}function xI(n){return n.data||{}}function qv(n){return n.resolve||{}}function PI(n){return"string"==typeof n.title||null===n.title}function Zv(n){return(0,pr.w)(e=>{const t=n(e);return t?(0,ln.D)(t).pipe((0,Vt.U)(()=>e)):(0,bt.of)(e)})}const ci=new h.OlP("ROUTES");let Kv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,bt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=cu(t.loadComponent()).pipe((0,Vt.U)(dS),(0,Jr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),mh(()=>{this.componentLoaders.delete(t)})),s=new jE(r,()=>new Vo.x).pipe(Dp());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,bt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Vt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,C;return Array.isArray(g)?C=g:(_=g.create(t).injector,C=_.get(ci,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:C.map(Lp),injector:_}}),mh(()=>{this.childrenLoaders.delete(r)})),l=new jE(u,()=>new Vo.x).pipe(Dp());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return cu(t()).pipe((0,Vt.U)(dS),(0,Li.z)(r=>r instanceof h.YKP||Array.isArray(r)?(0,bt.of)(r):(0,ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dS(n){return function lS(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ah=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Vo.x,this.configLoader=(0,h.f3M)(Kv),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(gc),this.rootContexts=(0,h.f3M)(hu),this.inputBindingEnabled=null!==(0,h.f3M)(Bm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,bt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new AR(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new SR(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new vs.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xp,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ks(r=>0!==r.id),(0,Vt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,pr.w)(r=>{let s=!1,u=!1;return(0,bt.of)(r).pipe((0,Jr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,pr.w)(l=>{const g=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Np(l.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),fc.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Yv(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,bt.of)(l).pipe((0,pr.w)(T=>{const x=this.transitions?.getValue();return this.events.next(new Tv(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),x!==this.transitions?.getValue()?fc.E:Promise.resolve(T)}),function oS(n,e,t,r,s,u){return(0,Li.z)(l=>function zv(n,e,t,r,s,u,l="emptyOnly"){return new Gv(n,e,t,r,s,l,u).recognize()}(n,e,t,r,l.extractedUrl,s,u).pipe((0,Vt.U)(({state:g,tree:_})=>({...l,targetSnapshot:g,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Jr.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,r.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const $=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl($,T)}t.browserUrlTree=T.urlAfterRedirects}const x=new Sv(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(x)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:x,source:$,restoredState:K,extras:ue}=l,ye=new Tv(T,this.urlSerializer.serialize(x),$,K);this.events.next(ye);const me=Vm(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:me,urlAfterRedirects:x,extras:{...ue,skipLocationChange:!1,replaceUrl:!1}},(0,bt.of)(r)}{const T="";return this.events.next(new Np(l.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),fc.E}}),(0,Jr.b)(l=>{const g=new bR(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(g)}),(0,Vt.U)(l=>r={...l,guards:KT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function yI(n,e){return(0,Li.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,bt.of)({...t,guardsResult:!0}):function _I(n,e,t,r){return(0,ln.D)(n).pipe((0,Li.z)(s=>function nS(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,bt.of)(!0);const l=u.map(g=>{const _=$m(e)??s,C=bh(g,_);return cu(function PR(n){return n&&pa(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):_.runInContext(()=>C(n,e,t,r))).pipe(pc())});return(0,bt.of)(l).pipe(gu())}(s.component,s.route,t,e,r)),pc(s=>!0!==s,!0))}(l,r,s,n).pipe((0,Li.z)(g=>g&&function pu(n){return"boolean"==typeof n}(g)?function vI(n,e,t,r){return(0,ln.D)(e).pipe(gh(s=>hh(function wI(n,e){return null!==n&&e&&e(new Lm(n)),(0,bt.of)(!0)}(s.route.parent,r),function zt(n,e){return null!==n&&e&&e(new Av(n)),(0,bt.of)(!0)}(s.route,r),function kR(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function YT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Tm(()=>{const g=l.guards.map(_=>{const C=$m(l.node)??t,T=bh(_,C);return cu(function XT(n){return n&&pa(n.canActivateChild)}(T)?T.canActivateChild(r,n):C.runInContext(()=>T(r,n))).pipe(pc())});return(0,bt.of)(g).pipe(gu())}));return(0,bt.of)(u).pipe(gu())}(n,s.path,t),function EI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,bt.of)(!0);const s=r.map(u=>Tm(()=>{const l=$m(e)??t,g=bh(u,l);return cu(function NR(n){return n&&pa(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(pc())}));return(0,bt.of)(s).pipe(gu())}(n,s.route,t))),pc(s=>!0!==s,!0))}(r,u,n,e):(0,bt.of)(g)),(0,Vt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Jr.b)(l=>{if(r.guardsResult=l.guardsResult,lu(l.guardsResult))throw Vv(0,l.guardsResult);const g=new TR(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(g)}),ks(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Zv(l=>{if(l.guards.canActivateChecks.length)return(0,bt.of)(l).pipe((0,Jr.b)(g=>{const _=new BT(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),(0,pr.w)(g=>{let _=!1;return(0,bt.of)(g).pipe(function aS(n,e){return(0,Li.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,bt.of)(t);let u=0;return(0,ln.D)(s).pipe(gh(l=>function uS(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!PI(s)&&(u[yh]=s.title),function cS(n,e,t,r){const s=function RI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return(0,bt.of)({});const u={};return(0,ln.D)(s).pipe((0,Li.z)(l=>function NI(n,e,t,r){const s=$m(e)??r,u=bh(n,s);return cu(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(pc(),(0,Jr.b)(g=>{u[l]=g}))),HE(1),function ER(n){return(0,Vt.U)(()=>n)}(u),Ui(l=>tS(l)?fc.E:ph(l)))}(u,n,e,r).pipe((0,Vt.U)(l=>(n._resolvedData=l,n.data=sI(n,t).resolve,s&&PI(s)&&(n.data[yh]=s.title),null)))}(l.route,r,n,e)),(0,Jr.b)(()=>u++),HE(1),(0,Li.z)(l=>u===s.length?(0,bt.of)(t):fc.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Jr.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Jr.b)(g=>{const _=new jT(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),Zv(l=>{const g=_=>{const C=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Jr.b)(T=>{_.component=T}),(0,Vt.U)(()=>{})));for(const T of _.children)C.push(...g(T));return C};return hv(g(l.targetSnapshot.root)).pipe(bp(),uu(1))}),Zv(()=>this.afterPreactivation()),(0,Vt.U)(l=>{const g=function Lv(n,e,t){const r=vc(n,e._root,t?t._root:void 0);return new HT(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:g}}),(0,Jr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,Vt.U)(s=>(new Hm(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),uu(1),(0,Jr.b)({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new du(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),mh(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ui(l=>{if(u=!0,Fp(l)){cI(l)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new Rp(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(g),cI(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Yv(r.source)};t.scheduleNavigation(_,xp,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Fm(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(l))}catch(_){r.reject(_)}}return fc.E}))}))}cancelNavigationTransition(t,r,s){const u=new Rp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yv(n){return n!==xp}let OI=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===Qt);return r}getResolvedTitleForRoute(t){return t.data[yh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(hS)},providedIn:"root"}),n})(),hS=(()=>{class n extends OI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yu))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(pS)},providedIn:"root"}),n})();class kI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let pS=(()=>{class n extends kI{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wm=new h.OlP("",{providedIn:"root",factory:()=>({})});let Qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(gS)},providedIn:"root"}),n})(),gS=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Fs=(()=>((Fs=Fs||{})[Fs.COMPLETE=0]="COMPLETE",Fs[Fs.FAILED=1]="FAILED",Fs[Fs.REDIRECTING=2]="REDIRECTING",Fs))();function FI(n,e){n.events.pipe(ks(t=>t instanceof du||t instanceof Rp||t instanceof Fm||t instanceof Np),(0,Vt.U)(t=>t instanceof du||t instanceof Np?Fs.COMPLETE:t instanceof Rp&&(0===t.code||1===t.code)?Fs.REDIRECTING:Fs.FAILED),ks(t=>t!==Fs.REDIRECTING),uu(1)).subscribe(()=>{e()})}function mS(n){throw n}function yS(n,e,t){return e.parse("/")}const ga={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Wm,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||mS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||yS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Qv),this.routeReuseStrategy=(0,h.f3M)(fS),this.titleStrategy=(0,h.f3M)(OI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(ci,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(Ah),this.urlSerializer=(0,h.f3M)(gc),this.location=(0,h.f3M)(Ze),this.componentInputBindingEnabled=!!(0,h.f3M)(Bm,{optional:!0}),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $l,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vm(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const _={...s};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:_}=r,C=_?this.currentUrlTree.fragment:l;let x,T=null;switch(g){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}null!==T&&(T=this.removeEmptyProps(T));try{x=Pm(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return nI(x,t,T,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=lu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,xp,null,r)}navigate(t,r={skipLocationChange:!1}){return function LI(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...ga}:!1===r?{...Jv}:r,lu(t))return PT(this.currentUrlTree,t,s);const u=this.parseUrl(t);return PT(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let g,_,C;l?(g=l.resolve,_=l.reject,C=l.promise):C=new Promise((x,$)=>{g=x,_=$});const T=this.pendingTasks.add();return FI(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qm=(()=>{class n{constructor(t,r,s,u,l,g){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Vo.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof du&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(li),h.Y36(_c),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ke))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),n})(),Xv=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,s,u,l){this.router=t,this.element=r,this.renderer=s,this.cdr=u,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(g=>{g instanceof du&&this.update()})}ngAfterContentInit(){(0,bt.of)(this.links.changes,(0,bt.of)(null)).pipe((0,dh.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,ln.D)(t).pipe((0,dh.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function UI(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(li),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(qm,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,s){if(1&t&&h.Suo(s,qm,5),2&t){let u;h.iGM(u=h.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]}),n})();class $p{}let BI=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ks(t=>t instanceof du),gh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,ln.D)(s).pipe((0,dh.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,bt.of)(null);const u=s.pipe((0,Li.z)(l=>null===l?(0,bt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,ln.D)([u,l]).pipe((0,dh.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(li),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG($p),h.LFG(Kv))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zm=new h.OlP("");let e0=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof du?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Np&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ih&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ih(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Di(n,e){return{\u0275kind:n,\u0275providers:e}}function $I(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(li),s=n.get(HI);1===n.get(zI)&&r.initialNavigation(),n.get(Mh,null,h.XFs.Optional)?.setUpPreloading(),n.get(Zm,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const HI=new h.OlP("",{factory:()=>new Vo.x}),zI=new h.OlP("",{providedIn:"root",factory:()=>1}),Mh=new h.OlP("");function Ym(n){return Di(0,[{provide:Mh,useExisting:BI},{provide:$p,useExisting:n}])}const qI=new h.OlP("ROUTER_FORROOT_GUARD"),ZI=[Ze,{provide:gc,useClass:mv},li,hu,{provide:_c,useFactory:function Km(n){return n.routerState.root},deps:[li]},Kv,[]];function KI(){return new h.PXZ("Router",li)}let xh=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ZI,[],{provide:ci,multi:!0,useValue:t},{provide:qI,useFactory:DS,deps:[[li,new h.FiY,new h.tp0]]},{provide:Wm,useValue:r||{}},r?.useHash?{provide:ke,useClass:xe}:{provide:ke,useClass:qe},{provide:Zm,useFactory:()=>{const n=(0,h.f3M)(To),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Wm),r=(0,h.f3M)(Ah),s=(0,h.f3M)(gc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new e0(s,r,n,e,t)}},r?.preloadingStrategy?Ym(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:KI},r?.initialNavigation?CS(r):[],r?.bindToComponentInputs?Di(8,[Fv,{provide:Bm,useExisting:Fv}]).\u0275providers:[],[{provide:Rh,useFactory:$I},{provide:h.tb,multi:!0,useExisting:Rh}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ci,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qI,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function DS(n){return"guarded"}function CS(n){return["disabled"===n.initialNavigation?Di(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(li);return()=>{e.setUpLocationChangeListener()}}},{provide:zI,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Di(2,[{provide:zI,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Ae,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(li),u=e.get(HI);FI(s,()=>{r(!0)}),e.get(Ah).afterPreactivation=()=>(r(!0),u.closed?(0,bt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const Rh=new h.OlP("");var JI=L(6321),cn=L(8186);function Qm(){return(0,Os.e)((n,e)=>{let t,r=!1;n.subscribe((0,kr.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}var st,n0=L(3997),Hp=(L(6365),L(3106)),Ee=L(5861),Ls=L(534),Nh=L(4537),Dc=L(7879),Gt=L(9058),TS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jo={},Jm=Jm||{},$t=TS||self;function r0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ph(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var eD="closure_uid_"+(1e9*Math.random()>>>0),Xm=0;function SS(n,e,t){return n.call.apply(n.bind,arguments)}function AS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function di(n,e,t){return(di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SS:AS).apply(null,arguments)}function ey(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var l=Array(arguments.length-2),g=2;g<arguments.length;g++)l[g-2]=arguments[g];return e.prototype[s].apply(r,l)}}function po(){this.s=this.s,this.o=this.o}po.prototype.s=!1,po.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XI(n){Object.prototype.hasOwnProperty.call(n,eD)&&n[eD]||(n[eD]=++Xm)}(this)},po.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cc=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Oh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Us(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(r0(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function hi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hi.prototype.h=function(){this.defaultPrevented=!0};var kh=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",()=>{},e),$t.removeEventListener("test",()=>{},e)}catch{}return n}();function ma(n){return/^[\s\xa0]*$/.test(n)}function mu(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function ns(n){return-1!=mu().indexOf(n)}function bc(n){return bc[" "](n),n}bc[" "]=function(){};var ny,n,Lh=ns("Opera"),$o=ns("Trident")||ns("MSIE"),Kl=ns("Edge"),ty=Kl||$o,s0=ns("Gecko")&&!(-1!=mu().toLowerCase().indexOf("webkit")&&!ns("Edge"))&&!(ns("Trident")||ns("MSIE"))&&!ns("Edge"),tD=-1!=mu().toLowerCase().indexOf("webkit")&&!ns("Edge");function o0(){var n=$t.document;return n?n.documentMode:void 0}e:{var ry="",iy=(n=mu(),s0?/rv:([^\);]+)(\)|;)/.exec(n):Kl?/Edge\/([\d\.]+)/.exec(n):$o?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tD?/WebKit\/(\S+)/.exec(n):Lh?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(iy&&(ry=iy?iy[1]:""),$o){var sy=o0();if(null!=sy&&sy>parseFloat(ry)){ny=String(sy);break e}}ny=ry}var MS=$t.document&&$o&&(o0()||parseInt(ny,10))||void 0;function uy(n,e){if(hi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(s0){e:{try{bc(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&uy.$.h.call(this)}}Vn(uy,hi);var ZR={2:"touch",3:"pen",4:"mouse"};uy.prototype.h=function(){uy.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zp="closure_listenable_"+(1e6*Math.random()|0),xS=0;function KR(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++xS,this.fa=this.ia=!1}function cy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function nD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function rD(n){const e={};for(const t in n)e[t]=n[t];return e}const iD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ly(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<iD.length;u++)t=iD[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Tc(n){this.src=n,this.g={},this.h=0}function Gp(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=Cc(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(cy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Uh(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Tc.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Uh(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new KR(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var dy="closure_lm_"+(1e6*Math.random()|0),Yl={};function a0(n,e,t,r,s){if(r&&r.once)return oD(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)a0(n,e[u],t,r,s);return null}return t=cD(t),n&&n[zp]?n.O(e,t,Ph(r)?!!r.capture:!!r,s):sD(n,e,t,!1,r,s)}function sD(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=Ph(s)?!!s.capture:!!s,g=Vh(n);if(g||(n[dy]=g=new Tc(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function Wp(){const e=c0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kh||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(uD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function oD(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)oD(n,e[u],t,r,s);return null}return t=cD(t),n&&n[zp]?n.P(e,t,Ph(r)?!!r.capture:!!r,s):sD(n,e,t,!0,r,s)}function aD(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)aD(n,e[u],t,r,s);else r=Ph(r)?!!r.capture:!!r,t=cD(t),n&&n[zp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Uh(u=n.g[e],t,r,s))&&(cy(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Vh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Uh(e,t,r,s)),(t=-1<n?e[n]:null)&&u0(t))}function u0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[zp])Gp(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(uD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Vh(e))?(Gp(t,n),0==t.h&&(t.src=null,e[dy]=null)):cy(n)}}}function uD(n){return n in Yl?Yl[n]:Yl[n]="on"+n}function c0(n,e){if(n.fa)n=!0;else{e=new uy(e,this);var t=n.listener,r=n.la||n.src;n.ia&&u0(n),n=t.call(r,e)}return n}function Vh(n){return(n=n[dy])instanceof Tc?n:null}var Bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function cD(n){return"function"==typeof n?n:(n[Bh]||(n[Bh]=function(e){return n.handleEvent(e)}),n[Bh])}function fi(){po.call(this),this.i=new Tc(this),this.S=this,this.J=null}function Ci(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new hi(e,n);else if(e instanceof hi)e.target=e.target||n;else{var s=e;ly(e=new hi(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=jh(l,r,!0,e)&&s}if(s=jh(l=e.g=n,r,!0,e)&&s,s=jh(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=jh(l=e.g=t[u],r,!1,e)&&s}function jh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var g=l.listener,_=l.la||l.src;l.ia&&Gp(n.i,l),s=!1!==g.call(_,r)&&s}}return s&&!r.defaultPrevented}Vn(fi,po),fi.prototype[zp]=!0,fi.prototype.removeEventListener=function(n,e,t,r){aD(this,n,e,t,r)},fi.prototype.N=function(){if(fi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)cy(t[r]);delete n.g[e],n.h--}}this.J=null},fi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var l0=$t.JSON.stringify;function NS(){var n=hy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var d0=new class lD{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new dD,n=>n.reset());class dD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hD(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function OS(n){$t.setTimeout(()=>{throw n},0)}let qp,Zp=!1,hy=new class PS{constructor(){this.h=this.g=null}add(e,t){const r=d0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},fy=()=>{const n=$t.Promise.resolve(void 0);qp=()=>{n.then(h0)}};var h0=()=>{for(var n;n=NS();){try{n.h.call(n.g)}catch(t){OS(t)}var e=d0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Zp=!1};function py(n,e){fi.call(this),this.h=n||1,this.g=e||$t,this.j=di(this.qb,this),this.l=Date.now()}function $h(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Hh(n,e,t){if("function"==typeof n)t&&(n=di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=di(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function gy(n){n.g=Hh(()=>{n.g=null,n.i&&(n.i=!1,gy(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vn(py,fi),(st=py.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ci(this,"tick"),this.ga&&($h(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){py.$.N.call(this),$h(this),delete this.g};class fD extends po{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gy(this)}N(){super.N(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kp(n){po.call(this),this.h=n,this.g={}}Vn(Kp,po);var pD=[];function gD(n,e,t,r){Array.isArray(t)||(t&&(pD[0]=t.toString()),t=pD);for(var s=0;s<t.length;s++){var u=a0(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function my(n){nD(n.g,function(e,t){this.g.hasOwnProperty(t)&&u0(e)},n),n.g={}}function zh(){this.g=!0}function Gh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _D(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return l0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Kp.prototype.N=function(){Kp.$.N.call(this),my(this)},Kp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zh.prototype.Ea=function(){this.g=!1},zh.prototype.info=function(){};var yu={},f0=null;function Wh(){return f0=f0||new fi}function p0(n){hi.call(this,yu.Ta,n)}function Yp(n){const e=Wh();Ci(e,new p0(e))}function g0(n,e){hi.call(this,yu.STAT_EVENT,n),this.stat=e}function Bi(n){const e=Wh();Ci(e,new g0(e,n))}function m0(n,e){hi.call(this,yu.Ua,n),this.size=e}function qh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}yu.Ta="serverreachability",Vn(p0,hi),yu.STAT_EVENT="statevent",Vn(g0,hi),yu.Ua="timingevent",Vn(m0,hi);var yy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function y0(){}function Qp(){}y0.prototype.h=null;var Ey,Zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vy(){hi.call(this,"d")}function wy(){hi.call(this,"c")}function Jp(){}function Kh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Kp(this),this.P=wD,this.V=new py(n=ty?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _0}function _0(){this.i=null,this.g="",this.h=!1}Vn(vy,hi),Vn(wy,hi),Vn(Jp,y0),Jp.prototype.g=function(){return new XMLHttpRequest},Jp.prototype.i=function(){return{}},Ey=new Jp;var wD=45e3,Yh={},Ho={};function v0(n,e,t){n.L=1,n.v=Ty(ya(e)),n.s=t,n.S=!0,ED(n,null)}function ED(n,e){n.G=Date.now(),Xp(n),n.A=ya(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),mo(t.i,"t",r),n.C=0,t=n.l.J,n.h=new _0,n.g=B0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fD(di(n.Pa,n,n.g),n.O)),gD(n.U,n.g,"readystatechange",n.nb),e=n.I?rD(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Yp(),function mD(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),_=0;_<g.length;_++){var C=g[_].split("=");if(1<C.length){var T=C[0];C=C[1];var x=T.split("_");l=2<=x.length&&"type"==x[1]?l+(T+"=")+C+"&":l+(T+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Iy(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Sc(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=w0(n,t),s==Ho){4==e&&(n.o=4,Bi(14),r=!1),Gh(n.j,n.m,null,"[Incomplete Response]");break}if(s==Yh){n.o=4,Bi(15),Gh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Gh(n.j,n.m,s,null),I0(n,s)}Iy(n)&&s!=Ho&&s!=Yh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Fy(e),e.M=!0,Bi(11))):(Gh(n.j,n.m,t,"[Invalid Chunked Response]"),Ql(n),Cy(n))}function w0(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ho:(t=Number(e.substring(t,r)),isNaN(t)?Yh:(r+=1)+t>e.length?Ho:(e=e.slice(r,r+t),n.C=r+t,e))}function Xp(n){n.Y=Date.now()+n.P,Dy(n,n.P)}function Dy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qh(di(n.lb,n),e)}function E0(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Cy(n){0==n.l.H||n.J||F0(n.l,n)}function Ql(n){E0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,$h(n.V),my(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function I0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ed(t.i,n)))if(!n.K&&ed(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;ag(t),Py(t)}ky(t),Bi(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=qh(di(t.ib,t),6e3));if(1>=Sy(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Mc(t,11)}else if((n.K||t.g==n)&&ag(t),!ma(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const T=C[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const x=C[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const $=C[5];null!=$&&"number"==typeof $&&0<$&&(t.L=r=1.5*$,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const ue=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var u=r.i;u.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(S0(u,u.h),u.h=null))}if(r.F){const ye=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.Da=ye,bn(r.I,r.F,ye))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=V0(r,r.J?r.pa:null,r.Y),l.K){A0(r.i,l);var g=l,_=r.L;_&&g.setTimeout(_),g.B&&(E0(g),Xp(g)),r.g=l}else jD(r);0<t.j.length&&Oy(t)}else"stop"!=C[0]&&"close"!=C[0]||Mc(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Mc(t,7):O0(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}Yp()}catch{}}function Hr(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(r0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function FS(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(r0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ID(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(r0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(st=Kh.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const e=this.M;e&&3==va(n)?e.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const T=va(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||ty||this.g&&(this.h.h||this.g.ja()||kD(this.g)))){this.J||4!=T||7==e||Yp(),E0(this);var t=this.g.da();this.ca=t;t:if(Iy(this)){var r=kD(this.g);n="";var s=r.length,u=4==va(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ql(this),Cy(this);var l="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function yD(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ma(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Bi(12),Ql(this),Cy(this);break e}Gh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,I0(this,t)}this.S?(Sc(this,T,l),ty&&this.i&&3==T&&(gD(this.U,this.V,"tick",this.mb),this.V.start())):(Gh(this.j,this.m,l,null),I0(this,l)),4==T&&Ql(this),this.i&&!this.J&&(4==T?F0(this.l,this):(this.i=!1,Xp(this)))}else(function $S(n){const e={};n=(n.g&&2<=va(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(ma(n[r]))continue;var t=hD(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function RS(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),Ql(this),Cy(this)}}}catch{}},st.mb=function(){if(this.g){var n=va(this.g),e=this.g.ja();this.C<e.length&&(E0(this),Sc(this,n,e),this.i&&4!=n&&Xp(this))}},st.cancel=function(){this.J=!0,Ql(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function kS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yp(),Bi(17)),Ql(this),this.o=2,Cy(this)):Dy(this,this.Y-n)};var D0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Jl){this.h=n.h,by(this,n.j),this.s=n.s,this.g=n.g,eg(this,n.m),this.l=n.l;var e=n.i,t=new ng;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),C0(this,t),this.o=n.o}else n&&(e=String(n).match(D0))?(this.h=!1,by(this,e[1]||"",!0),this.s=tg(e[2]||""),this.g=tg(e[3]||"",!0),eg(this,e[4]),this.l=tg(e[5]||"",!0),C0(this,e[6]||"",!0),this.o=tg(e[7]||"")):(this.h=!1,this.i=new ng(null,this.h))}function ya(n){return new Jl(n)}function by(n,e,t){n.j=t?tg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function eg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function C0(n,e,t){e instanceof ng?(n.i=e,function CD(n,e){e&&!n.j&&(Ac(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(zo(this,r),mo(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Qh(e,T0)),n.i=new ng(e,n.h))}function bn(n,e,t){n.i.set(e,t)}function Ty(n){return bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,US),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function US(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Jl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qh(e,b0,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qh(e,b0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qh(t,"/"==t.charAt(0)?DD:YR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qh(t,_a)),n.join("")};var b0=/[#\/\?@]/g,YR=/[#\?:]/g,DD=/[#\?]/g,T0=/[#\?@]/g,_a=/#/g;function ng(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ac(n){n.g||(n.g=new Map,n.h=0,n.i&&function LS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zo(n,e){Ac(n),e=Xl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function go(n,e){return Ac(n),e=Xl(n,e),n.g.has(e)}function mo(n,e,t){zo(n,e),0<t.length&&(n.i=null,n.g.set(Xl(n,e),Oh(t)),n.h+=t.length)}function Xl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bD(n){this.l=n||BS,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ka&&$t.g.Ka()&&$t.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=ng.prototype).add=function(n,e){Ac(this),this.i=null,n=Xl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},st.forEach=function(n,e){Ac(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},st.ta=function(){Ac(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},st.Z=function(n){Ac(this);let e=[];if("string"==typeof n)go(this,n)&&(e=e.concat(this.g.get(Xl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},st.set=function(n,e){return Ac(this),this.i=null,go(this,n=Xl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},st.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var BS=10;function TD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Sy(n){return n.h?1:n.g?n.g.size:0}function ed(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function S0(n,e){n.g?n.g.add(e):n.h=e}function A0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function SD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Oh(n.i)}bD.prototype.cancel=function(){if(this.i=SD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var jS=class{stringify(n){return $t.JSON.stringify(n,void 0)}parse(n){return $t.JSON.parse(n,void 0)}};function AD(){this.g=new jS}function MD(n,e,t){const r=t||"";try{Hr(n,function(s,u){let l=s;Ph(s)&&(l=l0(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function My(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Jh(n){this.l=n.fc||null,this.j=n.ob||!1}function rg(n,e){fi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=xy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vn(Jh,y0),Jh.prototype.g=function(){return new rg(this.l,this.j)},Jh.prototype.i=function(n){return function(){return n}}({}),Vn(rg,fi);var xy=0;function xD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ig(n){n.readyState=4,n.l=null,n.j=null,n.A=null,td(n)}function td(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=rg.prototype).open=function(n,e){if(this.readyState!=xy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,td(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$t).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ig(this)),this.readyState=xy},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,td(this)),this.g&&(this.readyState=3,td(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ig(this):td(this),3==this.readyState&&xD(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,ig(this))},st.Ya=function(n){this.g&&(this.response=n,ig(this))},st.ka=function(){this.g&&ig(this)},st.setRequestHeader=function(n,e){this.v.append(n,e)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ry=$t.JSON.parse;function ar(n){fi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=M0,this.L=this.M=!1}Vn(ar,fi);var M0="",RD=/^https?$/i,ND=["POST","PUT"];function x0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,R0(n),Ny(n)}function R0(n){n.F||(n.F=!0,Ci(n,"complete"),Ci(n,"error"))}function N0(n){if(n.h&&typeof Jm<"u"&&(!n.C[1]||4!=va(n)||2!=n.da()))if(n.v&&4==va(n))Hh(n.La,0,n);else if(Ci(n,"readystatechange"),4==va(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(D0)[1]||null;!s&&$t.self&&$t.self.location&&(s=$t.self.location.protocol.slice(0,-1)),r=!RD.test(s?s.toLowerCase():"")}t=r}if(t)Ci(n,"complete"),Ci(n,"success");else{n.m=6;try{var u=2<va(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",R0(n)}}finally{Ny(n)}}}function Ny(n,e){if(n.g){OD(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function OD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function va(n){return n.g?n.g.readyState:0}function kD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case M0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FD(n){let e="";return nD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function P0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FD(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bn(n,e,t))}function sg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function LD(n){this.Ga=0,this.j=[],this.l=new zh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sg("baseRetryDelayMs",5e3,n),this.hb=sg("retryDelaySeedMs",1e4,n),this.eb=sg("forwardChannelMaxRetries",2,n),this.xa=sg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new bD(n&&n.concurrentRequestLimit),this.Ja=new AD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function O0(n){if(UD(n),3==n.H){var e=n.W++,t=ya(n.I);if(bn(t,"SID",n.K),bn(t,"RID",e),bn(t,"TYPE","terminate"),og(n,t),(e=new Kh(n,n.l,e)).L=2,e.v=Ty(ya(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon)try{t=$t.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=B0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xp(e)}U0(n)}function Py(n){n.g&&(Fy(n),n.g.cancel(),n.g=null)}function UD(n){Py(n),n.u&&($t.clearTimeout(n.u),n.u=null),ag(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function Oy(n){if(!TD(n.i)&&!n.m){n.m=!0;var e=n.Na;qp||fy(),Zp||(qp(),Zp=!0),hy.add(e,n),n.C=0}}function VD(n,e){var t;t=e?e.m:n.W++;const r=ya(n.I);bn(r,"SID",n.K),bn(r,"RID",t),bn(r,"AID",n.V),og(n,r),n.o&&n.s&&P0(r,n.o,n.s),t=new Kh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=BD(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),S0(n.i,t),v0(t,r,e)}function og(n,e){n.na&&nD(n.na,function(t,r){bn(e,r,t)}),n.h&&Hr({},function(t,r){bn(e,r,t)})}function BD(n,e,t){t=Math.min(n.j.length,t);var r=n.h?di(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let C=s[_].g;const T=s[_].map;if(C-=u,0>C)u=Math.max(0,s[_].g-100),g=!1;else try{MD(T,l,"req"+C+"_")}catch{r&&r(T)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function jD(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;qp||fy(),Zp||(qp(),Zp=!0),hy.add(e,n),n.A=0}}function ky(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=qh(di(n.Ma,n),L0(n,n.A)),n.A++,0))}function Fy(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function k0(n){n.g=new Kh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ya(n.wa);bn(e,"RID","rpc"),bn(e,"SID",n.K),bn(e,"AID",n.V),bn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&bn(e,"TO",n.qa),bn(e,"TYPE","xmlhttp"),og(n,e),n.o&&n.s&&P0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ty(ya(e)),t.s=null,t.S=!0,ED(t,n)}function ag(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function F0(n,e){var t=null;if(n.g==e){ag(n),Fy(n),n.g=null;var r=2}else{if(!ed(n.i,e))return;t=e.F,A0(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Ci(r=Wh(),new m0(r,t)),Oy(n)}else jD(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function HS(n,e){return!(Sy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=qh(di(n.Na,n,e),L0(n,n.C)),n.C++,0)))}(n,e)||2==r&&ky(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Mc(n,5);break;case 4:Mc(n,10);break;case 3:Mc(n,6);break;default:Mc(n,2)}}function L0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Mc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=di(n.pb,n);t||(t=new Jl("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||by(t,"https"),Ty(t)),function Ay(n,e){const t=new zh;if($t.Image){const r=new Image;r.onload=ey(My,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ey(My,t,r,"TestLoadImage: error",!1,e),r.onabort=ey(My,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ey(My,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bi(2);n.H=0,n.h&&n.h.za(e),U0(n),UD(n)}function U0(n){if(n.H=0,n.ma=[],n.h){const e=SD(n.i);(0!=e.length||0!=n.j.length)&&(Us(n.ma,e),Us(n.ma,n.j),n.i.i.length=0,Oh(n.j),n.j.length=0),n.h.ya()}}function V0(n,e,t){var r=t instanceof Jl?ya(t):new Jl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),eg(r,r.m);else{var s=$t.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new Jl(null);r&&by(u,r),e&&(u.g=e),s&&eg(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&bn(r,t,e),bn(r,"VER",n.ra),og(n,r),r}function B0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Ha&&!n.va?new Jh({ob:!0}):n.va)).Oa(n.J),e}function j0(){}function wa(){if($o&&!(10<=Number(MS)))throw Error("Environmental error: no available transport.")}function Vs(n,e){fi.call(this),this.g=new LD(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ma(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ma(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ug(this)}function $D(n){vy.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nd(){wy.call(this),this.status=1}function ug(n){this.g=n}function Ea(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ly(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function Tn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(st=ar.prototype).Oa=function(n){this.M=n},st.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ey.g(),this.C=function _y(n){return n.h||(n.h=n.i())}(this.u?this.u:Ey),this.g.onreadystatechange=di(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void x0(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=$t.FormData&&n instanceof $t.FormData,!(0<=Cc(ND,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OD(this),0<this.B&&((this.L=function PD(n){return $o&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=di(this.ua,this)):this.A=Hh(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){x0(this,u)}},st.ua=function(){typeof Jm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ci(this,"complete"),Ci(this,"abort"),Ny(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ny(this,!0)),ar.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?N0(this):this.kb())},st.kb=function(){N0(this)},st.isActive=function(){return!!this.g},st.da=function(){try{return 2<va(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ry(e)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=LD.prototype).ra=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Kh(this,this.l,n);let u=this.s;if(this.U&&(u?(u=rD(u),ly(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=BD(this,s,e),bn(t=ya(this.I),"RID",n),bn(t,"CVER",22),this.F&&bn(t,"X-HTTP-Session-Id",this.F),og(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(FD(u)))+"&"+e:this.o&&P0(t,this.o,u)),S0(this.i,s),this.bb&&bn(t,"TYPE","init"),this.P?(bn(t,"$req",e),bn(t,"SID","null"),s.aa=!0,v0(s,t,null)):v0(s,t,e),this.H=2}}else 3==this.H&&(n?VD(this,n):0==this.j.length||TD(this.i)||VD(this))},st.Ma=function(){if(this.u=null,k0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=qh(di(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bi(10),Py(this),k0(this))},st.ib=function(){null!=this.v&&(this.v=null,Py(this),ky(this),Bi(19))},st.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Bi(2)):(this.l.info("Failed to ping google.com"),Bi(1))},st.isActive=function(){return!!this.h&&this.h.isActive(this)},(st=j0.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.isActive=function(){return!0},st.Va=function(){},wa.prototype.g=function(n,e){return new Vs(n,e)},Vn(Vs,fi),Vs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Bi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=V0(n,null,n.Y),Oy(n)},Vs.prototype.close=function(){O0(this.g)},Vs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=l0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Oy(e)},Vs.prototype.N=function(){this.g.h=null,delete this.j,O0(this.g),delete this.g,Vs.$.N.call(this)},Vn($D,vy),Vn(nd,wy),Vn(ug,j0),ug.prototype.Ba=function(){Ci(this.g,"a")},ug.prototype.Aa=function(n){Ci(this.g,new $D(n))},ug.prototype.za=function(n){Ci(this.g,new nd)},ug.prototype.ya=function(){Ci(this.g,"b")},Vn(Ea,function $0(){this.blockSize=-1}),Ea.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ea.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)Ly(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){Ly(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){Ly(this,r),s=0;break}}this.h=s,this.i+=e},Ea.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var QR={};function Mt(n){return-128<=n&&128>n?function Fh(n,e){var t=QR;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Tn([0|e],0>e?-1:0)}):new Tn([0|n],0>n?-1:0)}function Ia(n){if(isNaN(n)||!isFinite(n))return Go;if(0>n)return ji(Ia(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=H0;return new Tn(e,0)}var H0=4294967296,Go=Mt(0),z0=Mt(1),cg=Mt(16777216);function yo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function mn(n){return-1==n.h}function ji(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Tn(t,~n.h).add(z0)}function lg(n,e){return n.add(ji(e))}function dg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function hg(n,e){this.g=n,this.h=e}function fg(n,e){if(yo(e))throw Error("division by zero");if(yo(n))return new hg(Go,Go);if(mn(n))return e=fg(ji(n),e),new hg(ji(e.g),ji(e.h));if(mn(e))return e=fg(n,ji(e)),new hg(ji(e.g),e.h);if(30<n.g.length){if(mn(n)||mn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=z0,r=e;0>=r.X(n);)t=G0(t),r=G0(r);var s=rd(t,1),u=rd(r,1);for(r=rd(r,2),t=rd(t,2);!yo(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=rd(r,1),t=rd(t,1)}return e=lg(n,s.R(e)),new hg(s,e)}for(s=Go;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Ia(t)).R(e);mn(l)||0<l.X(n);)l=(u=Ia(t-=r)).R(e);yo(u)&&(u=z0),s=s.add(u),n=lg(n,l)}return new hg(s,n)}function G0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Tn(t,n.h)}function rd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Tn(s,n.h)}(st=Tn.prototype).ea=function(){if(mn(this))return-ji(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:H0+r)*e,e*=H0}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(yo(this))return"0";if(mn(this))return"-"+ji(this).toString(n);for(var e=Ia(Math.pow(n,6)),t=this,r="";;){var s=fg(t,e).g,u=((0<(t=lg(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(yo(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return mn(n=lg(this,n))?-1:yo(n)?0:1},st.abs=function(){return mn(this)?ji(this):this},st.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new Tn(t,-2147483648&t[t.length-1]?-1:0)},st.R=function(n){if(yo(this)||yo(n))return Go;if(mn(this))return mn(n)?ji(this).R(ji(n)):ji(ji(this).R(n));if(mn(n))return ji(this.R(ji(n)));if(0>this.X(cg)&&0>n.X(cg))return Ia(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),g=n.D(s)>>>16,_=65535&n.D(s);t[2*r+2*s]+=l*_,dg(t,2*r+2*s),t[2*r+2*s+1]+=u*_,dg(t,2*r+2*s+1),t[2*r+2*s+1]+=l*g,dg(t,2*r+2*s+1),t[2*r+2*s+2]+=u*g,dg(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Tn(t,0)},st.gb=function(n){return fg(this,n).h},st.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Tn(t,this.h&n.h)},st.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Tn(t,this.h|n.h)},st.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Tn(t,this.h^n.h)},wa.prototype.createWebChannel=wa.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,yy.NO_ERROR=0,yy.TIMEOUT=8,yy.HTTP_ERROR=6,vD.COMPLETE="complete",Qp.EventType=Zh,Zh.OPEN="a",Zh.CLOSE="b",Zh.ERROR="c",Zh.MESSAGE="d",fi.prototype.listen=fi.prototype.O,ar.prototype.listenOnce=ar.prototype.P,ar.prototype.getLastError=ar.prototype.Sa,ar.prototype.getLastErrorCode=ar.prototype.Ia,ar.prototype.getStatus=ar.prototype.da,ar.prototype.getResponseJson=ar.prototype.Wa,ar.prototype.getResponseText=ar.prototype.ja,ar.prototype.send=ar.prototype.ha,ar.prototype.setWithCredentials=ar.prototype.Oa,Ea.prototype.digest=Ea.prototype.l,Ea.prototype.reset=Ea.prototype.reset,Ea.prototype.update=Ea.prototype.j,Tn.prototype.add=Tn.prototype.add,Tn.prototype.multiply=Tn.prototype.R,Tn.prototype.modulo=Tn.prototype.gb,Tn.prototype.compare=Tn.prototype.X,Tn.prototype.toNumber=Tn.prototype.ea,Tn.prototype.toString=Tn.prototype.toString,Tn.prototype.getBits=Tn.prototype.D,Tn.fromNumber=Ia,Tn.fromString=function HD(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ji(HD(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ia(Math.pow(e,8)),r=Go,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=Ia(Math.pow(e,u)),r=r.R(u).add(Ia(l))):r=(r=r.R(t)).add(Ia(l))}return r};var zD=jo.createWebChannelTransport=function(){return new wa},zS=jo.getStatEventTarget=function(){return Wh()},W0=jo.ErrorCode=yy,GS=jo.EventType=vD,pg=jo.Event=yu,GD=jo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WS=jo.FetchXmlHttpFactory=Jh,Uy=jo.WebChannel=Qp,Vy=jo.XhrIo=ar,WD=jo.Md5=Ea,id=jo.Integer=Tn;const q0="@firebase/firestore";class pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pi.UNAUTHENTICATED=new pi(null),pi.GOOGLE_CREDENTIALS=new pi("google-credentials-uid"),pi.FIRST_PARTY=new pi("first-party-uid"),pi.MOCK_USER=new pi("mock-user");let Da="9.23.0";const _o=new Dc.Yd("@firebase/firestore");function Z0(){return _o.logLevel}function Ue(n,...e){if(_o.logLevel<=Dc.in.DEBUG){const t=e.map(By);_o.debug(`Firestore (${Da}): ${n}`,...t)}}function Dr(n,...e){if(_o.logLevel<=Dc.in.ERROR){const t=e.map(By);_o.error(`Firestore (${Da}): ${n}`,...t)}}function Bs(n,...e){if(_o.logLevel<=Dc.in.WARN){const t=e.map(By);_o.warn(`Firestore (${Da}): ${n}`,...t)}}function By(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+n;throw Dr(e),new Error(e)}function It(n,e){n||ut()}function nt(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class KS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pi.UNAUTHENTICATED))}shutdown(){}}class jy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YS{constructor(e){this.t=e,this.currentUser=pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=C=>this.i!==s?(s=this.i,t(C)):Promise.resolve();let l=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gi,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const C=l;e.enqueueRetryable((0,Ee.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},_=C=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>_(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?_(C):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new KS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new pi(e)}}class QS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=pi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new QS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.T=t.token,new Xh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class KD{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=XS(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function ef(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function K0(n){return n+"\0"}class ur{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ur.fromMillis(Date.now())}static fromDate(e){return ur.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ur(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new ur(0,0))}static max(){return new Ct(new ur(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _u{constructor(e,t,r){void 0===t?t=0:t>e.length&&ut(),void 0===r?r=e.length-t:r>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_u.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _u?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends _u{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const YD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends _u{construct(e,t,r){return new Cr(e,t,r)}static isValidIdentifier(e){return YD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Re(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new Re(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[s+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,s+=2}else"`"===g?(l=!l,s++):"."!==g||l?(r+=g,s++):(u(),s++)}if(u(),l)throw new Re(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(t)}static emptyPath(){return new Cr([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(dn.fromString(e))}static fromName(e){return new Qe(dn.fromString(e).popFirst(5))}static empty(){return new Qe(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new dn(e.slice()))}}class $y{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Hy(n){return n.fields.find(e=>2===e.kind)}function sd(n){return n.fields.filter(e=>2!==e.kind)}$y.UNKNOWN_ID=-1;class zy{constructor(e,t){this.fieldPath=e,this.kind=t}}class tf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tf(0,js.min())}}function JD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(1e9===r?new ur(t+1,0):new ur(t,r));return new js(s,Qe.empty(),e)}function XD(n){return new js(n.readTime,n.key,-1)}class js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new js(Ct.min(),Qe.empty(),-1)}static max(){return new js(Ct.max(),Qe.empty(),-1)}}function gg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const eC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xc(n){return J0.apply(this,arguments)}function J0(){return J0=(0,Ee.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==eC)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),J0.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let s=0,u=0,l=!1;e.forEach(g=>{++s,g.next(()=>{++u,l&&u===s&&t()},_=>r(_))}),l=!0,u===s&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(s=>s?oe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,s)=>{const u=e.length,l=new Array(u);let g=0;for(let _=0;_<u;_++){const C=_;t(e[C]).next(T=>{l[C]=T,++g,g===u&&r(l)},T=>s(T))}})}static doWhile(e,t){return new oe((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class Gy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new gi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new mg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=X0(r.target.error);this.v.reject(new mg(e,s))}}static open(e,t,r,s){try{return new Gy(t,e.transaction(s,r))}catch(u){throw new mg(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new tC(t)}}class Wo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Wo.S((0,Gt.z$)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Nc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Gt.hl)())return!1;if(Wo.C())return!0;const e=(0,Gt.z$)(),t=Wo.S(e),r=0<t&&t<10,s=Wo.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{s(new mg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const g=l.target.error;s("VersionError"===g.name?new Re(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Re(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new mg(e,g))},u.onupgradeneeded=l=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,Ee.Z)(function*(){const l="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.$(e);const _=Gy.open(u.db,e,l?"readonly":"readwrite",r),C=s(_).next(T=>(_.P(),T)).catch(T=>(_.abort(T),oe.reject(T))).toPromise();return C.catch(()=>{}),yield _.R,C}catch(_){const C=_,T="FirebaseError"!==C.name&&g<3;if(Ue("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),u.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eA{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Nc(this.L.delete())}}class mg extends Re{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rc(n){return"IndexedDbTransactionError"===n.name}class tC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Nc(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Nc(this.store.add(e))}get(e){return Nc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Nc(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Nc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(l,g)=>{u.push(g)}).next(()=>u)}{const s=this.store.getAll(r.range);return new oe((u,l)=>{s.onerror=g=>{l(g.target.error)},s.onsuccess=g=>{u(g.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((s,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,l,g)=>g.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Z(e){const t=this.cursor({});return new oe((r,s)=>{t.onerror=u=>{const l=X0(u.target.error);s(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(g=>{g?l.continue():r()}):r()}})}W(e,t){const r=[];return new oe((s,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const g=l.target.result;if(!g)return void s();const _=new eA(g),C=t(g.primaryKey,g.value,_);if(C instanceof oe){const T=C.catch(x=>(_.done(),oe.reject(x)));r.push(T)}_.isDone?s():null===_.K?g.continue():g.continue(_.K)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nc(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=X0(r.target.error);t(s)}})}let nC=!1;function X0(n){const e=Wo.S((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nC||(nC=!0,setTimeout(()=>{throw r},0)),r}}return n}class rC{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Rc(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield xc(r)}yield t.et(6e4)}))}}class tA{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let s=t,u=!0;return oe.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ue("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,s).next(g=>{s-=g,r.add(l)});u=!1})).next(()=>t-s)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(s,u)).next(g=>(Ue("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((s,u)=>{const l=XD(u);gg(l,r)>0&&(r=l)}),new js(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let $s=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function yg(n){return null==n}function od(n){return 0===n&&1/n==-1/0}function Wy(n){return"number"==typeof n&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function bi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iC(e)),e=ew(n.get(t),e);return iC(e)}function ew(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function iC(n){return n+"\x01\x01"}function Ca(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&ut(),n.charAt(l+1)){case"\x01":const g=n.substring(u,l);let _;0===s.length?_=g:(s+=g,_=s,s=""),r.push(_);break;case"\x10":s+=n.substring(u,l),s+="\0";break;case"\x11":s+=n.substring(u,l+1);break;default:ut()}u=l+2}return new dn(r)}const qy=["userId","batchId"];function Zy(n,e){return[n,bi(e)]}function tw(n,e,t){return[n,bi(e),t]}const nf={},sC=["prefixPath","collectionGroup","readTime","documentId"],nA=["prefixPath","collectionGroup","documentId"],XR=["collectionGroup","readTime","prefixPath","documentId"],nw=["canonicalId","targetId"],rw=["targetId","path"],rA=["path","targetId"],oC=["collectionId","parent"],aC=["indexId","uid"],iA=["uid","sequenceNumber"],uC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iw=["indexId","uid","orderedDocumentKey"],cC=["userId","collectionPath","documentId"],lC=["userId","collectionPath","largestBatchId"],dC=["userId","collectionGroup","largestBatchId"],sw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sA=[...sw,"documentOverlays"],hC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fC=hC,oA=[...fC,"indexConfiguration","indexState","indexEntries"];class Ky extends Q0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ti(n,e){const t=nt(n);return Wo.M(t.ht,e)}function ow(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Qn{constructor(e,t){this.comparator=e,this.root=t||Si.EMPTY}insert(e,t){return new Qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yy(this.root,e,this.comparator,!0)}}class Yy{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Si.RED,this.left=s??Si.EMPTY,this.right=u??Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Si(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Si.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1,Si.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gC(this.data.getIterator())}getIteratorFrom(e){return new gC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class gC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rf(n){return n.hasNext()?n.getNext():void 0}class ws{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new ws([])}unionWith(e){let t=new Jn(Cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ef(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mC("Invalid base64 string: "+s):s}}(e);return new Xr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const uA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oc(n){if(It(!!n),"string"==typeof n){let e=0;const t=uA.exec(n);if(It(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(n.seconds),nanos:br(n.nanos)}}function br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hs(n){return"string"==typeof n?Xr.fromBase64String(n):Xr.fromUint8Array(n)}function _g(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vg(n){const e=n.mapValue.fields.__previous_value__;return _g(e)?vg(e):e}function sf(n){const e=Oc(n.mapValue.fields.__local_write_time__.timestampValue);return new ur(e.seconds,e.nanos)}class yC{constructor(e,t,r,s,u,l,g,_,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=C}}class vu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}const wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qy={nullValue:"NULL_VALUE"};function ad(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_g(n)?4:vC(n)?9007199254740991:10:ut()}function qo(n,e){if(n===e)return!0;const t=ad(n);if(t!==ad(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sf(n).isEqual(sf(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Oc(r.timestampValue),l=Oc(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Hs(n.bytesValue).isEqual(Hs(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return br(r.geoPointValue.latitude)===br(s.geoPointValue.latitude)&&br(r.geoPointValue.longitude)===br(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return br(r.integerValue)===br(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=br(r.doubleValue),l=br(s.doubleValue);return u===l?od(u)===od(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return ef(n.arrayValue.values||[],e.arrayValue.values||[],qo);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(ow(u)!==ow(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!qo(u[g],l[g])))return!1;return!0}(n,e);default:return ut()}var s}function af(n,e){return void 0!==(n.values||[]).find(t=>qo(t,e))}function kc(n,e){if(n===e)return 0;const t=ad(n),r=ad(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=br(s.integerValue||s.doubleValue),g=br(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return _C(n.timestampValue,e.timestampValue);case 4:return _C(sf(n),sf(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(s,u){const l=Hs(s),g=Hs(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),g=u.split("/");for(let _=0;_<l.length&&_<g.length;_++){const C=Ht(l[_],g[_]);if(0!==C)return C}return Ht(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Ht(br(s.latitude),br(u.latitude));return 0!==l?l:Ht(br(s.longitude),br(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],g=u.values||[];for(let _=0;_<l.length&&_<g.length;++_){const C=kc(l[_],g[_]);if(C)return C}return Ht(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===wu.mapValue&&u===wu.mapValue)return 0;if(s===wu.mapValue)return 1;if(u===wu.mapValue)return-1;const l=s.fields||{},g=Object.keys(l),_=u.fields||{},C=Object.keys(_);g.sort(),C.sort();for(let T=0;T<g.length&&T<C.length;++T){const x=Ht(g[T],C[T]);if(0!==x)return x;const $=kc(l[g[T]],_[C[T]]);if(0!==$)return $}return Ht(g.length,C.length)}(n.mapValue,e.mapValue);default:throw ut()}}function _C(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Oc(n),r=Oc(e),s=Ht(t.seconds,r.seconds);return 0!==s?s:Ht(t.nanos,r.nanos)}function uf(n){return ud(n)}function ud(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Oc(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hs(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=ud(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of s)l?l=!1:u+=",",u+=`${g}:${ud(r.fields[g])}`;return u+"}"}(n.mapValue):ut();var e}function Eu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vo(n){return!!n&&"integerValue"in n}function wg(n){return!!n&&"arrayValue"in n}function Xy(n){return!!n&&"nullValue"in n}function cf(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function e_(n){return!!n&&"mapValue"in n}function Eg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function t_(n){return"nullValue"in n?Qy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Eu(vu.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function wC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Eu(vu.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wu:ut()}function EC(n,e){const t=kc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function IC(n,e){const t=kc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!e_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eg(t)}setAll(e){let t=Cr.emptyPath(),r={},s=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,s),r={},s=[],t=g.popLast()}l?r[g.lastSegment()]=Eg(l):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());e_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];e_(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Pc(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new ei(Eg(this.value))}}function DC(n){const e=[];return Pc(n.fields,(t,r)=>{const s=new Cr([t]);if(e_(r)){const u=DC(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new ws(e)}class Xn{constructor(e,t,r,s,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new Xn(e,0,Ct.min(),Ct.min(),Ct.min(),ei.empty(),0)}static newFoundDocument(e,t,r,s){return new Xn(e,1,t,Ct.min(),r,s,0)}static newNoDocument(e,t){return new Xn(e,2,t,Ct.min(),Ct.min(),ei.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Ct.min(),Ct.min(),ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Iu{constructor(e,t){this.position=e,this.inclusive=t}}function CC(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),t.key):kc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function bC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qo(n.position[t],e.position[t]))return!1;return!0}class cd{constructor(e,t="asc"){this.field=e,this.dir=t}}function n_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class TC{}class un extends TC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new uw(e,t,r):"array-contains"===t?new lw(e,r):"in"===t?new RC(e,r):"not-in"===t?new cA(e,r):"array-contains-any"===t?new lA(e,r):new un(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new cw(e,r):new xC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kc(t,this.value)):null!==t&&ad(this.value)===ad(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends TC{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Sn(e,t)}matches(e){return ld(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ld(n){return"and"===n.op}function Ig(n){return"or"===n.op}function r_(n){return SC(n)&&ld(n)}function SC(n){for(const e of n.filters)if(e instanceof Sn)return!1;return!0}function i_(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+uf(n.value);if(r_(n))return n.filters.map(e=>i_(e)).join(",");{const e=n.filters.map(t=>i_(t)).join(",");return`${n.op}(${e})`}}function aw(n,e){return n instanceof un?(t=n,(r=e)instanceof un&&t.op===r.op&&t.field.isEqual(r.field)&&qo(t.value,r.value)):n instanceof Sn?function(t,r){return r instanceof Sn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&aw(u,r.filters[l]),!0)}(n,e):void ut();var t,r}function AC(n,e){const t=n.filters.concat(e);return Sn.create(t,n.op)}function MC(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${uf(e.value)}`:n instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map(MC).join(" ,")+"}"}(n):"Filter";var e}class uw extends un{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class cw extends un{constructor(e,t){super(e,"in",t),this.keys=s_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xC extends un{constructor(e,t){super(e,"not-in",t),this.keys=s_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function s_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class lw extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&af(t.arrayValue,this.value)}}class RC extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&af(this.value.arrayValue,t)}}class cA extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!af(this.value.arrayValue,t)}}class lA extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>af(this.value.arrayValue,r))}}class dA{constructor(e,t=null,r=[],s=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=g,this.dt=null}}function o_(n,e=null,t=[],r=[],s=null,u=null,l=null){return new dA(n,e,t,r,s,u,l)}function Du(n){const e=nt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>i_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),yg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uf(r)).join(",")),e.dt=t}return e.dt}function lf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n_(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bC(n.startAt,e.startAt)&&bC(n.endAt,e.endAt)}function a_(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dg(n,e){return n.filters.filter(t=>t instanceof un&&t.field.isEqual(e))}function dw(n,e,t){let r=Qy,s=!0;for(const u of Dg(n,e)){let l=Qy,g=!0;switch(u.op){case"<":case"<=":l=t_(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,g=!1;break;case"!=":case"not-in":l=Qy}EC({value:r,inclusive:s},{value:l,inclusive:g})<0&&(r=l,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];EC({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}function NC(n,e,t){let r=wu,s=!0;for(const u of Dg(n,e)){let l=wu,g=!0;switch(u.op){case">=":case">":l=wC(u.value),g=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,g=!1;break;case"!=":case"not-in":l=wu}IC({value:r,inclusive:s},{value:l,inclusive:g})>0&&(r=l,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];IC({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}class ba{constructor(e,t=null,r=[],s=[],u=null,l="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=_,this.wt=null,this._t=null}}function hw(n,e,t,r,s,u,l,g){return new ba(n,e,t,r,s,u,l,g)}function df(n){return new ba(n)}function fw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mi(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Fc(n){return null!==n.collectionGroup}function dd(n){const e=nt(n);if(null===e.wt){e.wt=[];const t=mi(e),r=pw(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new cd(t)),e.wt.push(new cd(Cr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cd(Cr.keyField(),u))}}}return e.wt}function rs(n){const e=nt(n);if(!e._t)if("F"===e.limitType)e._t=o_(e.path,e.collectionGroup,dd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of dd(e))t.push(new cd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Iu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Iu(e.startAt.position,e.startAt.inclusive):null;e._t=o_(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function PC(n,e){e.getFirstInequalityField(),mi(n);const t=n.filters.concat([e]);return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gw(n,e,t){return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return lf(rs(n),rs(e))&&n.limitType===e.limitType}function u_(n){return`${Du(rs(n))}|lt:${n.limitType}`}function hd(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>MC(r)).join(", ")}]`),yg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uf(r)).join(",")),`Target(${t})`}(rs(n))}; limitType=${n.limitType})`}function Cg(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Qe.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of dd(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const g=CC(s,u,l);return s.inclusive?g<=0:g<0}(t.startAt,dd(t),r)||t.endAt&&!function(s,u,l){const g=CC(s,u,l);return s.inclusive?g>=0:g>0}(t.endAt,dd(t),r)));var t,r}function c_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OC(n){return(e,t)=>{let r=!1;for(const s of dd(n)){const u=kC(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function kC(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(s,u,l){const g=u.data.field(s),_=l.data.field(s);return null!==g&&null!==_?kc(g,_):ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}class Cu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Pc(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return pC(this.inner)}size(){return this.innerSize}}const hA=new Qn(Qe.comparator);function Es(){return hA}const l_=new Qn(Qe.comparator);function ff(...n){let e=l_;for(const t of n)e=e.insert(t.key,t);return e}function FC(n){let e=l_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zs(){return h_()}function d_(){return h_()}function h_(){return new Cu(n=>n.toString(),(n,e)=>n.isEqual(e))}const LC=new Qn(Qe.comparator),fA=new Jn(Qe.comparator);function qt(...n){let e=fA;for(const t of n)e=e.add(t);return e}const pf=new Jn(Ht);function mw(){return pf}function yw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function f_(n){return{integerValue:""+n}}function pA(n,e){return Wy(e)?f_(e):yw(n,e)}class p_{constructor(){this._=void 0}}function eN(n,e,t){return n instanceof gf?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&_g(s)&&(s=vg(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Lc?_w(n,e):n instanceof fd?vw(n,e):function(r,s){const u=UC(r,s),l=VC(u)+VC(r.gt);return vo(u)&&vo(r.gt)?f_(l):yw(r.serializer,l)}(n,e)}function gA(n,e,t){return n instanceof Lc?_w(n,e):n instanceof fd?vw(n,e):t}function UC(n,e){return n instanceof pd?vo(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gf extends p_{}class Lc extends p_{constructor(e){super(),this.elements=e}}function _w(n,e){const t=BC(e);for(const r of n.elements)t.some(s=>qo(s,r))||t.push(r);return{arrayValue:{values:t}}}class fd extends p_{constructor(e){super(),this.elements=e}}function vw(n,e){let t=BC(e);for(const r of n.elements)t=t.filter(s=>!qo(s,r));return{arrayValue:{values:t}}}class pd extends p_{constructor(e,t){super(),this.serializer=e,this.gt=t}}function VC(n){return br(n.integerValue||n.doubleValue)}function BC(n){return wg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mf{constructor(e,t){this.field=e,this.transform=t}}class jC{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Tg{}function $C(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ag(n.key,er.none()):new Sg(n.key,n.data,er.none());{const t=n.data,r=ei.empty();let s=new Jn(Cr.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new Uc(n.key,r,new ws(s.toArray()),er.none())}}function yA(n,e,t){n instanceof Sg?function(r,s,u){const l=r.value.clone(),g=wA(r.fieldTransforms,s,u.transformResults);l.setAll(g),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Uc?function(r,s,u){if(!bg(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=wA(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(vA(r)),g.setAll(l),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function g_(n,e,t,r){return n instanceof Sg?function(s,u,l,g){if(!bg(s.precondition,u))return l;const _=s.value.clone(),C=EA(s.fieldTransforms,g,u);return _.setAll(C),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Uc?function(s,u,l,g){if(!bg(s.precondition,u))return l;const _=EA(s.fieldTransforms,g,u),C=u.data;return C.setAll(vA(s)),C.setAll(_),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,bg(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function HC(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=UC(r.transform,s||null);null!=u&&(null===t&&(t=ei.empty()),t.set(r.field,u))}return t||null}function _A(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ef(t,r,(s,u)=>function mA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Lc&&r instanceof Lc||t instanceof fd&&r instanceof fd?ef(t.elements,r.elements,qo):t instanceof pd&&r instanceof pd?qo(t.gt,r.gt):t instanceof gf&&r instanceof gf);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Sg extends Tg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Uc extends Tg{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wA(n,e,t){const r=new Map;It(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,g=e.data.field(u.field);r.set(u.field,gA(l,g,t[s]))}return r}function EA(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,eN(u,l,e))}return r}class Ag extends Tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zC extends Tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GC{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&yA(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=g_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=g_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=d_();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(s.key)?null:g;const _=$C(l,g);null!==_&&r.set(s.key,_),l.isValidDocument()||l.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&ef(this.mutations,e.mutations,(t,r)=>_A(t,r))&&ef(this.baseMutations,e.baseMutations,(t,r)=>_A(t,r))}}class m_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){It(e.mutations.length===r.length);let s=LC;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new m_(e,t,r,s)}}class Mg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class IA{constructor(e,t){this.count=e,this.unchangedNames=t}}var gr,hn;function DA(n){switch(n){default:return ut();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function CA(n){if(void 0===n)return Dr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case gr.OK:return ce.OK;case gr.CANCELLED:return ce.CANCELLED;case gr.UNKNOWN:return ce.UNKNOWN;case gr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case gr.INTERNAL:return ce.INTERNAL;case gr.UNAVAILABLE:return ce.UNAVAILABLE;case gr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case gr.NOT_FOUND:return ce.NOT_FOUND;case gr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case gr.ABORTED:return ce.ABORTED;case gr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case gr.DATA_LOSS:return ce.DATA_LOSS;default:return ut()}}(hn=gr||(gr={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class qC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xg}static getOrCreateInstance(){return null===xg&&(xg=new qC),xg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let xg=null;function ZC(){return new TextEncoder}const bA=new id([4294967295,4294967295],0);function KC(n){const e=ZC().encode(n),t=new WD;return t.update(e),new Uint8Array(t.digest())}function TA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new id([t,r],0),new id([s,u],0)]}class ww{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yf(`Invalid padding: ${t}`);if(r<0)throw new yf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new yf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new yf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=id.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(id.fromNumber(r)));return 1===s.compare(bA)&&(s=new id([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=KC(e),[r,s]=TA(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new ww(u,s,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.It)return;const t=KC(e),[r,s]=TA(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,y_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _f(Ct.min(),s,new Qn(Ht),Es(),qt())}}class y_{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new y_(r,t,qt(),qt(),qt())}}class Is{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class YC{constructor(e,t){this.targetId=e,this.Vt=t}}class __{constructor(e,t,r=Xr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Ew{constructor(){this.St=0,this.Dt=$i(),this.Ct=Xr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=qt(),t=qt(),r=qt();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ut()}}),new y_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=$i()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class SA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Es(),this.zt=AA(),this.Wt=new Qn(Ht)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(a_(l))if(0===s){const g=new Qe(l.path);this.Yt(r,g,Xn.newNoDocument(g,Ct.min()))}else It(1===s);else{const g=this.ie(r);if(g!==s){const _=this.re(e,g);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=qC.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,T,x){var $,K,ue,ye,me,rt;const mt={localCacheCount:T,existenceFilterCount:x.count},Ge=x.unchangedNames;return Ge&&(mt.bloomFilter={applied:0===C,hashCount:null!==($=Ge?.hashCount)&&void 0!==$?$:0,bitmapLength:null!==(ye=null===(ue=null===(K=Ge?.bits)||void 0===K?void 0:K.bitmap)||void 0===ue?void 0:ue.length)&&void 0!==ye?ye:0,padding:null!==(rt=null===(me=Ge?.bits)||void 0===me?void 0:me.padding)&&void 0!==rt?rt:0}),mt}(_,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:g=0}=r;let _,C;try{_=Hs(u).toUint8Array()}catch(T){if(T instanceof mC)return Bs("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{C=new ww(_,l,g)}catch(T){return Bs(T instanceof yf?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===C.It?1:s!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),g=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const g=this.se(l);if(g){if(u.current&&a_(g.target)){const _=new Qe(g.target.path);null!==this.jt.get(_)||this.ae(l,_)||this.Yt(l,_,Xn.newNoDocument(_,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=qt();this.zt.forEach((u,l)=>{let g=!0;l.forEachWhile(_=>{const C=this.se(_);return!C||"TargetPurposeLimboResolution"===C.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new _f(e,t,this.Wt,this.jt,r);return this.jt=Es(),this.zt=AA(),this.Wt=new Qn(Ht),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ew,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Jn(Ht),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ew),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function AA(){return new Qn(Qe.comparator)}function $i(){return new Qn(Qe.comparator)}const MA={asc:"ASCENDING",desc:"DESCENDING"},Iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xA={and:"AND",or:"OR"};class RA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rg(n,e){return n.useProto3Json||yg(e)?e:{value:e}}function gd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NA(n,e){return gd(n,e.toTimestamp())}function Tr(n){return It(!!n),Ct.fromTimestamp(function(e){const t=Oc(e);return new ur(t.seconds,t.nanos)}(n))}function v_(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Cw(n){const e=dn.fromString(n);return It(ib(e)),e}function vf(n,e){return v_(n.databaseId,e.path)}function Ta(n,e){const t=Cw(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(bu(t))}function w_(n,e){return v_(n.databaseId,e)}function QC(n){const e=Cw(n);return 4===e.length?dn.emptyPath():bu(e)}function md(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bu(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bw(n,e,t){return{name:vf(n,e),fields:t.value.mapValue.fields}}function E_(n,e,t){const r=Ta(n,e.name),s=Tr(e.updateTime),u=e.createTime?Tr(e.createTime):Ct.min(),l=new ei({mapValue:{fields:e.fields}}),g=Xn.newFoundDocument(r,s,u,l);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function I_(n,e){let t;if(e instanceof Sg)t={update:bw(n,e.key,e.value)};else if(e instanceof Ag)t={delete:vf(n,e.key)};else if(e instanceof Uc)t={update:bw(n,e.key,e.data),updateMask:rb(e.fieldMask)};else{if(!(e instanceof zC))return ut();t={verify:vf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof gf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Lc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pd)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:NA(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ut()),t;var s}function D_(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?er.updateTime(Tr(s.updateTime)):void 0!==s.exists?er.exists(s.exists):er.none():er.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,l){let g=null;"setToServerValue"in l?(It("REQUEST_TIME"===l.setToServerValue),g=new gf):"appendMissingElements"in l?g=new Lc(l.appendMissingElements.values||[]):"removeAllFromArray"in l?g=new fd(l.removeAllFromArray.values||[]):"increment"in l?g=new pd(u,l.increment):ut();const _=Cr.fromServerFormat(l.fieldPath);return new mf(_,g)}(n,s)):[];var s;if(e.update){const s=Ta(n,e.update.name),u=new ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new ws((e.updateMask.fieldPaths||[]).map(C=>Cr.fromServerFormat(C)));return new Uc(s,u,l,t,r)}return new Sg(s,u,t,r)}if(e.delete){const s=Ta(n,e.delete);return new Ag(s,t)}if(e.verify){const s=Ta(n,e.verify);return new zC(s,t)}return ut()}function JC(n,e){return{documents:[w_(n,e.path)]}}function Sw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=w_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=w_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(_){if(0!==_.length)return Aw(Sn.create(_,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(_){if(0!==_.length)return _.map(C=>{return{field:yd((T=C).field),direction:tb(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=Rg(n,e.limit);var g,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function XC(n){let e=QC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){It(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const x=kA(T);return x instanceof Sn&&r_(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new cd(Vc((x=T).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let g=null;t.limit&&(g=function(T){let x;return x="object"==typeof T?T.value:T,yg(x)?null:x}(t.limit));let _=null;var T;t.startAt&&(_=new Iu((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new Iu(T.values||[],!T.before)}(t.endAt)),hw(e,s,l,u,g,"F",_,C)}function kA(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vc(e.unaryFilter.field);return un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Vc(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vc(e.unaryFilter.field);return un.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vc(e.unaryFilter.field);return un.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?un.create(Vc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Sn.create(e.compositeFilter.filters.map(t=>kA(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(n):ut();var e}function tb(n){return MA[n]}function FA(n){return Iw[n]}function nb(n){return xA[n]}function yd(n){return{fieldPath:n.canonicalString()}}function Vc(n){return Cr.fromServerFormat(n.fieldPath)}function Aw(n){return n instanceof un?function(e){if("=="===e.op){if(cf(e.value))return{unaryFilter:{field:yd(e.field),op:"IS_NAN"}};if(Xy(e.value))return{unaryFilter:{field:yd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cf(e.value))return{unaryFilter:{field:yd(e.field),op:"IS_NOT_NAN"}};if(Xy(e.value))return{unaryFilter:{field:yd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yd(e.field),op:FA(e.op),value:e.value}}}(n):n instanceof Sn?function(e){const t=e.getFilters().map(r=>Aw(r));return 1===t.length?t[0]:{compositeFilter:{op:nb(e.op),filters:t}}}(n):ut()}function rb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ib(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Sa{constructor(e,t,r,s,u=Ct.min(),l=Ct.min(),g=Xr.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mw{constructor(e){this.fe=e}}function Ng(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:vf(s=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:gd(s,u.version.toTimestamp()),createTime:gd(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return ut();r.unknownDocument={path:t.path.toArray(),version:Bc(e.version)}}var s,u;return r}function Pg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _d(n){const e=new ur(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function vd(n,e){const t=(e.baseMutations||[]).map(u=>D_(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>D_(n.fe,u)),s=ur.fromMillis(e.localWriteTimeMs);return new GC(e.batchId,s,t,r)}function C_(n){const e=_d(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_d(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var s;return void 0!==n.query.documents?(It(1===(s=n.query).documents.length),r=rs(df(QC(s.documents[0])))):r=rs(XC(n.query)),new Sa(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Xr.fromBase64String(n.resumeToken))}function xw(n,e){const t=Bc(e.snapshotVersion),r=Bc(e.lastLimboFreeSnapshotVersion);let s;s=a_(e.target)?JC(n.fe,e.target):Sw(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Du(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Rw(n){const e=XC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gw(e,e.limit,"L"):e}function Nw(n,e){return new Mg(e.largestBatchId,D_(n.fe,e.overlayMutation))}function LA(n,e){const t=e.path.lastSegment();return[n,bi(e.path.popLast()),t]}function UA(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Bc(r.readTime),documentKey:bi(r.documentKey.path),largestBatchId:r.largestBatchId}}class tN{getBundleMetadata(e,t){return Pw(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:_d(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return Pw(e).put({bundleId:(r=t).id,createTime:Bc(Tr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return sb(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:Rw(s.bundledQuery),readTime:_d(s.readTime)};var s})}saveNamedQuery(e,t){return sb(e).put({name:(r=t).name,readTime:Bc(Tr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Pw(n){return Ti(n,"bundles")}function sb(n){return Ti(n,"namedQueries")}class b_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new b_(e,t.uid||"")}getOverlay(e,t){return Og(e).get(LA(this.userId,t)).next(r=>r?Nw(this.serializer,r):null)}getOverlays(e,t){const r=zs();return oe.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,l)=>{const g=new Mg(t,l);s.push(this.we(e,g))}),oe.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(l=>s.add(bi(l.getCollectionPath())));const u=[];return s.forEach(l=>{const g=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(Og(e).J("collectionPathOverlayIndex",g))}),oe.waitFor(u)}getOverlaysForCollection(e,t,r){const s=zs(),u=bi(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Og(e).j("collectionPathOverlayIndex",l).next(g=>{for(const _ of g){const C=Nw(this.serializer,_);s.set(C.getKey(),C)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=zs();let l;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Og(e).X({index:"collectionGroupOverlayIndex",range:g},(_,C,T)=>{const x=Nw(this.serializer,C);u.size()<s||x.largestBatchId===l?(u.set(x.getKey(),x),l=x.largestBatchId):T.done()}).next(()=>u)}we(e,t){return Og(e).put(function(r,s,u){const[l,g,_]=LA(s,u.mutation.key);return{userId:s,collectionPath:g,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:I_(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Og(n){return Ti(n,"documentOverlays")}class Ef{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(br(e.integerValue));else if("doubleValue"in e){const r=br(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),od(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Hs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?vC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ut()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function nN(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function VA(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=nN(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Ef.Ve=new Ef;class rN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=t.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=t.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const t=this.Fe(e),r=VA(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Le(e){const t=this.Fe(e),r=VA(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class iN{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class BA{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class jc{constructor(){this.je=new rN,this.ze=new iN(this.je),this.We=new BA(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class wd{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wd(this.indexId,this.documentKey,this.arrayValue,r)}}function $c(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ow(n.arrayValue,e.arrayValue),0!==t?t:(t=Ow(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function Ow(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Ed{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){It(e.collectionGroup===this.collectionId);const t=Hy(e);if(void 0!==t&&!this.en(t))return!1;const r=sd(e);let s=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)s=s.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const g=r[u];if(!this.nn(this.Ze,g)||!this.sn(this.Ye[l++],g))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function kw(n){var e,t;if(It(n instanceof un||n instanceof Sn),n instanceof un){if(n instanceof RC){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>un.create(n.field,"==",u)))||[];return Sn.create(s,"or")}return n}const r=n.filters.map(s=>kw(s));return Sn.create(r,n.op)}function Fw(n){if(0===n.getFilters().length)return[];const e=Fg(kw(n));return It(T_(e)),kg(e)||Lw(e)?[e]:e.getFilters()}function kg(n){return n instanceof un}function Lw(n){return n instanceof Sn&&r_(n)}function T_(n){return kg(n)||Lw(n)||function(e){if(e instanceof Sn&&Ig(e)){for(const t of e.getFilters())if(!kg(t)&&!Lw(t))return!1;return!0}return!1}(n)}function Fg(n){if(It(n instanceof un||n instanceof Sn),n instanceof un)return n;if(1===n.filters.length)return Fg(n.filters[0]);const e=n.filters.map(r=>Fg(r));let t=Sn.create(e,n.op);return t=Uw(t),T_(t)?t:(It(t instanceof Sn),It(ld(t)),It(t.filters.length>1),t.filters.reduce((r,s)=>If(r,s)))}function If(n,e){let t;return It(n instanceof un||n instanceof Sn),It(e instanceof un||e instanceof Sn),t=n instanceof un?e instanceof un?Sn.create([n,e],"and"):jA(n,e):e instanceof un?jA(e,n):function(r,s){if(It(r.filters.length>0&&s.filters.length>0),ld(r)&&ld(s))return AC(r,s.getFilters());const u=Ig(r)?r:s,l=Ig(r)?s:r,g=u.filters.map(_=>If(_,l));return Sn.create(g,"or")}(n,e),Uw(t)}function jA(n,e){if(ld(e))return AC(e,n.getFilters());{const t=e.filters.map(r=>If(n,r));return Sn.create(t,"or")}}function Uw(n){if(It(n instanceof un||n instanceof Sn),n instanceof un)return n;const e=n.getFilters();if(1===e.length)return Uw(e[0]);if(SC(n))return n;const t=e.map(s=>Uw(s)),r=[];return t.forEach(s=>{s instanceof un?r.push(s):s instanceof Sn&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:Sn.create(r,n.op)}class sN{constructor(){this.rn=new S_}addToCollectionParentIndex(e,t){return this.rn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(js.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class S_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Jn(dn.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jn(dn.comparator)).toArray()}}const A_=new Uint8Array(0);class $A{constructor(e,t){this.user=e,this.databaseId=t,this.on=new S_,this.un=new Cu(r=>Du(r),(r,s)=>lf(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:bi(s)};return ob(e).put(u)}return oe.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[K0(t),""],!1,!0);return ob(e).j(s).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Ca(l.parent))}return r})}addFieldIndex(e,t){const r=Ug(e),s={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var l;delete s.indexId;const u=r.add(s);if(t.indexState){const l=Df(e);return u.next(g=>{l.put(UA(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Ug(e),s=Df(e),u=Lg(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Lg(e);let s=!0;const u=new Map;return oe.forEach(this.cn(t),l=>this.an(e,l).next(g=>{s&&(s=!!g),u.set(l,g)})).next(()=>{if(s){let l=qt();const g=[];return oe.forEach(u,(_,C)=>{var T;Ue("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Ge=>`${Ge.fieldPath}:${Ge.kind}`).join(",")}`} to execute ${Du(t)}`);const x=function(Ge,at){const Nt=Hy(at);if(void 0===Nt)return null;for(const Zt of Dg(Ge,Nt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(C,_),$=function(Ge,at){const Nt=new Map;for(const Zt of sd(at))for(const vi of Dg(Ge,Zt.fieldPath))switch(vi.op){case"==":case"in":Nt.set(Zt.fieldPath.canonicalString(),vi.value);break;case"not-in":case"!=":return Nt.set(Zt.fieldPath.canonicalString(),vi.value),Array.from(Nt.values())}return null}(C,_),K=function(Ge,at){const Nt=[];let Zt=!0;for(const vi of sd(at)){const Ko=0===vi.kind?dw(Ge,vi.fieldPath,Ge.startAt):NC(Ge,vi.fieldPath,Ge.startAt);Nt.push(Ko.value),Zt&&(Zt=Ko.inclusive)}return new Iu(Nt,Zt)}(C,_),ue=function(Ge,at){const Nt=[];let Zt=!0;for(const vi of sd(at)){const Ko=0===vi.kind?NC(Ge,vi.fieldPath,Ge.endAt):dw(Ge,vi.fieldPath,Ge.endAt);Nt.push(Ko.value),Zt&&(Zt=Ko.inclusive)}return new Iu(Nt,Zt)}(C,_),ye=this.hn(_,C,K),me=this.hn(_,C,ue),rt=this.ln(_,C,$),mt=this.fn(_.indexId,x,ye,K.inclusive,me,ue.inclusive,rt);return oe.forEach(mt,Ge=>r.H(Ge,t.limit).next(at=>{at.forEach(Nt=>{const Zt=Qe.fromSegments(Nt.documentKey);l.has(Zt)||(l=l.add(Zt),g.push(Zt))})}))}).next(()=>g)}return oe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Fw(Sn.create(e.filters,"and")).map(r=>o_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,s,u,l,g){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),C=_/(null!=t?t.length:1),T=[];for(let x=0;x<_;++x){const $=t?this.dn(t[x/C]):A_,K=this.wn(e,$,r[x%C],s),ue=this._n(e,$,u[x%C],l),ye=g.map(me=>this.wn(e,$,me,!0));T.push(...this.createRange(K,ue,ye))}return T}wn(e,t,r,s){const u=new wd(e,Qe.empty(),t,r);return s?u:u.Je()}_n(e,t,r,s){const u=new wd(e,Qe.empty(),t,r);return s?u.Je():u}an(e,t){const r=new Ed(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let l=null;for(const g of u)r.tn(g)&&(!l||g.fields.length>l.fields.length)&&(l=g);return l})}getIndexType(e,t){let r=2;const s=this.cn(t);return oe.forEach(s,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(g){let _=new Jn(Cr.comparator),C=!1;for(const T of g.filters)for(const x of T.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?C=!0:_=_.add(x.field));for(const T of g.orderBy)T.field.isKeyField()||(_=_.add(T.field));return _.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}mn(e,t){const r=new jc;for(const s of sd(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const l=r.He(s.kind);Ef.Ve._e(u,l)}return r.Qe()}dn(e){const t=new jc;return Ef.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new jc;return Ef.Ve._e(Eu(this.databaseId,t),r.He(function(s){const u=sd(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let s=[];s.push(new jc);let u=0;for(const l of sd(e)){const g=r[u++];for(const _ of s)if(this.yn(t,l.fieldPath)&&wg(g))s=this.pn(s,l,g);else{const C=_.He(l.kind);Ef.Ve._e(g,C)}}return this.In(s)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const s=[...e],u=[];for(const l of r.arrayValue.values||[])for(const g of s){const _=new jc;_.seed(g.Qe()),Ef.Ve._e(l,_.He(t.kind)),u.push(_)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof un&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ug(e),s=Df(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return oe.forEach(u,g=>s.get([g.indexId,this.uid]).next(_=>{l.push(function(C,T){const x=T?new tf(T.sequenceNumber,new js(_d(T.readTime),new Qe(Ca(T.documentKey)),T.largestBatchId)):tf.empty(),$=C.fields.map(([K,ue])=>new zy(Cr.fromServerFormat(K),ue));return new $y(C.indexId,C.collectionGroup,$,x)}(g,_))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Ht(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Ug(e),u=Df(e);return this.Tn(e).next(l=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>oe.forEach(g,_=>u.put(UA(_.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(s,u)=>{const l=r.get(s.collectionGroup);return(l?oe.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(r.set(s.collectionGroup,g),oe.forEach(g,_=>this.En(e,s,_).next(C=>{const T=this.An(u,_);return C.isEqual(T)?oe.resolve():this.vn(e,u,_,C,T)}))))})}Rn(e,t,r,s){return Lg(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,s){return Lg(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const s=Lg(e);let u=new Jn($c);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,g)=>{u=u.add(new wd(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}An(e,t){let r=new Jn($c);const s=this.mn(t,e);if(null==s)return r;const u=Hy(t);if(null!=u){const l=e.data.field(u.fieldPath);if(wg(l))for(const g of l.arrayValue.values||[])r=r.add(new wd(t.indexId,e.key,this.dn(g),s))}else r=r.add(new wd(t.indexId,e.key,A_,s));return r}vn(e,t,r,s,u){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(g,_,C,T,x){const $=g.getIterator(),K=_.getIterator();let ue=rf($),ye=rf(K);for(;ue||ye;){let me=!1,rt=!1;if(ue&&ye){const mt=C(ue,ye);mt<0?rt=!0:mt>0&&(me=!0)}else null!=ue?rt=!0:me=!0;me?(T(ye),ye=rf(K)):rt?(x(ue),ue=rf($)):(ue=rf($),ye=rf(K))}}(s,u,$c,g=>{l.push(this.Rn(e,t,r,g))},g=>{l.push(this.Pn(e,t,r,g))}),oe.waitFor(l)}Tn(e){let t=1;return Df(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,g)=>$c(l,g)).filter((l,g,_)=>!g||0!==$c(l,_[g-1]));const s=[];s.push(e);for(const l of r){const g=$c(l,e),_=$c(l,t);if(0===g)s[0]=e.Je();else if(g>0&&_<0)s.push(l),s.push(l.Je());else if(_>0)break}s.push(t);const u=[];for(let l=0;l<s.length;l+=2){if(this.bn(s[l],s[l+1]))return[];u.push(IDBKeyRange.bound([s[l].indexId,this.uid,s[l].arrayValue,s[l].directionalValue,A_,[]],[s[l+1].indexId,this.uid,s[l+1].arrayValue,s[l+1].directionalValue,A_,[]]))}return u}bn(e,t){return $c(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Vw)}getMinOffset(e,t){return oe.mapArray(this.cn(t),r=>this.an(e,r).next(s=>s||ut())).next(Vw)}}function ob(n){return Ti(n,"collectionParents")}function Lg(n){return Ti(n,"indexEntries")}function Ug(n){return Ti(n,"indexConfiguration")}function Df(n){return Ti(n,"indexState")}function Vw(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;gg(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new js(e.readTime,e.documentKey,t)}const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hi(e,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Bw(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let g=0;const _=r.X({range:l},(T,x,$)=>(g++,$.delete()));u.push(_.next(()=>{It(1===g)}));const C=[];for(const T of t.mutations){const x=tw(e,T.key.path,t.batchId);u.push(s.delete(x)),C.push(T.key)}return oe.waitFor(u).next(()=>C)}function Cf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(41943040,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class jw{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,t,r,s){It(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new jw(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Aa(e).X({index:"userMutationsIndex",range:r},(s,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=bf(e),l=Aa(e);return l.add({}).next(g=>{It("number"==typeof g);const _=new GC(g,t,r,s),C=function($,K,ue){const ye=ue.baseMutations.map(rt=>I_($.fe,rt)),me=ue.mutations.map(rt=>I_($.fe,rt));return{userId:K,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:ye,mutations:me}}(this.serializer,this.userId,_),T=[];let x=new Jn(($,K)=>Ht($.canonicalString(),K.canonicalString()));for(const $ of s){const K=tw(this.userId,$.key.path,g);x=x.add($.key.path.popLast()),T.push(l.put(C)),T.push(u.put(K,nf))}return x.forEach($=>{T.push(this.indexManager.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.Vn[g]=_.keys()}),oe.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return Aa(e).get(t).next(r=>r?(It(r.userId===this.userId),vd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?oe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Vn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Aa(e).X({index:"userMutationsIndex",range:s},(l,g,_)=>{g.userId===this.userId&&(It(g.batchId>=r),u=vd(this.serializer,g)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Aa(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Aa(e).j("userMutationsIndex",t).next(r=>r.map(s=>vd(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Zy(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return bf(e).X({range:s},(l,g,_)=>{const[C,T,x]=l,$=Ca(T);if(C===this.userId&&t.path.isEqual($))return Aa(e).get(x).next(K=>{if(!K)throw ut();It(K.userId===this.userId),u.push(vd(this.serializer,K))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(Ht);const s=[];return t.forEach(u=>{const l=Zy(this.userId,u.path),g=IDBKeyRange.lowerBound(l),_=bf(e).X({range:g},(C,T,x)=>{const[$,K,ue]=C,ye=Ca(K);$===this.userId&&u.path.isEqual(ye)?r=r.add(ue):x.done()});s.push(_)}),oe.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=Zy(this.userId,r),l=IDBKeyRange.lowerBound(u);let g=new Jn(Ht);return bf(e).X({range:l},(_,C,T)=>{const[x,$,K]=_,ue=Ca($);x===this.userId&&r.isPrefixOf(ue)?ue.length===s&&(g=g.add(K)):T.done()}).next(()=>this.Dn(e,g))}Dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(Aa(e).get(u).next(l=>{if(null===l)throw ut();It(l.userId===this.userId),r.push(vd(this.serializer,l))}))}),oe.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return Bw(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),oe.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return bf(e).X({range:r},(u,l,g)=>{if(u[0]===this.userId){const _=Ca(u[1]);s.push(_)}else g.done()}).next(()=>{It(0===s.length)})})}containsKey(e,t){return $w(e,this.userId,t)}xn(e){return ub(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $w(n,e,t){const r=Zy(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return bf(n).X({range:u,Y:!0},(g,_,C)=>{const[T,x,$]=g;T===e&&x===s&&(l=!0),C.done()}).next(()=>l)}function Aa(n){return Ti(n,"mutations")}function bf(n){return Ti(n,"documentMutations")}function ub(n){return Ti(n,"mutationQueues")}class Tf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Tf(0)}static Mn(){return new Tf(-1)}}class oN{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Tf(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ct.fromTimestamp(new ur(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return Sf(e).X((l,g)=>{const _=C_(g);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(s++,u.push(this.removeTargetData(e,_)))}).next(()=>oe.waitFor(u)).next(()=>s)}forEachTarget(e,t){return Sf(e).X((r,s)=>{const u=C_(s);t(u)})}$n(e){return cb(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}On(e,t){return cb(e).put("targetGlobalKey",t)}Fn(e,t){return Sf(e).put(xw(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Du(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Sf(e).X({range:s,index:"queryTargetsIndex"},(l,g,_)=>{const C=C_(g);lf(t,C.target)&&(u=C,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Hc(e);return t.forEach(l=>{const g=bi(l.path);s.push(u.put({targetId:r,path:g})),s.push(this.referenceDelegate.addReference(e,r,l))}),oe.waitFor(s)}removeMatchingKeys(e,t,r){const s=Hc(e);return oe.forEach(t,u=>{const l=bi(u.path);return oe.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Hc(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Hc(e);let u=qt();return s.X({range:r,Y:!0},(l,g,_)=>{const C=Ca(l[1]),T=new Qe(C);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=bi(t.path),s=IDBKeyRange.bound([r],[K0(r)],!1,!0);let u=0;return Hc(e).X({index:"documentTargetsIndex",Y:!0,range:s},([l,g],_,C)=>{0!==l&&(u++,C.done())}).next(()=>u>0)}le(e,t){return Sf(e).get(t).next(r=>r?C_(r):null)}}function Sf(n){return Ti(n,"targets")}function cb(n){return Ti(n,"targetGlobal")}function Hc(n){return Ti(n,"targetDocuments")}function lb([n,e],[t,r]){const s=Ht(n,t);return 0===s?Ht(e,r):s}class db{constructor(e){this.Ln=e,this.buffer=new Jn(lb),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hw{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Rc(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xc(r)}yield t.Qn(3e5)}))}}class aN{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve($s.ct);const r=new db(t);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ab)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,s,u,l,g,_,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(r=x,g=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(C=Date.now(),Z0()<=Dc.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-T}ms\n\tDetermined least recently used ${s} in `+(g-l)+`ms\n\tRemoved ${u} targets in `+(_-g)+`ms\n\tRemoved ${x} documents in `+(C-_)+`ms\nTotal Duration: ${C-T}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:x})))}}class zw{constructor(e,t){this.db=e,this.garbageCollector=function hb(n,e){return new aN(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,s)=>t(s))}addReference(e,t,r){return Vg(e,r)}removeReference(e,t,r){return Vg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Vg(e,t)}Xn(e,t){return function(r,s){let u=!1;return ub(r).Z(l=>$w(r,l,s).next(g=>(g&&(u=!0),oe.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(l,g)=>{if(g<=t){const _=this.Xn(e,l).next(C=>{if(!C)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Ct.min()),Hc(e).delete([0,bi(l.path)])))});s.push(_)}}).next(()=>oe.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Vg(e,t)}Yn(e,t){const r=Hc(e);let s,u=$s.ct;return r.X({index:"documentTargetsIndex"},([l,g],{path:_,sequenceNumber:C})=>{0===l?(u!==$s.ct&&t(new Qe(Ca(s)),u),u=C,s=_):u=$s.ct}).next(()=>{u!==$s.ct&&t(new Qe(Ca(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vg(n,e){return Hc(n).put((r=n.currentSequenceNumber,{targetId:0,path:bi(e.path),sequenceNumber:r}));var r}class Gw{constructor(){this.changes=new Cu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return zc(e).put(r)}removeEntry(e,t,r){return zc(e).delete(function(s,u){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Pg(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Xn.newInvalidDocument(t);return zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Af(t))},(s,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:Xn.newInvalidDocument(t)};return zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Af(t))},(s,u)=>{r={document:this.ts(t,u),size:Cf(u)}}).next(()=>r)}getEntries(e,t){let r=Es();return this.ns(e,t,(s,u)=>{const l=this.ts(s,u);r=r.insert(s,l)}).next(()=>r)}ss(e,t){let r=Es(),s=new Qn(Qe.comparator);return this.ns(e,t,(u,l)=>{const g=this.ts(u,l);r=r.insert(u,g),s=s.insert(u,Cf(l))}).next(()=>({documents:r,rs:s}))}ns(e,t,r){if(t.isEmpty())return oe.resolve();let s=new Jn(pb);t.forEach(_=>s=s.add(_));const u=IDBKeyRange.bound(Af(s.first()),Af(s.last())),l=s.getIterator();let g=l.getNext();return zc(e).X({index:"documentKeyIndex",range:u},(_,C,T)=>{const x=Qe.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&pb(g,x)<0;)r(g,null),g=l.getNext();g&&g.isEqual(x)&&(r(g,C),g=l.hasNext()?l.getNext():null),g?T.G(Af(g)):T.done()}).next(()=>{for(;g;)r(g,null),g=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),Pg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zc(e).j(IDBKeyRange.bound(l,g,!0)).next(_=>{let C=Es();for(const T of _){const x=this.ts(Qe.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);x.isFoundDocument()&&(Cg(t,x)||s.has(x.key))&&(C=C.insert(x.key,x))}return C})}getAllFromCollectionGroup(e,t,r,s){let u=Es();const l=GA(t,r),g=GA(t,js.max());return zc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,g,!0)},(_,C,T)=>{const x=this.ts(Qe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(x.key,x),u.size===s&&T.done()}).next(()=>u)}newChangeBuffer(e){return new zA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fb(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}Zn(e,t){return fb(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function wf(n,e){let t;if(e.document)t=E_(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),s=_d(e.noDocument.readTime);t=Xn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const r=Qe.fromSegments(e.unknownDocument.path),s=_d(e.unknownDocument.version);t=Xn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new ur(r[0],r[1]);return Ct.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return Xn.newInvalidDocument(e)}}function M_(n){return new HA(n)}class zA extends Gw{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Cu(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Jn((u,l)=>Ht(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const g=this.us.get(u);if(t.push(this.os.removeEntry(e,u,g.readTime)),l.isValidDocument()){const _=Ng(this.os.serializer,l);s=s.add(u.path.popLast());const C=Cf(_);r+=C-g.size,t.push(this.os.addEntry(e,u,_))}else if(r-=g.size,this.trackRemovals){const _=Ng(this.os.serializer,l.convertToNoDocument(Ct.min()));t.push(this.os.addEntry(e,u,_))}}),s.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:s})=>(s.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function fb(n){return Ti(n,"remoteDocumentGlobal")}function zc(n){return Ti(n,"remoteDocumentsV14")}function Af(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function GA(n,e){const t=e.documentKey.path.toArray();return[n,Pg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pb(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Ht(t[u],r[u]),s)return s;return s=Ht(t.length,r.length),s||(s=Ht(t[t.length-2],r[r.length-2]),s||Ht(t[t.length-1],r[r.length-1]))}class x_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class WA{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&g_(r.mutation,s,ws.empty(),ur.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qt()){const s=zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=ff();return u.forEach((g,_)=>{l=l.insert(g,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=zs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qt()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,s){let u=Es();const l=h_(),g=h_();return t.forEach((_,C)=>{const T=r.get(C.key);s.has(C.key)&&(void 0===T||T.mutation instanceof Uc)?u=u.insert(C.key,C):void 0!==T?(l.set(C.key,T.mutation.getFieldMask()),g_(T.mutation,C,T.mutation.getFieldMask(),ur.now())):l.set(C.key,ws.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((C,T)=>l.set(C,T)),t.forEach((C,T)=>{var x;return g.set(C,new x_(T,null!==(x=l.get(C))&&void 0!==x?x:null))}),g))}recalculateAndSaveOverlays(e,t){const r=h_();let s=new Qn((l,g)=>l-g),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(_=>{const C=t.get(_);if(null===C)return;let T=r.get(_)||ws.empty();T=g.applyToLocalView(C,T),r.set(_,T);const x=(s.get(g.batchId)||qt()).add(_);s=s.insert(g.batchId,x)})}).next(()=>{const l=[],g=s.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),C=_.key,T=_.value,x=d_();T.forEach($=>{if(!u.has($)){const K=$C(t.get($),r.get($));null!==K&&x.set($,K),u=u.add($)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,x))}return oe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):oe.resolve(zs());let g=-1,_=u;return l.next(C=>oe.forEach(C,(T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),u.get(T)?oe.resolve():this.remoteDocumentCache.getEntry(e,T).next($=>{_=_.insert(T,$)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,_,C,qt())).next(T=>({batchId:g,changes:FC(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let s=ff();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=ff();return this.indexManager.getCollectionParents(e,s).next(l=>oe.forEach(l,g=>{const _=(C=t,T=g.child(s),new ba(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(C=>{C.forEach((T,x)=>{u=u.insert(T,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((g,_)=>{const C=_.getKey();null===u.get(C)&&(u=u.insert(C,Xn.newInvalidDocument(C)))});let l=ff();return u.forEach((g,_)=>{const C=s.get(g);void 0!==C&&g_(C.mutation,_,ws.empty(),ur.now()),Cg(t,_)&&(l=l.insert(g,_))}),l})}}class qA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Tr(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Rw(r.bundledQuery),readTime:Tr(r.readTime)}),oe.resolve();var r}}class uN{constructor(){this.overlays=new Qn(Qe.comparator),this.ls=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zs();return oe.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const s=zs(),u=t.length+1,l=new Qe(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const _=g.getNext().value,C=_.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&_.largestBatchId>r&&s.set(_.getKey(),_)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Qn((C,T)=>C-T);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let T=u.get(C.largestBatchId);null===T&&(T=zs(),u=u.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const g=zs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,T)=>g.set(C,T)),!(g.size()>=s)););return oe.resolve(g)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Mg(t,r));let u=this.ls.get(t);void 0===u&&(u=qt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class gb{constructor(){this.fs=new Jn(yi.ds),this.ws=new Jn(yi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new yi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new yi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Qe(new dn([])),r=new yi(t,e),s=new yi(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new dn([])),r=new yi(t,e),s=new yi(t,e+1);let u=qt();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new yi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class yi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||Ht(e.As,t.As)}static _s(e,t){return Ht(e.As,t.As)||Qe.comparator(e.key,t.key)}}class cN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Jn(yi.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new GC(u,t,r,s);this.mutationQueue.push(l);for(const g of s)this.Rs=this.Rs.add(new yi(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yi(t,0),s=new yi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const g=this.Ps(l.As);u.push(g)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(Ht);return t.forEach(s=>{const u=new yi(s,0),l=new yi(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],g=>{r=r.add(g.As)})}),oe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const l=new yi(new Qe(u),0);let g=new Jn(Ht);return this.Rs.forEachWhile(_=>{const C=_.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(g=g.add(_.As)),!0)},l),oe.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){It(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return oe.forEach(t.mutations,s=>{const u=new yi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new yi(t,0),s=this.Rs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lN{constructor(e){this.Ds=e,this.docs=new Qn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=Es();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():Xn.newInvalidDocument(s))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=Es();const l=t.path,g=new Qe(l.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:C,value:{document:T}}=_.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||gg(XD(T),r)<=0||(s.has(T.key)||Cg(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,t,r,s){ut()}Cs(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dN(this)}getSize(e){return oe.resolve(this.size)}}class dN extends Gw{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hN{constructor(e){this.persistence=e,this.xs=new Cu(t=>Du(t),lf),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gb,this.targetCount=0,this.Ms=Tf.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Tf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Fn(t),oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),oe.waitFor(u).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ks.containsKey(t))}}class mb{constructor(e,t){this.$s={},this.overlays={},this.Os=new $s(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hN(this),this.indexManager=new sN,this.remoteDocumentCache=new lN(r=>this.referenceDelegate.Ls(r)),this.serializer=new Mw(t),this.qs=new qA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new cN(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const s=new ZA(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return oe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class ZA extends Q0{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.Qs=new gb,this.js=null}static zs(e){return new Ww(e)}get Ws(){if(this.js)return this.js;throw ut()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,r=>{const s=Qe.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,Ct.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oe.or([()=>oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class fN{constructor(e){this.serializer=e}O(e,t,r,s){const u=new Gy("createOrUpgrade",t);var g;r<1&&s>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qy,{unique:!0}),g.createObjectStore("documentMutations"),KA(e),function(g){g.createObjectStore("remoteDocuments")}(e));let l=oe.resolve();return r<3&&s>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),KA(e)),l=l.next(()=>function(g){const _=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",C)}(u))),r<4&&s>=4&&(0!==r&&(l=l.next(()=>function(g,_){return _.store("mutations").j().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qy,{unique:!0});const T=_.store("mutations"),x=C.map($=>T.put($));return oe.waitFor(x)})}(e,u))),l=l.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(l=l.next(()=>this.Ys(u))),r<6&&s>=6&&(l=l.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(l=l.next(()=>this.Zs(u))),r<8&&s>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&s>=9&&(l=l.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(l=l.next(()=>this.ei(u))),r<11&&s>=11&&(l=l.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(l=l.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:cC});_.createIndex("collectionPathOverlayIndex",lC,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",dC,{unique:!1})}(e)})),r<13&&s>=13&&(l=l.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:sC});_.createIndex("documentKeyIndex",nA),_.createIndex("collectionGroupIndex",XR)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(l=l.next(()=>this.si(e,u))),r<15&&s>=15&&(l=l.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:aC}).createIndex("sequenceNumberIndex",iA,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:uC}).createIndex("documentKeyIndex",iw,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=Cf(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(s=>oe.forEach(s,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(g=>oe.forEach(g,_=>{It(_.userId===u.userId);const C=vd(this.serializer,_);return Bw(e,u.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((l,g)=>{const _=new dn(l),C=[0,bi(_)];u.push(t.get(C).next(T=>T?oe.resolve():t.put({targetId:0,path:bi(_),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>oe.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:oC});const r=t.store("collectionParents"),s=new S_,u=l=>{if(s.add(l)){const g=l.lastSegment(),_=l.popLast();return r.put({collectionId:g,parent:bi(_)})}};return t.store("remoteDocuments").X({Y:!0},(l,g)=>{const _=new dn(l);return u(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,g,_],C)=>{const T=Ca(g);return u(T.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,s)=>{const u=C_(s),l=xw(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,l)=>{const g=t.store("remoteDocumentsV14"),_=(C=l,C.document?new Qe(dn.fromString(C.document.name).popFirst(5)):C.noDocument?Qe.fromSegments(C.noDocument.path):C.unknownDocument?Qe.fromSegments(C.unknownDocument.path):ut()).path.toArray();var C;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(g.put(T))}).next(()=>oe.waitFor(s))}si(e,t){const r=t.store("mutations"),s=M_(this.serializer),u=new mb(Ww.zs,this.serializer.fe);return r.j().next(l=>{const g=new Map;return l.forEach(_=>{var C;let T=null!==(C=g.get(_.userId))&&void 0!==C?C:qt();vd(this.serializer,_).keys().forEach(x=>T=T.add(x)),g.set(_.userId,T)}),oe.forEach(g,(_,C)=>{const T=new pi(C),x=b_.de(this.serializer,T),$=u.getIndexManager(T),K=jw.de(T,this.serializer,$,u.referenceDelegate);return new WA(s,K,x,$).recalculateAndSaveOverlaysForDocumentKeys(new Ky(t,$s.ct),_).next()})})}}function KA(n){n.createObjectStore("targetDocuments",{keyPath:rw}).createIndex("documentTargetsIndex",rA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nw,{unique:!0}),n.createObjectStore("targetGlobal")}const yb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zw{constructor(e,t,r,s,u,l,g,_,C,T,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=g,this.ri=C,this.oi=T,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=$=>Promise.resolve(),!Zw.D())throw new Re(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zw(this,s),this.di=t+"main",this.serializer=new Mw(_),this.wi=new Wo(this.di,this.ui,new fN(this.serializer)),this.Bs=new oN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=M_(this.serializer),this.qs=new tN,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ce.FAILED_PRECONDITION,yb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new $s(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Ee.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>i(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Rc(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return R_(e).get("owner").next(t=>oe.resolve(this.Ri(t)))}Pi(e){return i(e).delete(this.clientId)}bi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Ti(r,"clientMetadata");return s.j().next(u=>{const l=e.Si(u,18e5),g=u.filter(_=>-1===l.indexOf(_));return oe.forEach(g,_=>s.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?oe.resolve(!0):R_(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(ce.FAILED_PRECONDITION,yb);return!1}}return!(!this.networkEnabled||!this.inForeground)||i(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ky(t,$s.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>i(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return jw.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $A(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return b_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?oA:14===l?fC:13===l?hC:12===l?sA:11===l?sw:void ut();var l;let g;return this.wi.runTransaction(e,s,u,_=>(g=new Ky(_,this.Os?this.Os.next():$s.ct),"readwrite-primary"===t?this.Ti(g).next(C=>!!C||this.Ei(g)).next(C=>{if(!C)throw Dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(ce.FAILED_PRECONDITION,eC);return r(g)}).next(C=>this.vi(g).next(()=>C)):this.Oi(g).next(()=>r(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}Oi(e){return R_(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(ce.FAILED_PRECONDITION,yb)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return R_(e).put("owner",t)}static D(){return Wo.D()}Ai(e){const t=R_(e);return t.get("owner").next(r=>this.Ri(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Gt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Dr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function R_(n){return Ti(n,"owner")}function i(n){return Ti(n,"clientMetadata")}function o(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class a{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=qt(),s=qt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new a(e,t.fromCache,r,s)}}class c{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(fw(t))return oe.resolve(null);let r=rs(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=gw(t,null,"F"),r=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=qt(...u);return this.Ui.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const C=this.ji(t,g);return this.zi(t,C,l,_.readTime)?this.Ki(e,gw(t,null,"F")):this.Wi(e,C,t,_)}))})))}Gi(e,t,r,s){return fw(t)||s.isEqual(Ct.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):(Z0()<=Dc.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hd(t)),this.Wi(e,l,t,JD(s,-1)))})}ji(e,t){let r=new Jn(OC(e));return t.forEach((s,u)=>{Cg(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return Z0()<=Dc.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",hd(t)),this.Ui.getDocumentsMatchingQuery(e,t,js.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class d{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Qn(Ht),this.Yi=new Cu(u=>Du(u),lf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function f(n,e,t,r){return new d(n,e,t,r)}function y(n,e){return w.apply(this,arguments)}function w(){return w=(0,Ee.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let _=qt();for(const C of s){l.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}for(const C of u){g.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(C=>({er:C,removedBatchIds:l,addedBatchIds:g}))})})}),w.apply(this,arguments)}function S(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function V(n,e,t){let r=qt(),s=qt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Es();return t.forEach((g,_)=>{const C=u.get(g);_.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(g)),_.isNoDocument()&&_.version.isEqual(Ct.min())?(e.removeEntry(g,_.readTime),l=l.insert(g,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(_),l=l.insert(g,_)):Ue("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",_.version)}),{nr:l,sr:s}})}function q(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,oe.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new Sa(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Ie(n,e,t){return Le.apply(this,arguments)}function Le(){return Le=(0,Ee.Z)(function*(n,e,t){const r=nt(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Rc(l))throw l;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),Le.apply(this,arguments)}function Je(n,e,t){const r=nt(n);let s=Ct.min(),u=qt();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,_,C){const T=nt(g),x=T.Yi.get(C);return void 0!==x?oe.resolve(T.Ji.get(x)):T.Bs.getTargetData(_,C)}(r,l,rs(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,g.targetId).next(_=>{u=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:Ct.min(),t?u:qt())).next(g=>(Bt(r,c_(e),g),{documents:g,ir:u})))}function _t(n,e){const t=nt(n),r=nt(t.Bs),s=t.Ji.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function be(n,e){const t=nt(n),r=t.Xi.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Zi.getAllFromCollectionGroup(s,e,JD(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Bt(t,e,s),s))}function Bt(n,e,t){let r=n.Xi.get(e)||Ct.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function an(){return an=(0,Ee.Z)(function*(n,e,t,r){const s=nt(n);let u=qt(),l=Es();for(const C of t){const T=e.rr(C.metadata.name);C.document&&(u=u.add(T));const x=e.ur(C);x.setReadTime(e.cr(C.metadata.readTime)),l=l.insert(T,x)}const g=s.Zi.newChangeBuffer({trackRemovals:!0}),_=yield Q(s,(C=r,rs(df(dn.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>V(C,g,l).next(T=>(g.apply(C),T)).next(T=>s.Bs.removeMatchingKeysForTargetId(C,_.targetId).next(()=>s.Bs.addMatchingKeys(C,u,_.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(C,T.nr,T.sr)).next(()=>T.nr)))}),an.apply(this,arguments)}function zi(n,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,Ee.Z)(function*(n,e,t=qt()){const r=yield Q(n,rs(Rw(e.bundledQuery))),s=nt(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const l=Tr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return s.qs.saveNamedQuery(u,e);const g=r.withResumeToken(Xr.EMPTY_BYTE_STRING,l);return s.Ji=s.Ji.insert(g.targetId,g),s.Bs.updateTargetData(u,g).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),Mf.apply(this,arguments)}function _b(n,e){return`firestore_clients_${n}_${e}`}function vb(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function YA(n,e){return`firestore_targets_${n}_${e}`}class wb{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static ar(e,t,r){const s=JSON.parse(r);let u,l="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(u=new Re(s.error.code,s.error.message))),l?new wb(e,t,s.state,u):(Dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Re(r.error.code,r.error.message))),u?new Kw(e,r.state,s):(Dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=mw();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=Wy(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return s?new Eb(e,u):(Dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class QA{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new QA(t.clientId,t.onlineState):(Dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class JA{constructor(){this.activeTargetIds=mw()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XA{constructor(e,t,r,s,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Qn(Ht),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=_b(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new JA),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.$i();for(const s of t){if(s===e.wr)continue;const u=e.getItem(_b(e.persistenceKey,s));if(u){const l=Eb.ar(s,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(YA(this.persistenceKey,e));if(r){const s=Kw.ar(e,r);s&&(t=s.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(YA(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const s=t.Or(r.key);return t.Fr(s,null)}{const s=t.Br(r.key,r.newValue);if(s)return t.Fr(s.clientId,s)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const s=t.Lr(r.key,r.newValue);if(s)return t.qr(s)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const s=t.Ur(r.key,r.newValue);if(s)return t.Kr(s)}}else if(r.key===t.vr){if(null!==r.newValue){const s=t.br(r.newValue);if(s)return t.Vr(s)}}else if(r.key===t.Ir){const s=function(u){let l=$s.ct;if(null!=u)try{const g=JSON.parse(u);It("number"==typeof g),l=g}catch(g){Dr("SharedClientState","Failed to read sequence number from WebStorage",g)}return l}(r.newValue);s!==$s.ct&&t.sequenceNumberHandler(s)}else if(r.key===t.Rr){const s=t.Gr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const s=new wb(this.currentUser,e,t,r),u=vb(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const t=vb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const s=YA(this.persistenceKey,e),u=new Kw(e,t,r);this.setItem(s,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return Eb.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),s=Number(r[1]);return wb.ar(new pi(void 0!==r[2]?r[2]:null),s,t)}Ur(e,t){const r=this.Ar.exec(e),s=Number(r[1]);return Kw.ar(s,t)}br(e){return QA.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),l=[],g=[];return u.forEach(_=>{s.has(_)||l.push(_)}),s.forEach(_=>{u.has(_)||g.push(_)}),this.syncEngine.Wr(l,g).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=mw();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class pN{constructor(){this.Hr=new JA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new JA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class C1{Yr(e){}shutdown(){}}class gN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ib=null;function eM(){return null===Ib?Ib=268435456+Math.round(2147483648*Math.random()):Ib++,"0x"+Ib.toString(16)}const b1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ds="WebChannelConnection";class S1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=eM(),g=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${l}:`,g,r);const _={};return this.Eo(_,s,u),this.Ao(e,g,_,r).then(C=>(Ue("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw Bs("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",g,"request:",r),C})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${b1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=eM();return new Promise((l,g)=>{const _=new Vy;_.setWithCredentials(!0),_.listenOnce(GS.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case W0.NO_ERROR:const T=_.getResponseJson();Ue(Ds,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),l(T);break;case W0.TIMEOUT:Ue(Ds,`RPC '${e}' ${u} timed out`),g(new Re(ce.DEADLINE_EXCEEDED,"Request time out"));break;case W0.HTTP_ERROR:const x=_.getStatus();if(Ue(Ds,`RPC '${e}' ${u} failed with status:`,x,"response text:",_.getResponseText()),x>0){let $=_.getResponseJson();Array.isArray($)&&($=$[0]);const K=$?.error;if(K&&K.status&&K.message){const ue=function(ye){const me=ye.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(me)>=0?me:ce.UNKNOWN}(K.status);g(new Re(ue,K.message))}else g(new Re(ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Re(ce.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ue(Ds,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);Ue(Ds,`RPC '${e}' ${u} sending request:`,s),_.send(t,"POST",C,r,15)})}Ro(e,t,r){const s=eM(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zD(),g=zS(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(_.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(_.xmlHttpFactory=new WS({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const T=u.join("");Ue(Ds,`Creating RPC '${e}' stream ${s}: ${T}`,_);const x=l.createWebChannel(T,_);let $=!1,K=!1;const ue=new T1({ro:me=>{K?Ue(Ds,`Not sending because RPC '${e}' stream ${s} is closed:`,me):($||(Ue(Ds,`Opening RPC '${e}' stream ${s} transport.`),x.open(),$=!0),Ue(Ds,`RPC '${e}' stream ${s} sending:`,me),x.send(me))},oo:()=>x.close()}),ye=(me,rt,mt)=>{me.listen(rt,Ge=>{try{mt(Ge)}catch(at){setTimeout(()=>{throw at},0)}})};return ye(x,Uy.EventType.OPEN,()=>{K||Ue(Ds,`RPC '${e}' stream ${s} transport opened.`)}),ye(x,Uy.EventType.CLOSE,()=>{K||(K=!0,Ue(Ds,`RPC '${e}' stream ${s} transport closed`),ue.wo())}),ye(x,Uy.EventType.ERROR,me=>{K||(K=!0,Bs(Ds,`RPC '${e}' stream ${s} transport errored:`,me),ue.wo(new Re(ce.UNAVAILABLE,"The operation could not be completed")))}),ye(x,Uy.EventType.MESSAGE,me=>{var rt;if(!K){const mt=me.data[0];It(!!mt);const at=mt.error||(null===(rt=mt[0])||void 0===rt?void 0:rt.error);if(at){Ue(Ds,`RPC '${e}' stream ${s} received error:`,at);const Nt=at.status;let Zt=function(Ko){const Q_=gr[Ko];if(void 0!==Q_)return CA(Q_)}(Nt),vi=at.message;void 0===Zt&&(Zt=ce.INTERNAL,vi="Unknown error status: "+Nt+" with message "+at.message),K=!0,ue.wo(new Re(Zt,vi)),x.close()}else Ue(Ds,`RPC '${e}' stream ${s} received:`,mt),ue._o(mt)}}),ye(g,pg.STAT_EVENT,me=>{me.stat===GD.PROXY?Ue(Ds,`RPC '${e}' stream ${s} detected buffering proxy`):me.stat===GD.NOPROXY&&Ue(Ds,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ue.fo()},0),ue}}function mN(){return typeof window<"u"?window:null}function Db(){return typeof document<"u"?document:null}function Yw(n){return new RA(n,!0)}class tM{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&Ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class yN{constructor(e,t,r,s,u,l,g,_){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new tM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ee.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Re(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,Ee.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A1 extends yN{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function PA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ut(),s=e.targetChange.targetIds||[],u=function(_,C){return _.useProto3Json?(It(void 0===C||"string"==typeof C),Xr.fromBase64String(C||"")):(It(void 0===C||C instanceof Uint8Array),Xr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(_){const C=void 0===_.code?ce.UNKNOWN:CA(_.code);return new Re(C,_.message||"")}(l);t=new __(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=Ta(n,r.document.name),u=Tr(r.document.updateTime),l=r.document.createTime?Tr(r.document.createTime):Ct.min(),g=new ei({mapValue:{fields:r.document.fields}}),_=Xn.newFoundDocument(s,u,l,g);t=new Is(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,s=Ta(n,r.document),u=r.readTime?Tr(r.readTime):Ct.min(),l=Xn.newNoDocument(s,u);t=new Is([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=Ta(n,r.document);t=new Is([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return ut();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new IA(s,u);t=new YC(r.targetId,l)}}var _;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ct.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Ct.min():u.readTime?Tr(u.readTime):Ct.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=md(this.serializer),t.addTarget=function(s,u){let l;const g=u.target;if(l=a_(g)?{documents:JC(s,g)}:{query:Sw(s,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=Dw(s,u.resumeToken);const _=Rg(s,u.expectedCount);null!==_&&(l.expectedCount=_)}else if(u.snapshotVersion.compareTo(Ct.min())>0){l.readTime=gd(s,u.snapshotVersion.toTimestamp());const _=Rg(s,u.expectedCount);null!==_&&(l.expectedCount=_)}return l}(this.serializer,e);const r=function eb(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=md(this.serializer),t.removeTarget=e,this.Wo(t)}}class M1 extends yN{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function OA(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,s){let u=Tr(r.updateTime?r.updateTime:s);return u.isEqual(Ct.min())&&(u=Tr(s)),new jC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.cu(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=md(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>I_(this.serializer,r))};this.Wo(t)}}class x1 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ce.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(ce.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class N1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Dr(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class P1{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,Ee.Z)(function*(){var _;xf(l)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ee.Z)(function*(C){const T=nt(C);T.vu.add(4),yield N_(T),T.bu.set("Unknown"),T.vu.delete(4),yield Qw(T)}),function(C){return _.apply(this,arguments)})(l))}))}),this.bu=new N1(r,s)}}function Qw(n){return rM.apply(this,arguments)}function rM(){return rM=(0,Ee.Z)(function*(n){if(xf(n))for(const e of n.Ru)yield e(!0)}),rM.apply(this,arguments)}function N_(n){return iM.apply(this,arguments)}function iM(){return iM=(0,Ee.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),iM.apply(this,arguments)}function Cb(n,e){const t=nt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),aM(t)?oM(t):O_(t).Ko()&&sM(t,e))}function Jw(n,e){const t=nt(n),r=O_(t);t.Au.delete(e),r.Ko()&&_N(t,e),0===t.Au.size&&(r.Ko()?r.jo():xf(t)&&t.bu.set("Unknown"))}function sM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}O_(n).su(e)}function _N(n,e){n.Vu.qt(e),O_(n).iu(e)}function oM(n){n.Vu=new SA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),O_(n).start(),n.bu.gu()}function aM(n){return xf(n)&&!O_(n).Uo()&&n.Au.size>0}function xf(n){return 0===nt(n).vu.size}function vN(n){n.Vu=void 0}function O1(n){return uM.apply(this,arguments)}function uM(){return uM=(0,Ee.Z)(function*(n){n.Au.forEach((e,t)=>{sM(n,e)})}),uM.apply(this,arguments)}function k1(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,Ee.Z)(function*(n,e){vN(n),aM(n)?(n.bu.Iu(e),oM(n)):n.bu.set("Unknown")}),cM.apply(this,arguments)}function F1(n,e,t){return lM.apply(this,arguments)}function lM(){return lM=(0,Ee.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof __&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(s,u){const l=u.cause;for(const g of u.targetIds)s.Au.has(g)&&(yield s.remoteSyncer.rejectListen(g,l),s.Au.delete(g),s.Vu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bb(n,r)}else if(e instanceof Is?n.Vu.Ht(e):e instanceof YC?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Ct.min()))try{const r=yield S(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const C=s.Au.get(_);C&&s.Au.set(_,C.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach((g,_)=>{const C=s.Au.get(g);if(!C)return;s.Au.set(g,C.withResumeToken(Xr.EMPTY_BYTE_STRING,C.snapshotVersion)),_N(s,g);const T=new Sa(C.target,g,_,C.sequenceNumber);sM(s,T)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield bb(n,r)}var r}),lM.apply(this,arguments)}function bb(n,e,t){return dM.apply(this,arguments)}function dM(){return dM=(0,Ee.Z)(function*(n,e,t){if(!Rc(e))throw e;n.vu.add(1),yield N_(n),n.bu.set("Offline"),t||(t=()=>S(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Qw(n)}))}),dM.apply(this,arguments)}function wN(n,e){return e().catch(t=>bb(n,t,e))}function P_(n){return hM.apply(this,arguments)}function hM(){return hM=(0,Ee.Z)(function*(n){const e=nt(n),t=Rf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;L1(e);)try{const s=yield q(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,U1(e,s)}catch(s){yield bb(e,s)}EN(e)&&IN(e)}),hM.apply(this,arguments)}function L1(n){return xf(n)&&n.Eu.length<10}function U1(n,e){n.Eu.push(e);const t=Rf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function EN(n){return xf(n)&&!Rf(n).Uo()&&n.Eu.length>0}function IN(n){Rf(n).start()}function V1(n){return fM.apply(this,arguments)}function fM(){return fM=(0,Ee.Z)(function*(n){Rf(n).hu()}),fM.apply(this,arguments)}function B1(n){return pM.apply(this,arguments)}function pM(){return pM=(0,Ee.Z)(function*(n){const e=Rf(n);for(const t of n.Eu)e.uu(t.mutations)}),pM.apply(this,arguments)}function j1(n,e,t){return gM.apply(this,arguments)}function gM(){return gM=(0,Ee.Z)(function*(n,e,t){const r=n.Eu.shift(),s=m_.from(r,e,t);yield wN(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield P_(n)}),gM.apply(this,arguments)}function $1(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,Ee.Z)(function*(n,e){var t;e&&Rf(n).ou&&(yield(t=(0,Ee.Z)(function*(r,s){if(DA(u=s.code)&&u!==ce.ABORTED){const l=r.Eu.shift();Rf(r).Qo(),yield wN(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield P_(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),EN(n)&&IN(n)}),mM.apply(this,arguments)}function DN(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,Ee.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=xf(t);t.vu.add(3),yield N_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Qw(t)}),yM.apply(this,arguments)}function _M(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,Ee.Z)(function*(n,e){const t=nt(n);e?(t.vu.delete(2),yield Qw(t)):e||(t.vu.add(2),yield N_(t),t.bu.set("Unknown"))}),vM.apply(this,arguments)}function O_(n){return n.Su||(n.Su=function(e,t,r){const s=nt(e);return s.fu(),new A1(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:O1.bind(null,n),ao:k1.bind(null,n),nu:F1.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Su.Qo(),aM(n)?oM(n):n.bu.set("Unknown")):(yield n.Su.stop(),vN(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Rf(n){return n.Du||(n.Du=function(e,t,r){const s=nt(e);return s.fu(),new M1(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:V1.bind(null,n),ao:$1.bind(null,n),au:B1.bind(null,n),cu:j1.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Du.Qo(),yield P_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class wM{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,g=new wM(e,t,l,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k_(n,e){if(Dr("AsyncQueue",`${e}: ${n}`),Rc(n))return new Re(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class F_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=ff(),this.sortedSet=new Qn(this.comparator)}static emptySet(e){return new F_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof F_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new F_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class CN{constructor(){this.Cu=new Qn(Qe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ut():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class L_{constructor(e,t,r,s,u,l,g,_,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new L_(e,t,F_.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class H1{constructor(){this.Nu=void 0,this.listeners=[]}}class z1{constructor(){this.queries=new Cu(e=>u_(e),hf),this.onlineState="Unknown",this.ku=new Set}}function EM(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,Ee.Z)(function*(n,e){const t=nt(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new H1),s)try{u.Nu=yield t.onListen(r)}catch(l){const g=k_(l,`Initialization of query '${hd(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&bM(t)}),IM.apply(this,arguments)}function DM(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,Ee.Z)(function*(n,e){const t=nt(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),CM.apply(this,arguments)}function G1(n,e){const t=nt(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const g of l.listeners)g.$u(s)&&(r=!0);l.Nu=s}}r&&bM(t)}function W1(n,e,t){const r=nt(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function bM(n){n.ku.forEach(e=>{e.next()})}class TM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new L_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=L_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class q1{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class bN{constructor(e){this.serializer=e}rr(e){return Ta(this.serializer,e)}ur(e){return e.metadata.exists?E_(this.serializer,e.document,!1):Xn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Tr(e)}}class Z1{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TN(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=dn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new bN(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const l of s.metadata.queries){const g=(t.get(l)||qt()).add(u);t.set(l,g)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function on(n,e,t,r){return an.apply(this,arguments)}(e.localStore,new bN(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield zi(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function TN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class SN{constructor(e){this.key=e}}class AN{constructor(e){this.key=e}}class MN{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=qt(),this.mutatedKeys=qt(),this.tc=OC(e),this.ec=new F_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new CN,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,g=!1;const _="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,x)=>{const $=s.get(T),K=Cg(this.query,x)?x:null,ue=!!$&&this.mutatedKeys.has($.key),ye=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let me=!1;$&&K?$.data.isEqual(K.data)?ue!==ye&&(r.track({type:3,doc:K}),me=!0):this.rc($,K)||(r.track({type:2,doc:K}),me=!0,(_&&this.tc(K,_)>0||C&&this.tc(K,C)<0)&&(g=!0)):!$&&K?(r.track({type:0,doc:K}),me=!0):$&&!K&&(r.track({type:1,doc:$}),me=!0,(_||C)&&(g=!0)),me&&(K?(l=l.add(K),u=ye?u.add(T):u.delete(T)):(l=l.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,T)=>function(x,$){const K=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return K(x)-K($)}(C.type,T.type)||this.tc(C.doc,T.doc)),this.oc(r);const l=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,_=g!==this.Xu;return this.Xu=g,0!==u.length||_?{snapshot:new L_(this.query,e.ec,s,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new CN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=qt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new AN(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new SN(r))}),t}hc(e){this.Yu=e.ir,this.Zu=qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return L_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class K1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Y1{constructor(e){this.key=e,this.fc=!1}}class Q1{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Cu(g=>u_(g),hf),this._c=new Map,this.mc=new Set,this.gc=new Qn(Qe.comparator),this.yc=new Map,this.Ic=new gb,this.Tc={},this.Ec=new Map,this.Ac=Tf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function J1(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,Ee.Z)(function*(n,e){const t=YM(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield Q(t.localStore,rs(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield AM(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&Cb(t.remoteStore,l)}return s}),SM.apply(this,arguments)}function AM(n,e,t,r,s){return MM.apply(this,arguments)}function MM(){return MM=(0,Ee.Z)(function*(n,e,t,r,s){n.Rc=(x,$,K)=>{return(ue=(0,Ee.Z)(function*(ye,me,rt,mt){let Ge=me.view.sc(rt);Ge.zi&&(Ge=yield Je(ye.localStore,me.query,!1).then(({documents:Zt})=>me.view.sc(Zt,Ge)));const at=mt&&mt.targetChanges.get(me.targetId),Nt=me.view.applyChanges(Ge,ye.isPrimaryClient,at);return VM(ye,me.targetId,Nt.cc),Nt.snapshot}),function(ye,me,rt,mt){return ue.apply(this,arguments)})(n,x,$,K);var ue};const u=yield Je(n.localStore,e,!0),l=new MN(e,u.ir),g=l.sc(u.documents),_=y_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),C=l.applyChanges(g,n.isPrimaryClient,_);VM(n,t,C.cc);const T=new K1(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),MM.apply(this,arguments)}function X1(n,e){return xM.apply(this,arguments)}function xM(){return xM=(0,Ee.Z)(function*(n,e){const t=nt(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!hf(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ie(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Jw(t.remoteStore,r.targetId),U_(t,r.targetId)}).catch(xc))):(U_(t,r.targetId),yield Ie(t.localStore,r.targetId,!0))}),xM.apply(this,arguments)}function RM(){return RM=(0,Ee.Z)(function*(n,e,t){const r=QM(n);try{const s=yield function(u,l){const g=nt(u),_=ur.now(),C=l.reduce(($,K)=>$.add(K.key),qt());let T,x;return g.persistence.runTransaction("Locally write mutations","readwrite",$=>{let K=Es(),ue=qt();return g.Zi.getEntries($,C).next(ye=>{K=ye,K.forEach((me,rt)=>{rt.isValidDocument()||(ue=ue.add(me))})}).next(()=>g.localDocuments.getOverlayedDocuments($,K)).next(ye=>{T=ye;const me=[];for(const rt of l){const mt=HC(rt,T.get(rt.key).overlayedDocument);null!=mt&&me.push(new Uc(rt.key,mt,DC(mt.value.mapValue),er.exists(!0)))}return g.mutationQueue.addMutationBatch($,_,me,l)}).next(ye=>{x=ye;const me=ye.applyToLocalDocumentSet(T,ue);return g.documentOverlayCache.saveOverlays($,ye.batchId,me)})}).then(()=>({batchId:x.batchId,changes:FC(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,g){let _=u.Tc[u.currentUser.toKey()];_||(_=new Qn(Ht)),_=_.insert(l,g),u.Tc[u.currentUser.toKey()]=_}(r,s.batchId,t),yield Id(r,s.changes),yield P_(r.remoteStore)}catch(s){const u=k_(s,"Failed to persist write");t.reject(u)}}),RM.apply(this,arguments)}function xN(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,Ee.Z)(function*(n,e){const t=nt(n);try{const r=yield function R(n,e){const t=nt(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const g=[];e.targetChanges.forEach((T,x)=>{const $=s.get(x);if(!$)return;g.push(t.Bs.removeMatchingKeys(u,T.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(u,T.addedDocuments,x)));let K=$.withSequenceNumber(u.currentSequenceNumber);var ue,ye,me;null!==e.targetMismatches.get(x)?K=K.withResumeToken(Xr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):T.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(T.resumeToken,r)),s=s.insert(x,K),ye=K,me=T,(0===(ue=$).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,K))});let _=Es(),C=qt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(V(u,l,e.documentUpdates).next(T=>{_=T.nr,C=T.sr})),!r.isEqual(Ct.min())){const T=t.Bs.getLastRemoteSnapshotVersion(u).next(x=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(T)}return oe.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,C)).next(()=>_)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?It(l.fc):s.removedDocuments.size>0&&(It(l.fc),l.fc=!1))}),yield Id(t,r,e)}catch(r){yield xc(r)}}),NM.apply(this,arguments)}function RN(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const g=l.view.Mu(e);g.snapshot&&s.push(g.snapshot)}),function(u,l){const g=nt(u);g.onlineState=l;let _=!1;g.queries.forEach((C,T)=>{for(const x of T.listeners)x.Mu(l)&&(_=!0)}),_&&bM(g)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tk(n,e,t){return PM.apply(this,arguments)}function PM(){return PM=(0,Ee.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new Qn(Qe.comparator);l=l.insert(u,Xn.newNoDocument(u,Ct.min()));const g=qt().add(u),_=new _f(Ct.min(),new Map,new Qn(Ht),l,g);yield xN(r,_),r.gc=r.gc.remove(u),r.yc.delete(e),BM(r)}else yield Ie(r.localStore,e,!1).then(()=>U_(r,e,t)).catch(xc)}),PM.apply(this,arguments)}function nk(n,e){return OM.apply(this,arguments)}function OM(){return OM=(0,Ee.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const s=yield function D(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,g,_,C){const T=_.batch,x=T.keys();let $=oe.resolve();return x.forEach(K=>{$=$.next(()=>C.getEntry(g,K)).next(ue=>{const ye=_.docVersions.get(K);It(null!==ye),ue.version.compareTo(ye)<0&&(T.applyToRemoteDocument(ue,_),ue.isValidDocument()&&(ue.setReadTime(_.commitVersion),C.addEntry(ue)))})}),$.next(()=>l.mutationQueue.removeMutationBatch(g,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=qt();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(g=g.add(l.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);UM(t,r,null),LM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Id(t,s)}catch(s){yield xc(s)}}),OM.apply(this,arguments)}function rk(n,e,t){return kM.apply(this,arguments)}function kM(){return kM=(0,Ee.Z)(function*(n,e,t){const r=nt(n);try{const s=yield function(u,l){const g=nt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return g.mutationQueue.lookupMutationBatch(_,l).next(T=>(It(null!==T),C=T.keys(),g.mutationQueue.removeMutationBatch(_,T))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,C,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>g.localDocuments.getDocuments(_,C))})}(r.localStore,e);UM(r,e,t),LM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Id(r,s)}catch(s){yield xc(s)}}),kM.apply(this,arguments)}function FM(){return FM=(0,Ee.Z)(function*(n,e){const t=nt(n);xf(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=nt(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>l.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Ec.get(r)||[];s.push(e),t.Ec.set(r,s)}catch(r){const s=k_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),FM.apply(this,arguments)}function LM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function UM(n,e,t){const r=nt(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function U_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||NN(n,r)})}function NN(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Jw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),BM(n))}function VM(n,e,t){for(const r of t)r instanceof SN?(n.Ic.addReference(r.key,e),sk(n,r)):r instanceof AN?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||NN(n,r.key)):ut()}function sk(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),BM(n))}function BM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(dn.fromString(e)),r=n.Ac.next();n.yc.set(r,new Y1(t)),n.gc=n.gc.insert(t,r),Cb(n.remoteStore,new Sa(rs(df(t.path)),r,"TargetPurposeLimboResolution",$s.ct))}}function Id(n,e,t){return jM.apply(this,arguments)}function jM(){return jM=(0,Ee.Z)(function*(n,e,t){const r=nt(n),s=[],u=[],l=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,_)=>{l.push(r.Rc(_,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const T=a.Li(_.targetId,C);u.push(T)}}))}),yield Promise.all(l),r.dc.nu(s),yield(g=(0,Ee.Z)(function*(_,C){const T=nt(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>oe.forEach(C,$=>oe.forEach($.Fi,K=>T.persistence.referenceDelegate.addReference(x,$.targetId,K)).next(()=>oe.forEach($.Bi,K=>T.persistence.referenceDelegate.removeReference(x,$.targetId,K)))))}catch(x){if(!Rc(x))throw x;Ue("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const $=x.targetId;if(!x.fromCache){const K=T.Ji.get($),ye=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);T.Ji=T.Ji.insert($,ye)}}}),function(_,C){return g.apply(this,arguments)})(r.localStore,u))}),jM.apply(this,arguments)}function ok(n,e){return $M.apply(this,arguments)}function $M(){return $M=(0,Ee.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield y(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(g=>{g.reject(new Re(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Id(t,r.er)}var s}),$M.apply(this,arguments)}function ak(n,e){const t=nt(n),r=t.yc.get(e);if(r&&r.fc)return qt().add(r.key);{let s=qt();const u=t._c.get(e);if(!u)return s;for(const l of u){const g=t.wc.get(l);s=s.unionWith(g.view.nc)}return s}}function uk(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,Ee.Z)(function*(n,e){const t=nt(n),r=yield Je(t.localStore,e.query,!0),s=e.view.hc(r);return t.isPrimaryClient&&VM(t,e.targetId,s.cc),s}),HM.apply(this,arguments)}function ck(n,e){return zM.apply(this,arguments)}function zM(){return zM=(0,Ee.Z)(function*(n,e){const t=nt(n);return be(t.localStore,e).then(r=>Id(t,r))}),zM.apply(this,arguments)}function lk(n,e,t,r){return GM.apply(this,arguments)}function GM(){return GM=(0,Ee.Z)(function*(n,e,t,r){const s=nt(n),u=yield function(l,g){const _=nt(l),C=nt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Sn(T,g).next(x=>x?_.localDocuments.getDocuments(T,x):oe.resolve(null)))}(s.localStore,e);var g;null!==u?("pending"===t?yield P_(s.remoteStore):"acknowledged"===t||"rejected"===t?(UM(s,e,r||null),LM(s,e),g=e,nt(nt(s.localStore).mutationQueue).Cn(g)):ut(),yield Id(s,u)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),GM.apply(this,arguments)}function WM(){return WM=(0,Ee.Z)(function*(n,e){const t=nt(n);if(YM(t),QM(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield PN(t,r.toArray());t.vc=!0,yield _M(t.remoteStore,!0);for(const u of s)Cb(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let s=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then(()=>(U_(t,l),Ie(t.localStore,l,!0))),Jw(t.remoteStore,l)}),yield s,yield PN(t,r),function(u){const l=nt(u);l.yc.forEach((g,_)=>{Jw(l.remoteStore,_)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Qn(Qe.comparator)}(t),t.vc=!1,yield _M(t.remoteStore,!1)}}),WM.apply(this,arguments)}function PN(n,e,t){return qM.apply(this,arguments)}function qM(){return qM=(0,Ee.Z)(function*(n,e,t){const r=nt(n),s=[],u=[];for(const l of e){let g;const _=r._c.get(l);if(_&&0!==_.length){g=yield Q(r.localStore,rs(_[0]));for(const C of _){const T=r.wc.get(C),x=yield uk(r,T);x.snapshot&&u.push(x.snapshot)}}else{const C=yield _t(r.localStore,l);g=yield Q(r.localStore,C),yield AM(r,ON(C),l,!1,g.resumeToken)}s.push(g)}return r.dc.nu(u),s}),qM.apply(this,arguments)}function ON(n){return hw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hk(n){const e=nt(n);return nt(nt(e.localStore).persistence).$i()}function fk(n,e,t,r){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Ee.Z)(function*(n,e,t,r){const s=nt(n);if(s.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield be(s.localStore,c_(u[0])),g=_f.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Xr.EMPTY_BYTE_STRING);yield Id(s,l,g);break}case"rejected":yield Ie(s.localStore,e,!0),U_(s,e,r);break;default:ut()}}),ZM.apply(this,arguments)}function pk(n,e,t){return KM.apply(this,arguments)}function KM(){return KM=(0,Ee.Z)(function*(n,e,t){const r=YM(n);if(r.vc){for(const s of e){if(r._c.has(s)){Ue("SyncEngine","Adding an already active target "+s);continue}const u=yield _t(r.localStore,s),l=yield Q(r.localStore,u);yield AM(r,ON(u),l.targetId,!1,l.resumeToken),Cb(r.remoteStore,l)}for(const s of t)r._c.has(s)&&(yield Ie(r.localStore,s,!1).then(()=>{Jw(r.remoteStore,s),U_(r,s)}).catch(xc))}}),KM.apply(this,arguments)}function YM(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tk.bind(null,e),e.dc.nu=G1.bind(null,e.eventManager),e.dc.Pc=W1.bind(null,e.eventManager),e}function QM(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rk.bind(null,e),e}class Xw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.serializer=Yw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return f(this.persistence,new c,e.initialUser,this.serializer)}createPersistence(e){return new mb(Ww.zs,this.serializer)}createSharedClientState(e){return new pN}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JM extends Xw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield QM(r.Vc.syncEngine),yield P_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return f(this.persistence,new c,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Hw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new tA(t,this.persistence);return new rC(e.asyncQueue,r)}createPersistence(e){const t=o(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new Zw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,mN(),Db(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pN}}class kN extends JM{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof XA&&(r.sharedClientState.syncEngine={jr:lk.bind(null,s),zr:fk.bind(null,s),Wr:pk.bind(null,s),$i:hk.bind(null,s),Qr:ck.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,Ee.Z)(function*(l){yield function dk(n,e){return WM.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=mN();if(!XA.D(t))throw new Re(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=o(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new XA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class V_{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>RN(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,r.syncEngine),yield _M(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new z1}createDatastore(e){const t=Yw(e.databaseInfo.databaseId),r=new S1(e.databaseInfo);return new x1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>RN(this.syncEngine,g,0),l=gN.D()?new gN:new C1,new P1(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,g,_,C){const T=new Q1(r,s,u,l,g,_);return C&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=nt(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield N_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function FN(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yk{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new gi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new q1(JSON.parse(u),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ee.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class _k{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,Ee.Z)(function*(u,l){const g=nt(u),_=md(g.serializer)+"/documents",C={documents:l.map(K=>vf(g.serializer,K))},T=yield g.vo("BatchGetDocuments",_,C,l.length),x=new Map;T.forEach(K=>{const ue=function Tw(n,e){return"found"in e?function(t,r){It(!!r.found);const s=Ta(t,r.found.name),u=Tr(r.found.updateTime),l=r.found.createTime?Tr(r.found.createTime):Ct.min(),g=new ei({mapValue:{fields:r.found.fields}});return Xn.newFoundDocument(s,u,l,g)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const s=Ta(t,r.missing),u=Tr(r.readTime);return Xn.newNoDocument(s,u)}(n,e):ut()}(g.serializer,K);x.set(ue.key.toString(),ue)});const $=[];return l.forEach(K=>{const ue=x.get(K.toString());It(!!ue),$.push(ue)}),$}),function(u,l){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ag(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=Qe.fromPath(s);e.mutations.push(new zC(u,e.precondition(u)))}),yield(r=(0,Ee.Z)(function*(s,u){const l=nt(s),g=md(l.serializer)+"/documents",_={writes:u.map(C=>I_(l.serializer,C))};yield l.Io("Commit",g,_)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ct.min())?er.exists(!1):er.updateTime(t):er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Re(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(t)}return er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vk{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new tM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ee.Z)(function*(){const t=new _k(e.datastore),r=e.qc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const t=this.updateFunction(e);return!yg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!DA(t)}return!1}}class wk{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=pi.UNAUTHENTICATED,this.clientId=KD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ee.Z)(function*(g){Ue("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=k_(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function Sb(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ee.Z)(function*(u){r.isEqual(u)||(yield y(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),XM.apply(this,arguments)}function ex(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield nx(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>DN(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>DN(e.remoteStore,u)),n._onlineComponents=e}),tx.apply(this,arguments)}function LN(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function nx(n){return rx.apply(this,arguments)}function rx(){return rx=(0,Ee.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!LN(t))throw t;Bs("Error using user provided cache. Falling back to memory cache: "+t),yield Sb(n,new Xw)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield Sb(n,new Xw);return n._offlineComponents}),rx.apply(this,arguments)}function Ab(n){return ix.apply(this,arguments)}function ix(){return ix=(0,Ee.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield ex(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield ex(n,new V_))),n._onlineComponents}),ix.apply(this,arguments)}function UN(n){return nx(n).then(e=>e.persistence)}function Mb(n){return nx(n).then(e=>e.localStore)}function VN(n){return Ab(n).then(e=>e.remoteStore)}function sx(n){return Ab(n).then(e=>e.syncEngine)}function B_(n){return ox.apply(this,arguments)}function ox(){return ox=(0,Ee.Z)(function*(n){const e=yield Ab(n),t=e.eventManager;return t.onListen=J1.bind(null,e.syncEngine),t.onUnlisten=X1.bind(null,e.syncEngine),t}),ox.apply(this,arguments)}function jN(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(s,u,l,g,_){const C=new Tb({next:x=>{u.enqueueAndForget(()=>DM(s,T));const $=x.docs.has(l);!$&&x.fromCache?_.reject(new Re(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&x.fromCache&&g&&"server"===g.source?_.reject(new Re(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),T=new TM(df(l.path),C,{includeMetadataChanges:!0,Ku:!0});return EM(s,T)}(yield B_(n),n.asyncQueue,e,t,r)})),r.promise}function $N(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(s,u,l,g,_){const C=new Tb({next:x=>{u.enqueueAndForget(()=>DM(s,T)),x.fromCache&&"server"===g.source?_.reject(new Re(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),T=new TM(l,C,{includeMetadataChanges:!0,Ku:!0});return EM(s,T)}(yield B_(n),n.asyncQueue,e,t,r)})),r.promise}function HN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const zN=new Map;function ax(n,e,t){if(!t)throw new Re(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GN(n,e,t,r){if(!0===e&&!0===r)throw new Re(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WN(n){if(!Qe.isDocumentKey(n))throw new Re(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qN(n){if(Qe.isDocumentKey(n))throw new Re(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xb(n);throw new Re(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ZN(n,e){if(e<=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class KN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eE{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qD;switch(t.type){case"firstParty":return new ZD(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zN.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),zN.delete(e),t.terminate())}(this),Promise.resolve()}}function YN(n,e,t,r={}){var s;const u=(n=fn(n,eE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let g,_;if("string"==typeof r.mockUserToken)g=r.mockUserToken,_=pi.MOCK_USER;else{g=(0,Gt.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Re(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new pi(C)}n._authCredentials=new jy(new KS(g,_))}}class mr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class is{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Gc extends is{constructor(e,t,r){super(e,t,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new Qe(e))}withConverter(e){return new Gc(this.firestore,e,this._path)}}function QN(n,e,...t){if(n=(0,Gt.m9)(n),ax("collection","path",e),n instanceof eE){const r=dn.fromString(e,...t);return qN(r),new Gc(n,null,r)}{if(!(n instanceof mr||n instanceof Gc))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return qN(r),new Gc(n.firestore,null,r)}}function Rb(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=KD.A()),ax("doc","path",e),n instanceof eE){const r=dn.fromString(e,...t);return WN(r),new mr(n,null,new Qe(r))}{if(!(n instanceof mr||n instanceof Gc))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return WN(r),new mr(n.firestore,n instanceof Gc?n.converter:null,new Qe(r))}}function JN(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof mr||n instanceof Gc)&&(e instanceof mr||e instanceof Gc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ux(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof is&&e instanceof is&&n.firestore===e.firestore&&hf(n._query,e._query)&&n.converter===e.converter}class xk{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new tM(this,"async_queue_retry"),this.Xc=()=>{const t=Db();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Db();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Db();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new gi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Rc(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Dr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=wM.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&ut()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function cx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Rk{constructor(){this._progressObserver={},this._taskCompletionResolver=new gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yr extends eE{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new xk,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XN(this),this._firestoreClient.terminate()}}function Pk(n,e){const t="object"==typeof n?n:(0,Ls.getApp)(),r="string"==typeof n?n:e||"(default)",s=(0,Ls._getProvider)(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const u=(0,Gt.P0)("firestore");u&&YN(s,...u)}return s}function ti(n){return n._firestoreClient||XN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function XN(n){var e,t,r;const s=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new yC(n._databaseId,g,n._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,HN(C.experimentalLongPollingOptions),C.useFetchStreams));var g,C;n._firestoreClient=new wk(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function eP(n,e,t){const r=new gi;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Sb(n,t),yield ex(n,e),r.resolve()}catch(s){const u=s;if(!LN(u))throw u;Bs("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function tP(n){if(n._initialized||n._terminated)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(Xr.fromBase64String(e))}catch(t){throw new Re(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wc(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bg{constructor(e){this._methodName=e}}class Nb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const Hk=/^__.*__$/;class zk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sg(e,this.data,t,this.fieldTransforms)}}class nP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class Pb{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Pb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Fb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(rP(this.ca)&&Hk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Gk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Yw(e)}ya(e,t,r,s=!1){return new Pb({ca:e,methodName:t,ga:r,path:Cr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(n){const e=n._freezeSettings(),t=Yw(n._databaseId);return new Gk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ob(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);fx("Data must be an object, but it was:",l,r);const g=oP(r,l);let _,C;if(u.merge)_=new ws(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const T=[];for(const x of u.mergeFields){const $=rE(e,x,t);if(!l.contains($))throw new Re(ce.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);uP(T,$)||T.push($)}_=new ws(T),C=l.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,C=l.fieldTransforms;return new zk(new ei(g),_,C)}class nE extends Bg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nE}}function iP(n,e,t){return new Pb({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lx extends Bg{_toFieldTransform(e){return new mf(e.path,new gf)}isEqual(e){return e instanceof lx}}class Wk extends Bg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=iP(this,e,!0),r=this.pa.map(u=>$g(u,t)),s=new Lc(r);return new mf(e.path,s)}isEqual(e){return this===e}}class qk extends Bg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=iP(this,e,!0),r=this.pa.map(u=>$g(u,t)),s=new fd(r);return new mf(e.path,s)}isEqual(e){return this===e}}class Zk extends Bg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new pd(e.serializer,pA(e.serializer,this.Ia));return new mf(e.path,t)}isEqual(e){return this===e}}function dx(n,e,t,r){const s=n.ya(1,e,t);fx("Data must be an object, but it was:",s,r);const u=[],l=ei.empty();Pc(r,(_,C)=>{const T=kb(e,_,t);C=(0,Gt.m9)(C);const x=s.da(T);if(C instanceof nE)u.push(T);else{const $=$g(C,x);null!=$&&(u.push(T),l.set(T,$))}});const g=new ws(u);return new nP(l,g,s.fieldTransforms)}function hx(n,e,t,r,s,u){const l=n.ya(1,e,t),g=[rE(e,r,t)],_=[s];if(u.length%2!=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<u.length;$+=2)g.push(rE(e,u[$])),_.push(u[$+1]);const C=[],T=ei.empty();for(let $=g.length-1;$>=0;--$)if(!uP(C,g[$])){const K=g[$];let ue=_[$];ue=(0,Gt.m9)(ue);const ye=l.da(K);if(ue instanceof nE)C.push(K);else{const me=$g(ue,ye);null!=me&&(C.push(K),T.set(K,me))}}const x=new ws(C);return new nP(T,x,l.fieldTransforms)}function sP(n,e,t,r=!1){return $g(t,n.ya(r?4:3,e))}function $g(n,e){if(aP(n=(0,Gt.m9)(n)))return fx("Unsupported field value:",e,n),oP(n,e);if(n instanceof Bg)return function(t,r){if(!rP(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let g=$g(l,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pA(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=ur.fromDate(t);return{timestampValue:gd(r.serializer,s)}}if(t instanceof ur){const s=new ur(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gd(r.serializer,s)}}if(t instanceof Nb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wc)return{bytesValue:Dw(r.serializer,t._byteString)};if(t instanceof mr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:v_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${xb(t)}`)}(n,e)}function oP(n,e){const t={};return pC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pc(n,(r,s)=>{const u=$g(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function aP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ur||n instanceof Nb||n instanceof Wc||n instanceof mr||n instanceof Bg)}function fx(n,e,t){if(!aP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xb(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function rE(n,e,t){if((e=(0,Gt.m9)(e))instanceof Dd)return e._internalPath;if("string"==typeof e)return kb(n,e);throw Fb("Field path arguments must be of type string or ",n,!1,void 0,t)}const Kk=new RegExp("[~\\*/\\[\\]]");function kb(n,e,t){if(e.search(Kk)>=0)throw Fb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dd(...e.split("."))._internalPath}catch{throw Fb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fb(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||l)&&(_+=" (found",u&&(_+=` in field ${r}`),l&&(_+=` in document ${s}`),_+=")"),new Re(ce.INVALID_ARGUMENT,g+n+_)}function uP(n,e){return n.some(t=>t.isEqual(e))}class iE{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yk extends iE{data(){return super.data()}}function Lb(n,e){return"string"==typeof e?kb(n,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}function cP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class px{}class sE extends px{}function Nf(n,e,...t){let r=[];e instanceof px&&r.push(e),r=r.concat(t),function(s){const u=s.filter(g=>g instanceof j_).length,l=s.filter(g=>g instanceof oE).length;if(u>1||u>0&&l>0)throw new Re(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class oE extends sE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new oE(e,t,r)}_apply(e){const t=this._parse(e);return fP(e._query,t),new is(e.firestore,e.converter,PC(e._query,t))}_parse(e){const t=jg(e.firestore);return function(s,u,l,g,_,C,T){let x;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){hP(T,C);const $=[];for(const K of T)$.push(dP(g,s,K));x={arrayValue:{values:$}}}else x=dP(g,s,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||hP(T,C),x=sP(l,"where",T,"in"===C||"not-in"===C);return un.create(_,C,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class j_ extends px{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new j_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Sn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const g of l)fP(u,g),u=PC(u,g)}(e._query,t),new is(e.firestore,e.converter,PC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gx extends sE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gx(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new cd(s,u);return function(g,_){if(null===pw(g)){const C=mi(g);null!==C&&pP(0,C,_.field)}}(r,l),l}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new ba(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ub extends sE{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ub(e,t,r)}_apply(e){return new is(e.firestore,e.converter,gw(e._query,this._limit,this._limitType))}}class Vb extends sE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Vb(e,t,r)}_apply(e){const t=lP(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(s=t,new ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class Bb extends sE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Bb(e,t,r)}_apply(e){const t=lP(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(s=t,new ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function lP(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof iE)return function(s,u,l,g,_){if(!g)throw new Re(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const T of dd(s))if(T.field.isKeyField())C.push(Eu(u,g.key));else{const x=g.data.field(T.field);if(_g(x))throw new Re(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const $=T.field.canonicalString();throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}C.push(x)}return new Iu(C,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=jg(n.firestore);return function(u,l,g,_,C,T){const x=u.explicitOrderBy;if(C.length>x.length)throw new Re(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let K=0;K<C.length;K++){const ue=C[K];if(x[K].field.isKeyField()){if("string"!=typeof ue)throw new Re(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ue}`);if(!Fc(u)&&-1!==ue.indexOf("/"))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ue}' contains a slash.`);const ye=u.path.child(dn.fromString(ue));if(!Qe.isDocumentKey(ye))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const me=new Qe(ye);$.push(Eu(l,me))}else{const ye=sP(g,_,ue);$.push(ye)}}return new Iu($,T)}(n._query,n.firestore._databaseId,s,e,t,r)}}function dP(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fc(e)&&-1!==t.indexOf("/"))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!Qe.isDocumentKey(r))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Eu(n,new Qe(r))}if(t instanceof mr)return Eu(n,t._key);throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xb(t)}.`)}function hP(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fP(n,e){if(e.isInequality()){const r=mi(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=pw(n);null!==u&&pP(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function pP(n,e,t){if(!t.isEqual(e))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class mx{convertValue(e,t="none"){switch(ad(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Pc(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Nb(br(e.latitude),br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const t=Oc(e);return new ur(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);It(ib(r));const s=new vu(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return s.isEqual(t)||Dr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function jb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class sF extends mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}class Hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cd extends iE{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new aE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Lb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class aE extends Cd{data(e={}){return super.data(e)}}class Pf{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Hg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new aE(this._firestore,this._userDataWriter,r.key,r,new Hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new aE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Hg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const g=new aE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Hg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,C=-1;return 0!==l.type&&(_=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:aF(l.type),doc:g,oldIndex:_,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function mP(n,e){return n instanceof Cd&&e instanceof Cd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Pf&&e instanceof Pf&&n._firestore===e._firestore&&ux(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Of extends mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}function yP(n,e,t){n=fn(n,mr);const r=fn(n.firestore,yr),s=jb(n.converter,e,t);return $_(r,[Ob(jg(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,er.none())])}function _P(n,e,t,...r){n=fn(n,mr);const s=fn(n.firestore,yr),u=jg(s);let l;return l="string"==typeof(e=(0,Gt.m9)(e))||e instanceof Dd?hx(u,"updateDoc",n._key,e,t,r):dx(u,"updateDoc",n._key,e),$_(s,[l.toMutation(n._key,er.exists(!0))])}function vP(n,...e){var t,r,s;n=(0,Gt.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||cx(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(cx(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[l+2]=null===(s=x.complete)||void 0===s?void 0:s.bind(x)}let _,C,T;if(n instanceof mr)C=fn(n.firestore,yr),T=df(n._key.path),_={next:x=>{e[l]&&e[l](yx(C,n,x))},error:e[l+1],complete:e[l+2]};else{const x=fn(n,is);C=fn(x.firestore,yr),T=x._query;const $=new Of(C);_={next:K=>{e[l]&&e[l](new Pf(C,$,x,K))},error:e[l+1],complete:e[l+2]},cP(n._query)}return function(x,$,K,ue){const ye=new Tb(ue),me=new TM($,ye,K);return x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return EM(yield B_(x),me)})),()=>{ye.Dc(),x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return DM(yield B_(x),me)}))}}(ti(C),T,g,_)}function $_(n,e){return function(t,r){const s=new gi;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function ek(n,e,t){return RM.apply(this,arguments)}(yield sx(t),r,s)})),s.promise}(ti(n),e)}function yx(n,e,t){const r=t.docs.get(e._key),s=new Of(n);return new Cd(n,s,e._key,r,new Hg(t.hasPendingWrites,t.fromCache),e.converter)}const bF={maxAttempts:5};class wP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jg(e)}set(e,t,r){this._verifyNotCommitted();const s=kf(e,this._firestore),u=jb(s.converter,t,r),l=Ob(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(l.toMutation(s._key,er.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=kf(e,this._firestore);let l;return l="string"==typeof(t=(0,Gt.m9)(t))||t instanceof Dd?hx(this._dataReader,"WriteBatch.update",u._key,t,r,s):dx(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kf(e,this._firestore);return this._mutations=this._mutations.concat(new Ag(t._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kf(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new Re(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class TF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jg(e)}get(e){const t=kf(e,this._firestore),r=new sF(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return ut();const u=s[0];if(u.isFoundDocument())return new iE(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new iE(this._firestore,r,t._key,null,t.converter);throw ut()})}set(e,t,r){const s=kf(e,this._firestore),u=jb(s.converter,t,r),l=Ob(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const u=kf(e,this._firestore);let l;return l="string"==typeof(t=(0,Gt.m9)(t))||t instanceof Dd?hx(this._dataReader,"Transaction.update",u._key,t,r,s):dx(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=kf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kf(e,this._firestore),r=new Of(this._firestore);return super.get(e).then(s=>new Cd(this._firestore,r,t._key,s._document,new Hg(!1,!1),t.converter))}}function _x(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function IP(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function DP(){if(!function aA(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Da=Ls.SDK_VERSION,(0,Ls._registerComponent)(new Nh.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),l=new yr(new YS(t.getProvider("auth-internal")),new JS(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Re(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,_)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(q0,"3.13.0",n),(0,Ls.registerVersion)(q0,"3.13.0","esm2017")}();class uE{constructor(e){this._delegate=e}static fromBase64String(e){return DP(),new uE(Wc.fromBase64String(e))}static fromUint8Array(e){return IP(),new uE(Wc.fromUint8Array(e))}toBase64(){return DP(),this._delegate.toBase64()}toUint8Array(){return IP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vx(n){return function kF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class FF{enableIndexedDbPersistence(e,t){return function Ok(n,e){tP(n=fn(n,yr));const t=ti(n);if(t._uninitializedComponentsProvider)throw new Re(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Bs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new V_;return eP(t,s,new JM(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function kk(n){tP(n=fn(n,yr));const e=ti(n);if(e._uninitializedComponentsProvider)throw new Re(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Bs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new V_;return eP(e,r,new kN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Fk(n){if(n._initialized&&!n._terminated)throw new Re(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!Wo.D())return Promise.resolve();const s=r+"main";yield Wo.delete(s)}),function(r){return t.apply(this,arguments)})(o(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class CP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof vu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Bs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){YN(this._delegate,e,t,r)}enableNetwork(){return function Uk(n){return function Ek(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield UN(n),t=yield VN(n);return e.setNetworkEnabled(!0),function(r){const s=nt(r);return s.vu.delete(0),Qw(s)}(t)}))}(ti(n=fn(n,yr)))}(this._delegate)}disableNetwork(){return function Vk(n){return function Ik(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield UN(n),t=yield VN(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(s){const u=nt(s);u.vu.add(0),yield N_(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(ti(n=fn(n,yr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,GN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Lk(n){return function(e){const t=new gi;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function ik(n,e){return FM.apply(this,arguments)}(yield sx(e),t)})),t.promise}(ti(n=fn(n,yr)))}(this._delegate)}onSnapshotsInSync(e){return function mF(n,e){return function bk(n,e){const t=new Tb(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield B_(n),s=t,nt(r).ku.add(s),void s.next();var r,s})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield B_(n),s=t,void nt(r).ku.delete(s);var r,s}))}}(ti(n=fn(n,yr)),cx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new H_(this,QN(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ma(this,Rb(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ws(this,function Mk(n,e){if(n=fn(n,eE),ax("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(n,null,(t=e,new ba(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function SF(n,e,t){n=fn(n,yr);const r=Object.assign(Object.assign({},bF),t);return function(s){if(s.maxAttempts<1)throw new Re(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,l){const g=new gi;return s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const _=yield function BN(n){return Ab(n).then(e=>e.datastore)}(s);new vk(s.asyncQueue,_,l,u,g).run()})),g.promise}(ti(n),s=>e(new TF(n,s)),r)}(this._delegate,t=>e(new bP(this,t)))}batch(){return ti(this._delegate),new TP(new wP(this._delegate,e=>$_(this._delegate,e)))}loadBundle(e){return function Bk(n,e){const t=ti(n=fn(n,yr)),r=new Rk;return function Tk(n,e,t,r){const s=function(u,l){let g;return g="string"==typeof u?ZC().encode(u):u,_=function(_,C){if(_ instanceof Uint8Array)return FN(_,C);if(_ instanceof ArrayBuffer)return FN(new Uint8Array(_),C);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new yk(_,l);var _}(t,Yw(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function gk(n,e,t){const r=nt(n);var s;(s=(0,Ee.Z)(function*(u,l,g){try{const _=yield l.getMetadata();if(yield function($,K){const ue=nt($),ye=Tr(K.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",me=>ue.qs.getBundleMetadata(me,K.id)).then(me=>!!me&&me.createTime.compareTo(ye)>=0)}(u.localStore,_))return yield l.close(),g._completeWith({taskState:"Success",documentsLoaded:($=_).totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}),Promise.resolve(new Set);g._updateProgress(TN(_));const C=new Z1(_,u.localStore,l.serializer);let T=yield l.bc();for(;T;){const $=yield C.zu(T);$&&g._updateProgress($),T=yield l.bc()}const x=yield C.complete();return yield Id(u,x.Ju,void 0),yield function($,K){const ue=nt($);return ue.persistence.runTransaction("Save bundle","readwrite",ye=>ue.qs.saveBundleMetadata(ye,K))}(u.localStore,_),g._completeWith(x.progress),Promise.resolve(x.Hu)}catch(_){return Bs("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var $}),function(u,l,g){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield sx(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function jk(n,e){return function Sk(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const s=nt(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield Mb(n),e)}))}(ti(n=fn(n,yr)),e).then(t=>t?new is(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ws(this,t):null)}}class $b extends mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new uE(new Wc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ma.forKey(t,this.firestore,null)}}class bP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}get(e){const t=Gg(e);return this._delegate.get(t).then(r=>new cE(this._firestore,new Cd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Gg(e);return r?(_x("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Gg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Gg(e);return this._delegate.delete(t),this}}class TP{constructor(e){this._delegate=e}set(e,t,r){const s=Gg(e);return r?(_x("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Gg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Gg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new aE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new zg(e,new $b(e),t),s.set(t,u)),u}}zg.INSTANCES=new WeakMap;class Ma{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ma(t,new mr(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new Ma(t,new mr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new H_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new H_(this.firestore,QN(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof mr&&JN(this._delegate,e)}set(e,t){t=_x("DocumentReference.set",t);try{return t?yP(this._delegate,e,t):yP(this._delegate,e)}catch(r){throw Gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?_P(this._delegate,e):_P(this._delegate,e,t,...r)}catch(s){throw Gs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function pF(n){return $_(fn(n.firestore,yr),[new Ag(n._key,er.none())])}(this._delegate)}onSnapshot(...e){const t=SP(e),r=AP(e,s=>new cE(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return vP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function cF(n){n=fn(n,mr);const e=fn(n.firestore,yr),t=ti(e),r=new Of(e);return function Dk(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(s,u,l){try{const g=yield function(_,C){const T=nt(_);return T.persistence.runTransaction("read document","readonly",x=>T.localDocuments.getDocument(x,C))}(s,u);g.isFoundDocument()?l.resolve(g):g.isNoDocument()?l.resolve(null):l.reject(new Re(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=k_(g,`Failed to get document '${u} from cache`);l.reject(_)}}),function(s,u,l){return r.apply(this,arguments)})(yield Mb(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Cd(e,r,n._key,s,new Hg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function lF(n){n=fn(n,mr);const e=fn(n.firestore,yr);return jN(ti(e),n._key,{source:"server"}).then(t=>yx(e,n,t))}(this._delegate):function uF(n){n=fn(n,mr);const e=fn(n.firestore,yr);return jN(ti(e),n._key).then(t=>yx(e,n,t))}(this._delegate),t.then(r=>new cE(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ma(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function Gs(n,e,t){return n.message=n.message.replace(e,t),n}function SP(n){for(const e of n)if("object"==typeof e&&!vx(e))return e;return{}}function AP(n,e){var t,r;let s;return s=vx(n[0])?n[0]:vx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class cE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mP(this._delegate,e._delegate)}}class lE extends cE{data(e){const t=this._delegate.data(e);return function ZS(n,e){n||ut()}(void 0!==t),t}}class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}where(e,t,r){try{return new Ws(this.firestore,Nf(this._delegate,function Qk(n,e,t){const r=e,s=Lb("where",n);return oE._create(s,r,t)}(e,t,r)))}catch(s){throw Gs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ws(this.firestore,Nf(this._delegate,function Jk(n,e="asc"){const t=e,r=Lb("orderBy",n);return gx._create(r,t)}(e,t)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ws(this.firestore,Nf(this._delegate,function Xk(n){return ZN("limit",n),Ub._create("limit",n,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ws(this.firestore,Nf(this._delegate,function eF(n){return ZN("limitToLast",n),Ub._create("limitToLast",n,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ws(this.firestore,Nf(this._delegate,function tF(...n){return Vb._create("startAt",n,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ws(this.firestore,Nf(this._delegate,function nF(...n){return Vb._create("startAfter",n,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ws(this.firestore,Nf(this._delegate,function rF(...n){return Bb._create("endBefore",n,!1)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ws(this.firestore,Nf(this._delegate,function iF(...n){return Bb._create("endAt",n,!0)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return ux(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function hF(n){n=fn(n,is);const e=fn(n.firestore,yr),t=ti(e),r=new Of(e);return function Ck(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(s,u,l){try{const g=yield Je(s,u,!0),_=new MN(u,g.ir),C=_.sc(g.documents),T=_.applyChanges(C,!1);l.resolve(T.snapshot)}catch(g){const _=k_(g,`Failed to execute query '${u} against cache`);l.reject(_)}}),function(s,u,l){return r.apply(this,arguments)})(yield Mb(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Pf(e,r,n,s))}(this._delegate):"server"===e?.source?function fF(n){n=fn(n,is);const e=fn(n.firestore,yr),t=ti(e),r=new Of(e);return $N(t,n._query,{source:"server"}).then(s=>new Pf(e,r,n,s))}(this._delegate):function dF(n){n=fn(n,is);const e=fn(n.firestore,yr),t=ti(e),r=new Of(e);return cP(n._query),$N(t,n._query).then(s=>new Pf(e,r,n,s))}(this._delegate),t.then(r=>new wx(this.firestore,new Pf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=SP(e),r=AP(e,s=>new wx(this.firestore,new Pf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return vP(this._delegate,t,r)}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}class UF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new UF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lE(this._firestore,r))})}isEqual(e){return mP(this._delegate,e._delegate)}}class H_ extends Ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ma(this.firestore,e):null}doc(e){try{return new Ma(this.firestore,void 0===e?Rb(this._delegate):Rb(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function gF(n,e){const t=fn(n.firestore,yr),r=Rb(n),s=jb(n.converter,e);return $_(t,[Ob(jg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ma(this.firestore,t))}isEqual(e){return JN(this._delegate,e._delegate)}withConverter(e){return new H_(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function Gg(n){return fn(n,mr)}class Ex{constructor(...e){this._delegate=new Dd(...e)}static documentId(){return new Ex(Cr.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Dd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function MF(){return new lx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wg(e)}static delete(){const e=function AF(){return new nE("deleteField")}();return e._methodName="FieldValue.delete",new Wg(e)}static arrayUnion(...e){const t=function xF(...n){return new Wk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wg(t)}static arrayRemove(...e){const t=function RF(...n){return new qk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wg(t)}static increment(e){const t=function NF(n){return new Zk("increment",n)}(e);return t._methodName="FieldValue.increment",new Wg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const VF={Firestore:CP,GeoPoint:Nb,Timestamp:ur,Blob:uE,Transaction:bP,WriteBatch:TP,DocumentReference:Ma,DocumentSnapshot:cE,Query:Ws,QueryDocumentSnapshot:lE,QuerySnapshot:wx,CollectionReference:H_,FieldPath:Ex,FieldValue:Wg,setLogLevel:function LF(n){!function qS(n){_o.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function jF(n){(function BF(n,e){n.INTERNAL.registerComponent(new Nh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},VF)))})(n,(e,t)=>new CP(e,t,new FF)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Hp.Z);var $F=L(3019),Hb=L(3093),HF=L(4552);class zF extends Vo.x{constructor(e=1/0,t=1/0,r=HF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=l;_+=2)g=_;g&&r.splice(0,g+1)}}}var GF=L(3020);function MP(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,GF.B)({connector:()=>new zF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function xP(n,e){return(0,ch.m)(e)?(0,pr.w)(()=>n,e):(0,pr.w)(()=>n)}var Ix=L(5137),Ff=L(3182);class z_{constructor(e){return e}}class Dx{constructor(){return(0,Ff.C6)()}}const Cx=new h.OlP("angularfire2._apps"),qF={provide:z_,useFactory:function WF(n){return n&&1===n.length?n[0]:new z_((0,Ff.Mq)())},deps:[[new h.FiY,Cx]]},ZF={provide:Dx,deps:[[new h.FiY,Cx]]};function KF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new z_(r)}}let YF=(()=>{class n{constructor(t){(0,Ff.KN)("angularfire",cn.q4.full,"core"),(0,Ff.KN)("angularfire",cn.q4.full,"app"),(0,Ff.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[qF,ZF]}),n})();function QF(n,...e){return{ngModule:YF,providers:[{provide:Cx,useFactory:KF(n),multi:!0,deps:[h.R0b,h.zs3,cn.HU,...e]}]}}const JF=(0,cn.u3)(Ff.ZF,!0),bx=new Map,RP={activated:!1,tokenObservers:[]},XF={initialized:!1,enabled:!1};function zr(n){return bx.get(n)||Object.assign({},RP)}function zb(){return XF}const Tx="https://content-firebaseappcheck.googleapis.com/v1",rL="exchangeDebugToken",NP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class sL{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function oL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ss=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Sx(n){if(!zr(n).activated)throw ss.create("use-before-activation",{appName:n.name})}function qb(n,e){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const x=yield s.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,u)}catch(x){throw ss.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==l.status)throw ss.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(x){throw ss.create("fetch-parse-error",{originalErrorMessage:x?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(_[1]),T=Date.now();return{token:g.token,expireTimeMillis:T+C,issuedAtTimeMillis:T}}),Mx.apply(this,arguments)}function PP(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${Tx}/projects/${t}/apps/${r}:${rL}?key=${s}`,body:{debug_token:e}}}const lL="firebase-app-check-database",dL=1,dE="firebase-app-check-store";let Zb=null;function xx(){return xx=(0,Ee.Z)(function*(n,e){const r=(yield function kP(){return Zb||(Zb=new Promise((n,e)=>{try{const t=indexedDB.open(lL,dL);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(ss.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dE,{keyPath:"compositeKey"})}}catch(t){e(ss.create("storage-open",{originalErrorMessage:t?.message}))}}),Zb)}()).transaction(dE,"readwrite"),u=r.objectStore(dE).put({compositeKey:n,value:e});return new Promise((l,g)=>{u.onsuccess=_=>{l()},r.onerror=_=>{var C;g(ss.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})}),xx.apply(this,arguments)}const hE=new Dc.Yd("@firebase/app-check");function Px(n,e){return(0,Gt.hl)()?function fL(n,e){return function FP(n,e){return xx.apply(this,arguments)}(function UP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kx(){return zb().enabled}function Fx(){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Ee.Z)(function*(){const n=zb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Lx.apply(this,arguments)}const vL={error:"UNKNOWN_ERROR"};function wL(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function Kb(n){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Ee.Z)(function*(n,e=!1){const t=n.app;Sx(t);const r=zr(t);let u,s=r.token;if(s&&!G_(s)&&(r.token=void 0,s=void 0),!s){const _=yield r.cachedTokenPromise;_&&(G_(_)?s=_:yield Px(t,void 0))}if(!e&&s&&G_(s))return{token:s.token};let g,l=!1;if(kx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qb(PP(t,yield Fx()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const _=yield r.exchangeTokenPromise;return yield Px(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield zr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?hE.warn(_.message):hE.error(_),u=_}return s?u?g=G_(s)?{token:s.token,internalError:u}:$P(u):(g={token:s.token},r.token=s,yield Px(t,s)):g=$P(u),l&&function jP(n,e){const t=zr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g}),Ux.apply(this,arguments)}function Vx(){return Vx=(0,Ee.Z)(function*(n){const e=n.app;Sx(e);const{provider:t}=zr(e);if(kx()){const r=yield Fx(),{token:s}=yield qb(PP(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}}),Vx.apply(this,arguments)}function jx(n,e){const t=zr(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function BP(n){const{app:e}=n,t=zr(e);let r=t.tokenRefresher;r||(r=function EL(n){const{app:e}=n;return new sL((0,Ee.Z)(function*(){let r;if(r=zr(e).token?yield Kb(n,!0):yield Kb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=zr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},NP.RETRIAL_MIN_WAIT,NP.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function G_(n){return n.expireTimeMillis-Date.now()>0}function $P(n){return{token:wL(vL),error:n}}class IL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=zr(this.app);for(const t of e)jx(this.app,t.next);return Promise.resolve()}}const YP="app-check-internal";!function FL(){(0,Ls._registerComponent)(new Nh.wA("app-check",n=>function DL(n,e){return new IL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(YP).initialize()})),(0,Ls._registerComponent)(new Nh.wA(YP,n=>function CL(n){return{getToken:e=>Kb(n,e),getLimitedUseToken:()=>function VP(n){return Vx.apply(this,arguments)}(n),addTokenListener:e=>function Bx(n,e,t,r){const{app:s}=n,u=zr(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&G_(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),BP(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>BP(n))}(n,"INTERNAL",e),removeTokenListener:e=>jx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ls.registerVersion)("@firebase/app-check","0.8.0")}();class W_{constructor(){return(0,cn.vb)("app-check")}}typeof window<"u"&&window,L(7142);const JP=new h.OlP("angularfire2.auth.use-emulator"),XP=new h.OlP("angularfire2.auth.settings"),eO=new h.OlP("angularfire2.auth.tenant-id"),tO=new h.OlP("angularfire2.auth.langugage-code"),nO=new h.OlP("angularfire2.auth.use-device-language"),rO=new h.OlP("angularfire.auth.persistence"),iO=(n,e,t,r,s,u,l,g)=>(0,$r.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=s,u&&_.useDeviceLanguage(),l)for(const[C,T]of Object.entries(l))_.settings[C]=T;return g&&_.setPersistence(g),_},[t,r,s,u,l,g]);let sO=(()=>{class n{constructor(t,r,s,u,l,g,_,C,T,x,$,K){const ue=new Vo.x,ye=(0,bt.of)(void 0).pipe((0,Hb.Q)(l.outsideAngular),(0,pr.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,6365)))),(0,Vt.U)(()=>(0,$r.on)(t,u,r)),(0,Vt.U)(me=>iO(me,u,g,C,T,x,_,$)),MP({bufferSize:1,refCount:!1}));if(Zi(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,bt.of)(null);else{ye.pipe(pc()).subscribe();const rt=ye.pipe((0,pr.w)(at=>at.getRedirectResult().then(Nt=>Nt,()=>null)),cn.iC,MP({bufferSize:1,refCount:!1})),mt=ye.pipe((0,pr.w)(at=>new oi.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>at.onAuthStateChanged(Zt=>Nt.next(Zt),Zt=>Nt.error(Zt),()=>Nt.complete()))})))),Ge=ye.pipe((0,pr.w)(at=>new oi.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>at.onIdTokenChanged(Zt=>Nt.next(Zt),Zt=>Nt.error(Zt),()=>Nt.complete()))}))));this.authState=rt.pipe(xP(mt),(0,Ix.R)(l.outsideAngular),(0,Hb.Q)(l.insideAngular)),this.user=rt.pipe(xP(Ge),(0,Ix.R)(l.outsideAngular),(0,Hb.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,pr.w)(at=>at?(0,ln.D)(at.getIdToken()):(0,bt.of)(null))),this.idTokenResult=this.user.pipe((0,pr.w)(at=>at?(0,ln.D)(at.getIdTokenResult()):(0,bt.of)(null))),this.credential=(0,$F.T)(rt,ue,this.authState.pipe(ks(at=>!at))).pipe((0,Vt.U)(at=>at?.user?at:null),(0,Ix.R)(l.outsideAngular),(0,Hb.Q)(l.insideAngular))}return(0,$r.pX)(this,ye,u,{spy:{apply:(me,rt,mt)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&mt.then(Ge=>ue.next(Ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($r.Dh),h.LFG($r.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(cn.HU),h.LFG(JP,8),h.LFG(XP,8),h.LFG(eO,8),h.LFG(tO,8),h.LFG(nO,8),h.LFG(rO,8),h.LFG(W_,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function oO(n,e){return function $L(n,e=JI.z){return new oi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Wx(n,e){return oO(n,e).pipe((0,Vt.U)(t=>({payload:t,type:"query"})))}function Qb(n,e){return Wx(n,e).pipe(Cp(void 0),Qm(),(0,Vt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,g)=>{const _=s.find(T=>T.doc.ref.isEqual(l.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(l.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(l.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:l}})}),u}))}function aO(n,e,t){return Qb(n,t).pipe(Sm((r,s)=>function zL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function GL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),(0,n0.x)(),(0,Vt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function qx(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function uO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Qb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Vt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Cp(void 0),Qm(),ks(([r,s])=>s.length>0||!r),(0,Vt.U)(([r,s])=>s),cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sm((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uO(e);return aO(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return Wx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),cn.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(cn.iC)}add(e){return this.ref.add(e)}doc(e){return new lO(this.ref.doc(e),this.afs)}}class lO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=dO(r,t);return new cO(s,u,this.afs)}snapshotChanges(){return function HL(n,e){return oO(n,e).pipe(Cp(void 0),Qm(),(0,Vt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ln.D)(this.ref.get(e)).pipe(cn.iC)}}class WL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Qb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ks(t=>t.length>0),cn.iC):Qb(this.query,this.afs.schedulers.outsideAngular).pipe(cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sm((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uO(e);return aO(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return Wx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),cn.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(cn.iC)}}const qL=new h.OlP("angularfire2.enableFirestorePersistence"),ZL=new h.OlP("angularfire2.firestore.persistenceSettings"),KL=new h.OlP("angularfire2.firestore.settings"),YL=new h.OlP("angularfire2.firestore.use-emulator");function dO(n,e=(t=>t)){return{query:e(n),ref:n}}let Jb=(()=>{class n{constructor(t,r,s,u,l,g,_,C,T,x,$,K,ue,ye,me,rt,mt){this.schedulers=_;const Ge=(0,$r.on)(t,g,r),at=T;x&&iO(Ge,g,$,ue,ye,me,K,rt),[this.firestore,this.persistenceEnabled$]=(0,$r.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const Nt=g.runOutsideAngular(()=>Ge.firestore());if(u&&Nt.settings(u),at&&Nt.useEmulator(...at),s&&!Zi(l)){const Zt=()=>{try{return(0,ln.D)(Nt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(vi){return typeof console<"u"&&console.warn(vi),(0,bt.of)(!1)}};return[Nt,g.runOutsideAngular(Zt)]}return[Nt,(0,bt.of)(!1)]},[u,at,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=dO(s,r),g=this.schedulers.ngZone.run(()=>u);return new cO(g,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new WL(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new lO(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($r.Dh),h.LFG($r.xv,8),h.LFG(qL,8),h.LFG(KL,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(cn.HU),h.LFG(ZL,8),h.LFG(YL,8),h.LFG(sO,8),h.LFG(JP,8),h.LFG(XP,8),h.LFG(eO,8),h.LFG(tO,8),h.LFG(nO,8),h.LFG(rO,8),h.LFG(W_,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zx=(()=>{class n{constructor(t){this.firestore=t}getPosts(){return this.firestore.collection("posts").valueChanges()}getUserPosts(t){return this.firestore.collection("posts",r=>r.where("email","==",t)).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Jb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-loader"]],decls:13,vars:0,consts:[[1,"lds-spinner"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"div")(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div"),h.qZA())},styles:['.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']}),n})();function QL(n,e){1&n&&(h.TgZ(0,"div",2),h._UZ(1,"app-loader"),h.qZA())}function JL(n,e){if(1&n&&(h.TgZ(0,"div",5)(1,"div",6)(2,"div",7),h._UZ(3,"img",8),h.TgZ(4,"span")(5,"a",9),h._uU(6),h.ALo(7,"uppercase"),h.qZA()()(),h._UZ(8,"img",10),h.TgZ(9,"div",11)(10,"p",12),h._uU(11),h._UZ(12,"br"),h.TgZ(13,"li",13),h._uU(14),h.ALo(15,"date"),h.qZA()()()()()),2&n){const t=e.$implicit;h.xp6(5),h.MGl("href","/user/",t.email,"",h.LSH),h.xp6(1),h.hij(" ",h.lcZ(7,6,t.name),""),h.xp6(2),h.Q6J("src",t.path,h.LSH),h.xp6(3),h.hij(" ",t.caption," "),h.xp6(3),h.AsE("",h.xi3(15,8,t.date,"medium")," | ",t.email,"")}}function XL(n,e){if(1&n&&(h.TgZ(0,"div",3),h.YNc(1,JL,16,11,"div",4),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.posts_)}}let e2=(()=>{class n{constructor(t){this.posts=t,this.onLoad=!0,this.posts_=[]}ngOnInit(){this.posts$=this.posts.getPosts(),this.posts$.subscribe(t=>{this.posts_=t,this.onLoad=!1},t=>{console.error(t)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zx))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:2,consts:[["class","text-center load justify-content-center",4,"ngIf"],["class","col-md-5",4,"ngIf"],[1,"text-center","load","justify-content-center"],[1,"col-md-5"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"cards"],[1,"userDets"],["src","../../assets/Screenshot 2023-06-17 183301.jpg","alt","PFP"],[3,"href"],["width","90%","height","60%","alt","User Post",1,"card-img-top",2,"object-fit","contain",3,"src"],[1,"card-body"],[1,"card-text"],[1,"timeStamp"]],template:function(t,r){1&t&&(h.YNc(0,QL,2,0,"div",0),h.YNc(1,XL,2,1,"div",1)),2&t&&(h.Q6J("ngIf",r.onLoad),h.xp6(1),h.Q6J("ngIf",!r.onLoad))},dependencies:[Ra,Ss,Kx,xu,An],styles:[".container[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;padding:5px;color:#000}.cards[_ngcontent-%COMP%]{margin:2px;background-color:#f0f8ff;width:100%;height:100%}.card-body[_ngcontent-%COMP%]{border:1px solid black;padding:20px;border-radius:0 0 10px 10px}.cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2), .cards[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border:1px solid #000000}.cards[_ngcontent-%COMP%]   .userDets[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:1px solid black;display:flex;width:40px;height:40px}*[_ngcontent-%COMP%]{color:#000}.userDets[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;display:flex;padding:.5vh;border:1px solid black;border-bottom:none;font-weight:900}.userDets[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto 0;padding-left:.2vw}.timeStamp[_ngcontent-%COMP%]{font-size:xx-small;display:inline;margin:auto 0;list-style:none;font-weight:900}.load[_ngcontent-%COMP%]{justify-content:center;height:70vh}"]}),n})();const hO="firebasestorage.googleapis.com",fO="storageBucket";class Lr extends Gt.ZR{constructor(e,t,r=0){super(Yx(e),`Firebase Storage: ${t} (${Yx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ft=(()=>((Ft=Ft||{}).UNKNOWN="unknown",Ft.OBJECT_NOT_FOUND="object-not-found",Ft.BUCKET_NOT_FOUND="bucket-not-found",Ft.PROJECT_NOT_FOUND="project-not-found",Ft.QUOTA_EXCEEDED="quota-exceeded",Ft.UNAUTHENTICATED="unauthenticated",Ft.UNAUTHORIZED="unauthorized",Ft.UNAUTHORIZED_APP="unauthorized-app",Ft.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ft.INVALID_CHECKSUM="invalid-checksum",Ft.CANCELED="canceled",Ft.INVALID_EVENT_NAME="invalid-event-name",Ft.INVALID_URL="invalid-url",Ft.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ft.NO_DEFAULT_BUCKET="no-default-bucket",Ft.CANNOT_SLICE_BLOB="cannot-slice-blob",Ft.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ft.NO_DOWNLOAD_URL="no-download-url",Ft.INVALID_ARGUMENT="invalid-argument",Ft.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ft.APP_DELETED="app-deleted",Ft.INVALID_ROOT_OPERATION="invalid-root-operation",Ft.INVALID_FORMAT="invalid-format",Ft.INTERNAL_ERROR="internal-error",Ft.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ft))();function Yx(n){return"storage/"+n}function Qx(){return new Lr(Ft.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pO(){return new Lr(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gO(){return new Lr(Ft.CANCELED,"User canceled the upload/download.")}function mO(){return new Lr(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function q_(n){return new Lr(Ft.INVALID_ARGUMENT,n)}function yO(){return new Lr(Ft.APP_DELETED,"The Firebase app was deleted.")}function _O(n){return new Lr(Ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fE(n,e){return new Lr(Ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function pE(n){throw new Lr(Ft.INTERNAL_ERROR,"Internal error: "+n)}class Cs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Cs.makeFromUrl(e,t)}catch{return new Cs(e,"")}if(""===r.path)return r;throw function d2(n){return new Lr(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+s+"(/(.*))?$","i");function C(at){at.path_=decodeURIComponent(at.path)}const x=t.replace(/[.]/g,"\\."),Ge=[{regex:g,indices:{bucket:1,path:3},postModify:function u(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===hO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let at=0;at<Ge.length;at++){const Nt=Ge[at],Zt=Nt.regex.exec(e);if(Zt){let Ko=Zt[Nt.indices.path];Ko||(Ko=""),r=new Cs(Zt[Nt.indices.bucket],Ko),Nt.postModify(r);break}}if(null==r)throw function l2(n){return new Lr(Ft.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class m2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Xb(n){return"string"==typeof n||n instanceof String}function vO(n){return Jx()&&n instanceof Blob}function Jx(){return typeof Blob<"u"&&!(0,Gt.UG)()}function Xx(n,e,t,r){if(r<e)throw q_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw q_(`Invalid value for '${n}'. Expected ${t} or less.`)}function bd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function wO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var wo=(()=>((wo=wo||{})[wo.NO_ERROR=0]="NO_ERROR",wo[wo.NETWORK_ERROR=1]="NETWORK_ERROR",wo[wo.ABORT=2]="ABORT",wo))();function EO(n,e){const t=n>=500&&n<600,s=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||s||u}class I2{constructor(e,t,r,s,u,l,g,_,C,T,x,$=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=g,this.errorCallback_=_,this.timeout_=C,this.progressCallback_=T,this.connectionFactory_=x,this.retry=$,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,ue)=>{this.resolve_=K,this.reject_=ue,this.start_()})}start_(){const t=(r,s)=>{const u=this.resolve_,l=this.reject_,g=s.connection;if(s.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());!function v2(n){return void 0!==n}(_)?u():u(_)}catch(_){l(_)}else if(null!==g){const _=Qx();_.serverResponse=g.getErrorText(),l(this.errorCallback_?this.errorCallback_(g,_):_)}else l(s.canceled?this.appDelete_?yO():gO():pO())};this.canceled_?t(0,new eT(!1,null,!0)):this.backoffId_=function y2(n,e,t){let r=1,s=null,u=null,l=!1,g=0;function _(){return 2===g}let C=!1;function T(...me){C||(C=!0,e.apply(null,me))}function x(me){s=setTimeout(()=>{s=null,n(K,_())},me)}function $(){u&&clearTimeout(u)}function K(me,...rt){if(C)return void $();if(me)return $(),void T.call(null,me,...rt);if(_()||l)return $(),void T.call(null,me,...rt);let Ge;r<64&&(r*=2),1===g?(g=2,Ge=0):Ge=1e3*(r+Math.random()),x(Ge)}let ue=!1;function ye(me){ue||(ue=!0,$(),!C&&(null!==s?(me||(g=2),clearTimeout(s),x(0)):me||(g=1)))}return x(0),u=setTimeout(()=>{l=!0,ye(!0)},t),ye}((r,s)=>{if(s)return void r(!1,new eT(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const g=u.getErrorCode()===wo.NO_ERROR,_=u.getStatus();if(!g||EO(_,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===wo.ABORT;return void r(!1,new eT(!1,null,T))}const C=-1!==this.successCodes_.indexOf(_);r(!0,new eT(C,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function _2(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class eT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function M2(...n){const e=function A2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Jx())return new Blob(n);throw new Lr(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Zo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class eR{constructor(e,t){this.data=e,this.contentType=t||null}}function tR(n,e){switch(n){case Zo.RAW:return new eR(IO(e));case Zo.BASE64:case Zo.BASE64URL:return new eR(DO(n,e));case Zo.DATA_URL:return new eR(function P2(n){const e=new CO(n);return e.base64?DO(Zo.BASE64,e.rest):function N2(n){let e;try{e=decodeURIComponent(n)}catch{throw fE(Zo.DATA_URL,"Malformed data URL.")}return IO(e)}(e.rest)}(e),function O2(n){return new CO(n).contentType}(e))}throw Qx()}function IO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function DO(n,e){switch(n){case Zo.BASE64:{const s=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(s||u)throw fE(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Zo.BASE64URL:{const s=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(s||u)throw fE(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function R2(n){if(typeof atob>"u")throw function g2(n){return new Lr(Ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(s){throw s.message.includes("polyfill")?s:fE(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class CO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw fE(Zo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function k2(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class qc{constructor(e,t){let r=0,s="";vO(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(vO(this.data_)){const s=function x2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new qc(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new qc(r,!0)}}static getBlob(...e){if(Jx()){const t=e.map(r=>r instanceof qc?r.data_:r);return new qc(M2.apply(null,t))}{const t=e.map(l=>Xb(l)?tR(Zo.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let u=0;return t.forEach(l=>{for(let g=0;g<l.length;g++)s[u++]=l[g]}),new qc(s,!0)}}uploadData(){return this.data_}}function nR(n){let e;try{e=JSON.parse(n)}catch{return null}return function E2(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function bO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function U2(n,e){return e}class qs{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||U2}}let tT=null;function gE(){if(tT)return tT;const n=[];n.push(new qs("bucket")),n.push(new qs("generation")),n.push(new qs("metageneration")),n.push(new qs("name","fullPath",!0));const t=new qs("name");t.xform=function e(u,l){return function V2(n){return!Xb(n)||n.length<2?n:bO(n)}(l)},n.push(t);const s=new qs("size");return s.xform=function r(u,l){return void 0!==l?Number(l):l},n.push(s),n.push(new qs("timeCreated")),n.push(new qs("updated")),n.push(new qs("md5Hash",null,!0)),n.push(new qs("cacheControl",null,!0)),n.push(new qs("contentDisposition",null,!0)),n.push(new qs("contentEncoding",null,!0)),n.push(new qs("contentLanguage",null,!0)),n.push(new qs("contentType",null,!0)),n.push(new qs("metadata","customMetadata",!0)),tT=n,tT}function TO(n,e,t){const r=nR(e);return null===r?null:function j2(n,e,t){const r={type:"file"},s=t.length;for(let u=0;u<s;u++){const l=t[u];r[l.local]=l.xform(r,e[l.server])}return function B2(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Cs(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function rR(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const u=e[s];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const SO="prefixes",AO="items";class Zc{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Kc(n){if(!n)throw Qx()}function nT(n,e){return function t(r,s){const u=TO(n,s,e);return Kc(null!==u),u}}function Z_(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function u2(){return new Lr(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function a2(){return new Lr(Ft.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function o2(n){return new Lr(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function c2(n){return new Lr(Ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}}function mE(n){const e=Z_(n);return function t(r,s){let u=e(r,s);return 404===r.getStatus()&&(u=function s2(n){return new Lr(Ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=s.serverResponse,u}}function MO(n,e,t){const s=bd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,g=new Zc(s,"GET",nT(n,t),l);return g.errorHandler=mE(e),g}function q2(n,e,t,r,s){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),s&&(u.maxResults=s);const g=bd(e.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,T=new Zc(g,"GET",function G2(n,e){return function t(r,s){const u=function z2(n,e,t){const r=nR(t);return null===r?null:function H2(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[SO])for(const s of t[SO]){const u=s.replace(/\/$/,""),l=n._makeStorageReference(new Cs(e,u));r.prefixes.push(l)}if(t[AO])for(const s of t[AO]){const u=n._makeStorageReference(new Cs(e,s.name));r.items.push(u)}return r}(n,e,r)}(n,e,s);return Kc(null!==u),u}}(n,e.bucket),C);return T.urlParams=u,T.errorHandler=Z_(e),T}function RO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Q2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class rT{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function iR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Kc(!1)}return Kc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const tU={STATE_CHANGED:"state_changed"},Zs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sR(n){switch(n){case"running":case"pausing":case"canceling":return Zs.RUNNING;case"paused":return Zs.PAUSED;case"success":return Zs.SUCCESS;case"canceled":return Zs.CANCELED;default:return Zs.ERROR}}class nU{constructor(e,t,r){if(function w2(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function K_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let OO=null;class rU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw pE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class iU extends rU{initXhr(){this.xhr_.responseType="text"}}function Tu(){return OO?OO():new iU}class kO{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=gE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ft.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(EO(s.status,[])){if(!u)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();s=pO()}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ft.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,u)=>{this._resolve=s,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function J2(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),l=RO(e,r,s),g={name:l.fullPath},_=bd(u,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},x=rR(l,t),ue=new Zc(_,"POST",function K(ye){let me;iR(ye);try{me=ye.getResponseHeader("X-Goog-Upload-URL")}catch{Kc(!1)}return Kc(Xb(me)),me},n.maxUploadRetryTime);return ue.urlParams=g,ue.headers=T,ue.body=x,ue.errorHandler=Z_(e),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Tu,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=function X2(n,e,t,r){const _=new Zc(t,"POST",function u(C){const T=iR(C,["active","final"]);let x=null;try{x=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Kc(!1)}x||Kc(!1);const $=Number(x);return Kc(!isNaN($)),new rT($,r.size(),"final"===T)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Z_(e),_}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(s,Tu,t,r);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new rT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,u)=>{let l;try{l=function eU(n,e,t,r,s,u,l,g){const _=new rT(0,0);if(l?(_.current=l.current,_.total=l.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function f2(){return new Lr(Ft.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const C=_.total-_.current;let T=C;s>0&&(T=Math.min(T,s));const x=_.current;let K="";K=0===T?"finalize":C===T?"upload, finalize":"upload";const ue={"X-Goog-Upload-Command":K,"X-Goog-Upload-Offset":`${_.current}`},ye=r.slice(x,x+T);if(null===ye)throw mO();const Ge=new Zc(t,"POST",function me(at,Nt){const Zt=iR(at,["active","final"]),vi=_.current+T,Ko=r.size();let Q_;return Q_="final"===Zt?nT(e,u)(at,Nt):null,new rT(vi,Ko,"final"===Zt,Q_)},e.maxUploadRetryTime);return Ge.headers=ue,Ge.body=ye.uploadData(),Ge.progressCallback=g||null,Ge.errorHandler=Z_(n),Ge}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const g=this._ref.storage._makeRequest(l,Tu,s,u,!1);this._request=g,g.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=MO(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Tu,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function NO(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},_=function g(){let Ge="";for(let at=0;at<2;at++)Ge+=Math.random().toString().slice(2);return Ge}();l["Content-Type"]="multipart/related; boundary="+_;const C=RO(e,r,s),T=rR(C,t),K=qc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===K)throw mO();const ue={name:C.fullPath},ye=bd(u,n.host,n._protocol),rt=n.maxUploadRetryTime,mt=new Zc(ye,"POST",nT(n,t),rt);return mt.urlParams=ue,mt.headers=l,mt.body=K.uploadData(),mt.errorHandler=Z_(e),mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Tu,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=gO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=sR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const u=new nU(t||void 0,r||void 0,s||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(sR(this._state)){case Zs.SUCCESS:K_(this._resolve.bind(null,this.snapshot))();break;case Zs.CANCELED:case Zs.ERROR:K_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sR(this._state)){case Zs.RUNNING:case Zs.PAUSED:e.next&&K_(e.next.bind(e,this.snapshot))();break;case Zs.SUCCESS:e.complete&&K_(e.complete.bind(e))();break;default:e.error&&K_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class qg{constructor(e,t){this._service=e,this._location=t instanceof Cs?t:Cs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qg(e,t)}get root(){const e=new Cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bO(this._location.path)}get storage(){return this._service}get parent(){const e=function F2(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Cs(this._location.bucket,e);return new qg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw _O(e)}}function LO(n,e,t){return oR.apply(this,arguments)}function oR(){return oR=(0,Ee.Z)(function*(n,e,t){const s=yield UO(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield LO(n,e,s.nextPageToken))}),oR.apply(this,arguments)}function UO(n,e){null!=e&&"number"==typeof e.maxResults&&Xx("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=q2(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Tu)}function mU(n){n._throwIfRoot("getDownloadURL");const e=function Z2(n,e,t){const s=bd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,g=new Zc(s,"GET",function W2(n,e){return function t(r,s){const u=TO(n,s,e);return Kc(null!==u),function $2(n,e,t,r){const s=nR(e);if(null===s||!Xb(s.downloadTokens))return null;const u=s.downloadTokens;if(0===u.length)return null;const l=encodeURIComponent;return u.split(",").map(C=>{const x=n.fullPath;return bd("/b/"+l(n.bucket)+"/o/"+l(x),t,r)+wO({alt:"media",token:C})})[0]}(u,s,n.host,n._protocol)}}(n,t),l);return g.errorHandler=mE(e),g}(n.storage,n._location,gE());return n.storage.makeRequestWithTokens(e,Tu).then(t=>{if(null===t)throw function p2(){return new Lr(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function VO(n,e){const t=function L2(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Cs(n._location.bucket,t);return new qg(n.storage,r)}function BO(n,e){if(n instanceof aR){const t=n;if(null==t._bucket)throw function h2(){return new Lr(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fO+"' property when initializing the app?")}();const r=new qg(t,t._bucket);return null!=e?BO(r,e):r}return void 0!==e?VO(n,e):n}function wU(n,e){if(e&&function _U(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof aR)return function vU(n,e){return new qg(n,e)}(n,e);throw q_("To use ref(service, url), the first argument must be a Storage instance.")}return BO(n,e)}function jO(n,e){const t=e?.[fO];return null==t?null:Cs.makeFromBucketSpec(t,n)}class aR{constructor(e,t,r,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=hO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Cs.makeFromBucketSpec(s,this._host):jO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Cs.makeFromBucketSpec(this._url,e):jO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ee.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ee.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qg(this,e)}_makeRequest(e,t,r,s,u=!0){if(this._deleted)return new m2(yO());{const l=function S2(n,e,t,r,s,u,l=!0){const g=wO(n.urlParams),_=n.url+g,C=Object.assign({},n.headers);return function b2(n,e){e&&(n["X-Firebase-GMPID"]=e)}(C,e),function D2(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(C,t),function C2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(C,u),function T2(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(C,r),new I2(_,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l)}(e,this._appId,r,s,t,this._firebaseVersion,u);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,Ee.Z)(function*(){const[s,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,u).getPromise()})()}}const $O="@firebase/storage";function GO(n,e){return wU(n=(0,Gt.m9)(n),e)}function xU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new aR(t,r,s,e,Ls.SDK_VERSION)}!function RU(){(0,Ls._registerComponent)(new Nh.wA("storage",xU,"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)($O,"0.11.2",""),(0,Ls.registerVersion)($O,"0.11.2","esm2017")}();class iT{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class qO{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new iT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new iT(r,this,this._ref))},t)}on(e,t,r,s){let u;return t&&(u="function"==typeof t?l=>t(new iT(l,this,this._ref)):{next:t.next?l=>t.next(new iT(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,s||void 0)}}class ZO{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Td(e,this._service))}get items(){return this._delegate.items.map(e=>new Td(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Td{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function MU(n,e){return VO(n,e)}(this._delegate,e);return new Td(t,this.storage)}get root(){return new Td(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Td(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new qO(function IU(n,e,t){return function dU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new kO(n,new qc(e),t)}(n=(0,Gt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Zo.RAW,r){this._throwIfRoot("putString");const s=tR(t,e),u=Object.assign({},r);return null==u.contentType&&null!=s.contentType&&(u.contentType=s.contentType),new qO(new kO(this._delegate,new qc(s.data,!0),u),this)}listAll(){return function TU(n){return function fU(n){const e={prefixes:[],items:[]};return LO(n,e).then(()=>e)}(n=(0,Gt.m9)(n))}(this._delegate).then(e=>new ZO(e,this.storage))}list(e){return function bU(n,e){return UO(n=(0,Gt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new ZO(t,this.storage))}getMetadata(){return function DU(n){return function pU(n){n._throwIfRoot("getMetadata");const e=MO(n.storage,n._location,gE());return n.storage.makeRequestWithTokens(e,Tu)}(n=(0,Gt.m9)(n))}(this._delegate)}updateMetadata(e){return function CU(n,e){return function gU(n,e){n._throwIfRoot("updateMetadata");const t=function K2(n,e,t,r){const u=bd(e.fullServerUrl(),n.host,n._protocol),g=rR(t,r),C=n.maxOperationRetryTime,T=new Zc(u,"PATCH",nT(n,r),C);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=g,T.errorHandler=mE(e),T}(n.storage,n._location,e,gE());return n.storage.makeRequestWithTokens(t,Tu)}(n=(0,Gt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function SU(n){return mU(n=(0,Gt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function AU(n){return function yU(n){n._throwIfRoot("deleteObject");const e=function Y2(n,e){const r=bd(e.fullServerUrl(),n.host,n._protocol),g=new Zc(r,"DELETE",function l(_,C){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=mE(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Tu)}(n=(0,Gt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw _O(e)}}class KO{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(YO(e))throw q_("ref() expected a child path but got a URL, use refFromURL instead.");return new Td(GO(this._delegate,e),this)}refFromURL(e){if(!YO(e))throw q_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Cs.makeFromUrl(e,this._delegate.host)}catch{throw q_("refFromUrl() expected a valid full URL but got an invalid one.")}return new Td(GO(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function WO(n,e,t,r={}){!function EU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Gt.Sg)(s,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function YO(n){return/^[A-Za-z]+:\/\//.test(n)}function kU(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new KO(t,r)}function QO(n){const e=function LU(n){return new oi.y(e=>{const t=l=>e.next(l);t(n.snapshot);const u=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){u()}}).pipe(function t2(n,e=JI.z){return(0,Os.e)((t,r)=>{let s=null,u=null,l=null;const g=()=>{if(s){s.unsubscribe(),s=null;const C=u;u=null,r.next(C)}};function _(){const C=l+n,T=e.now();if(T<C)return s=this.schedule(void 0,C-T),void r.add(s);g()}t.subscribe((0,kr.x)(r,C=>{u=C,l=e.now(),s||(s=e.schedule(_,n),r.add(s))},()=>{g(),r.complete()},void 0,()=>{u=s=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Vt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function sT(n){return{getDownloadURL:()=>(0,bt.of)(void 0).pipe(cn.fc,(0,pr.w)(()=>n.getDownloadURL()),cn.iC),getMetadata:()=>(0,bt.of)(void 0).pipe(cn.fc,(0,pr.w)(()=>n.getMetadata()),cn.iC),delete:()=>(0,ln.D)(n.delete()),child:e=>sT(n.child(e)),updateMetadata:e=>(0,ln.D)(n.updateMetadata(e)),put:(e,t)=>QO(n.put(e,t)),putString:(e,t,r)=>QO(n.putString(e,t,r)),list:e=>(0,ln.D)(n.list(e)),listAll:()=>(0,ln.D)(n.listAll())}}!function FU(n){const e={TaskState:Zs,TaskEvent:tU,StringFormat:Zo,Storage:KO,Reference:Td};n.INTERNAL.registerComponent(new Nh.wA("storage-compat",kU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(Hp.Z);const UU=new h.OlP("angularfire2.storageBucket"),VU=new h.OlP("angularfire2.storage.maxUploadRetryTime"),BU=new h.OlP("angularfire2.storage.maxOperationRetryTime"),jU=new h.OlP("angularfire2.storage.use-emulator");let JO=(()=>{class n{constructor(t,r,s,u,l,g,_,C,T,x){const $=(0,$r.on)(t,l,r);this.storage=(0,$r.cc)(`${$.name}.storage.${s}`,"AngularFireStorage",$.name,()=>{const K=l.runOutsideAngular(()=>$.storage(s||void 0)),ue=T;return ue&&K.useEmulator(...ue),_&&K.setMaxUploadRetryTime(_),C&&K.setMaxOperationRetryTime(C),K},[_,C])}ref(t){return sT(this.storage.ref(t))}refFromURL(t){return sT(this.storage.refFromURL(t))}upload(t,r,s){return sT(this.storage.ref(t)).put(r,s)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($r.Dh),h.LFG($r.xv,8),h.LFG(UU,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(cn.HU),h.LFG(VU,8),h.LFG(BU,8),h.LFG(jU,8),h.LFG(W_,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class XO{constructor(e,t,r,s){this.email=e,this.id=t,this._token=r,this._tokenExpirationDate=s}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}const oT_firebase={apiKey:"AIzaSyCgZpa69S4Mt_o_x8QIrm6S7mYE-QWbE1o",authDomain:"mindshare-3ab39.firebaseapp.com",databaseURL:"https://mindshare-3ab39-default-rtdb.firebaseio.com",projectId:"mindshare-3ab39",storageBucket:"mindshare-3ab39.appspot.com",messagingSenderId:"1026892817254",appId:"1:1026892817254:web:34f55c8c9e0fe7e3d6dea7",measurementId:"G-K32GDX0Z5Y"};class aT{}class uT{}class Yc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Yc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(g=>-1===u.indexOf(g)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class $U{encodeKey(e){return e1(e)}encodeValue(e){return e1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const zU=/%(\d[a-f0-9])/gi,GU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function e1(n){return encodeURIComponent(n).replace(zU,(e,t)=>GU[t]??e)}function cT(n){return`${n}`}class Lf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $U,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HU(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[l,g]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],_=t.get(l)||[];_.push(g),t.set(l,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(cT):[cT(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Lf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(cT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(cT(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class WU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function t1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function n1(n){return typeof Blob<"u"&&n instanceof Blob}function r1(n){return typeof FormData<"u"&&n instanceof FormData}class yE{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Yc),this.context||(this.context=new WU),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+l}}else this.params=new Lf,this.urlWithParams=t}serializeBody(){return null===this.body?null:t1(this.body)||n1(this.body)||r1(this.body)||function ZU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||r1(this.body)?null:n1(this.body)?this.body.type||null:t1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,C=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((x,$)=>x.set($,e.setHeaders[$]),_)),e.setParams&&(C=Object.keys(e.setParams).reduce((x,$)=>x.set($,e.setParams[$]),C)),new yE(t,r,u,{params:C,headers:_,context:T,reportProgress:g,responseType:s,withCredentials:l})}}var _i=(()=>((_i=_i||{})[_i.Sent=0]="Sent",_i[_i.UploadProgress=1]="UploadProgress",_i[_i.ResponseHeader=2]="ResponseHeader",_i[_i.DownloadProgress=3]="DownloadProgress",_i[_i.Response=4]="Response",_i[_i.User=5]="User",_i))();class uR{constructor(e,t=200,r="OK"){this.headers=e.headers||new Yc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cR extends uR{constructor(e={}){super(e),this.type=_i.ResponseHeader}clone(e={}){return new cR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Y_ extends uR{constructor(e={}){super(e),this.type=_i.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Y_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class i1 extends uR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function lR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let s1=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof yE)u=t;else{let _,C;_=s.headers instanceof Yc?s.headers:new Yc(s.headers),s.params&&(C=s.params instanceof Lf?s.params:new Lf({fromObject:s.params})),u=new yE(t,r,void 0!==s.body?s.body:null,{headers:_,context:s.context,params:C,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const l=(0,bt.of)(u).pipe(gh(_=>this.handler.handle(_)));if(t instanceof yE||"events"===s.observe)return l;const g=l.pipe(ks(_=>_ instanceof Y_));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Vt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe((0,Vt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe((0,Vt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe((0,Vt.U)(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Lf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,lR(s,r))}post(t,r,s={}){return this.request("POST",t,lR(s,r))}put(t,r,s={}){return this.request("PUT",t,lR(s,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(aT))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function u1(n,e){return e(n)}function YU(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const JU=new h.OlP(""),_E=new h.OlP(""),c1=new h.OlP("");function XU(){let n=null;return(e,t)=>{null===n&&(n=((0,h.f3M)(JU,{optional:!0})??[]).reduceRight(YU,u1));const r=(0,h.f3M)(h.HDt),s=r.add();return n(e,t).pipe(mh(()=>r.remove(s)))}}let l1=(()=>{class n extends aT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,h.f3M)(h.HDt)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(_E),...this.injector.get(c1,[])]));this.chain=s.reduceRight((u,l)=>function QU(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(u,l,this.injector),u1)}const r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(mh(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(uT),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const rV=/^\)\]\}',?\n/;let h1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new h.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,ln.D)(r.\u0275loadImpl()):(0,bt.of)(null)).pipe((0,pr.w)(()=>new oi.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((ye,me)=>l.setRequestHeader(ye,me.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ye=t.detectContentTypeHeader();null!==ye&&l.setRequestHeader("Content-Type",ye)}if(t.responseType){const ye=t.responseType.toLowerCase();l.responseType="json"!==ye?ye:"text"}const g=t.serializeBody();let _=null;const C=()=>{if(null!==_)return _;const ye=l.statusText||"OK",me=new Yc(l.getAllResponseHeaders()),rt=function iV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return _=new cR({headers:me,status:l.status,statusText:ye,url:rt}),_},T=()=>{let{headers:ye,status:me,statusText:rt,url:mt}=C(),Ge=null;204!==me&&(Ge=typeof l.response>"u"?l.responseText:l.response),0===me&&(me=Ge?200:0);let at=me>=200&&me<300;if("json"===t.responseType&&"string"==typeof Ge){const Nt=Ge;Ge=Ge.replace(rV,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(Zt){Ge=Nt,at&&(at=!1,Ge={error:Zt,text:Ge})}}at?(u.next(new Y_({body:Ge,headers:ye,status:me,statusText:rt,url:mt||void 0})),u.complete()):u.error(new i1({error:Ge,headers:ye,status:me,statusText:rt,url:mt||void 0}))},x=ye=>{const{url:me}=C(),rt=new i1({error:ye,status:l.status||0,statusText:l.statusText||"Unknown Error",url:me||void 0});u.error(rt)};let $=!1;const K=ye=>{$||(u.next(C()),$=!0);let me={type:_i.DownloadProgress,loaded:ye.loaded};ye.lengthComputable&&(me.total=ye.total),"text"===t.responseType&&l.responseText&&(me.partialText=l.responseText),u.next(me)},ue=ye=>{let me={type:_i.UploadProgress,loaded:ye.loaded};ye.lengthComputable&&(me.total=ye.total),u.next(me)};return l.addEventListener("load",T),l.addEventListener("error",x),l.addEventListener("timeout",x),l.addEventListener("abort",x),t.reportProgress&&(l.addEventListener("progress",K),null!==g&&l.upload&&l.upload.addEventListener("progress",ue)),l.send(g),u.next({type:_i.Sent}),()=>{l.removeEventListener("error",x),l.removeEventListener("abort",x),l.removeEventListener("load",T),l.removeEventListener("timeout",x),t.reportProgress&&(l.removeEventListener("progress",K),null!==g&&l.upload&&l.upload.removeEventListener("progress",ue)),l.readyState!==l.DONE&&l.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Pr))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const dR=new h.OlP("XSRF_ENABLED"),f1=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),p1=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class g1{}let aV=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Io(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(h.Lbi),h.LFG(f1))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function uV(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(dR)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(g1).getToken(),s=(0,h.f3M)(p1);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var Sr=(()=>((Sr=Sr||{})[Sr.Interceptors=0]="Interceptors",Sr[Sr.LegacyInterceptors=1]="LegacyInterceptors",Sr[Sr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Sr[Sr.NoXsrfProtection=3]="NoXsrfProtection",Sr[Sr.JsonpSupport=4]="JsonpSupport",Sr[Sr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Sr[Sr.Fetch=6]="Fetch",Sr))();function Zg(n,e){return{\u0275kind:n,\u0275providers:e}}function cV(...n){const e=[s1,h1,l1,{provide:aT,useExisting:l1},{provide:uT,useExisting:h1},{provide:_E,useValue:uV,multi:!0},{provide:dR,useValue:!0},{provide:g1,useClass:aV}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const m1=new h.OlP("LEGACY_INTERCEPTOR_FN");let dV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[cV(Zg(Sr.LegacyInterceptors,[{provide:m1,useFactory:XU},{provide:_E,useExisting:m1,multi:!0}]))]}),n})(),Kg=(()=>{class n{constructor(t,r,s){this.http=t,this.firestore=r,this.router=s,this.user=new vs.X(null),this.forUpload=new vs.X(null),this.name="",this.defProfile="https://firebasestorage.googleapis.com/v0/b/mindshare-3ab39.appspot.com/o/Screenshot%202023-06-17%20183301.jpg?alt=media&token=c964126f-6daf-446a-b445-d6c0e314836c",this.bio=""}signup(t,r){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCgZpa69S4Mt_o_x8QIrm6S7mYE-QWbE1o",{email:t,password:r,returnSecureToken:!0}).pipe(Ui(this.handleError),(0,Jr.b)(s=>{this.handleAuth(s.email,s.localId,s.idToken,+s.expiresIn),this.router.navigate(["/home"])}))}login(t,r){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCgZpa69S4Mt_o_x8QIrm6S7mYE-QWbE1o",{email:t,password:r,returnSecureToken:!0}).pipe(Ui(this.handleError),(0,Jr.b)(s=>{this.handleAuth(s.email,s.localId,s.idToken,+s.expiresIn)}))}storeUser(t){return this.firestore.collection("UserData").add({name:t.name,email:t.email,bio:this.bio,profilePic:this.defProfile})}getUser(t){return this.firestore.collection("UserData",r=>r.where("email","==",t)).valueChanges()}handleError(t){return ph(t.error.error.message)}handleAuth(t,r,s,u){const l=new Date((new Date).getTime()+1e3*u),g=new XO(t,r,s,l);this.user.next(g),this.autoLogout(1e3*u),localStorage.setItem("loggedData",JSON.stringify(g))}autoLogin(){const t=localStorage.getItem("loggedData"),r=t?JSON.parse(t):null;if(!r)return;const s=new XO(r.email,r.userId,r._token,new Date(r._tokenExpirationDate));if(s.token){this.getUser(s.email).subscribe(),this.user.next(s);const u=new Date(r._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(u)}}autoLogout(t){this.tokenExpirationTimer=setTimeout(()=>{this.logout()},t)}logout(){this.user.next(null),this.router.navigate(["/auth"]),localStorage.removeItem("loggedData"),this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(s1),h.LFG(Jb),h.LFG(li))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yV=(()=>{class n{constructor(t,r){this.firestore=t,this.auth=r}upload(t,r){this.auth.user.subscribe(s=>{this.auth.getUser(s.email).subscribe(u=>{console.log(u[0].name+"Dsdsds"),this.user=u[0].email,this.userName=u[0].name,this.firestore.collection("posts").add({email:this.user,caption:t,path:r,name:this.userName,date:(new Date).getTime()}).then(()=>{console.log("Document successfully written.")}).catch(l=>{console.error("Error writing document: ",l)})})})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Jb),h.LFG(Kg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _V(n,e){1&n&&(h.TgZ(0,"div",5),h._UZ(1,"app-loader"),h.qZA())}function vV(n,e){1&n&&(h.TgZ(0,"h1"),h._uU(1,"Share your thoughts"),h.qZA())}function wV(n,e){1&n&&(h.TgZ(0,"label",15),h._uU(1,"Upload Photo:"),h.qZA())}function EV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"input",16,17),h.NdJ("change",function(s){h.CHM(t);const u=h.oxw(2);return h.KtG(u.onFileSelected(s))}),h.qZA()}}function IV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"p",18)(1,"i",19),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.inputFunc())}),h.qZA()()}}function DV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"div",6),h.YNc(2,wV,2,0,"label",7),h.YNc(3,EV,2,0,"input",8),h._UZ(4,"br"),h.YNc(5,IV,2,0,"p",9),h._UZ(6,"img",10),h.qZA(),h._UZ(7,"br"),h.TgZ(8,"div",6)(9,"label",11),h._uU(10,"Caption:"),h.qZA(),h._UZ(11,"textarea",12),h.qZA(),h.TgZ(12,"button",13),h._uU(13," Post"),h.qZA(),h.TgZ(14,"button",14),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(),u=h.MAs(5);return h.KtG(s.reset(u))}),h._uU(15,"Reset"),h.qZA()()}if(2&n){const t=h.oxw(),r=h.MAs(5);h.xp6(2),h.Q6J("ngIf",t.serveredImg),h.xp6(1),h.Q6J("ngIf",t.serveredImg),h.xp6(2),h.Q6J("ngIf",t.serveredImg),h.xp6(1),h.s9C("alt",t.imgs),h.Q6J("src",t.imgs,h.LSH),h.xp6(6),h.Q6J("disabled",!r.valid||t.uploaded)}}let CV=(()=>{class n{constructor(t,r,s){this.storage=t,this.uploadServ=r,this.router=s,this.onLoad=!1,this.selectedFile=null,this.serveredImg=!0,this.imgs="",this.uploaded=!0}onFileSelected(t){this.selectedFile=t.target.files[0],this.selectedFile&&this.picUpload()}onUpload(t){const r=t.value.caption;this.selectedFile&&(this.onLoad=!0,this.uploadServ.upload(r,this.imgs),this.router.navigate(["/home"]),this.onLoad=!1)}picUpload(){this.uploaded=!1,this.onLoad=!0,this.serveredImg=!1;const t=`images/${this.selectedFile.name}`,r=this.storage.ref(t);this.storage.upload(t,this.selectedFile).snapshotChanges().pipe(mh(()=>{r.getDownloadURL().subscribe(u=>{this.imgs=u,this.onLoad=!1})})).subscribe()}reset(t){t.reset(),this.imgs="",this.serveredImg=!0}ngOnDestroy(){}inputFunc(){document.getElementById("imagePath").click()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(JO),h.Y36(yV),h.Y36(li))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-upload"]],decls:7,vars:3,consts:[["class","text-center load justify-content-center",4,"ngIf"],[1,"container"],[4,"ngIf"],[3,"ngSubmit"],["upload","ngForm"],[1,"text-center","load","justify-content-center"],[1,"form-group"],["for","photo",4,"ngIf"],["class","form-control","type","file","accept","image/*","id","imagePath","ngModel","","name","photo","style","display: none;",3,"change",4,"ngIf"],["style"," display: inline;",4,"ngIf"],["width","400px",3,"src","alt"],["for","caption"],["id","caption","ngModel","","name","caption","rows","2","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],["for","photo"],["type","file","accept","image/*","id","imagePath","ngModel","","name","photo",1,"form-control",2,"display","none",3,"change"],["inps",""],[2,"display","inline"],[1,"fa","fa-upload",3,"click"]],template:function(t,r){if(1&t){const s=h.EpF();h.YNc(0,_V,2,0,"div",0),h.TgZ(1,"div")(2,"div",1),h.YNc(3,vV,2,0,"h1",2),h.TgZ(4,"form",3,4),h.NdJ("ngSubmit",function(){h.CHM(s);const l=h.MAs(5);return h.KtG(r.onUpload(l))}),h.YNc(6,DV,16,6,"div",2),h.qZA()()()}2&t&&(h.Q6J("ngIf",r.onLoad),h.xp6(3),h.Q6J("ngIf",!r.onLoad),h.xp6(3),h.Q6J("ngIf",!r.onLoad))},dependencies:[Ss,pm,gs,Pl,En,Ep,vp,ou,Kx],styles:[".btn[_ngcontent-%COMP%]{margin:10px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], textarea.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px red solid}.fa[_ngcontent-%COMP%]{font-size:5vw;margin-top:2vh;background-color:#252525;color:#fff;border-radius:50%;padding:20px;border:3px white solid;cursor:pointer}.fa[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:ease-in-out .2s;border:5px solid white}"]}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-logo"]],decls:1,vars:0,consts:[["src","../../assets/Screenshot_2023-06-17_183301-removebg-preview.png","alt",""]],template:function(t,r){1&t&&h._UZ(0,"img",0)},styles:["img[_ngcontent-%COMP%]{margin:auto}*[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:30%}"]}),n})();function TV(n,e){1&n&&(h.TgZ(0,"div",5)(1,"label",15),h._uU(2,"NAME"),h.qZA(),h._UZ(3,"input",16),h.qZA())}let SV=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.isLoginMode=!0,this.name="",this.email=""}onSignup(){this.isLoginMode=!this.isLoginMode}onSubmit(t){const r=t.value.email,s=t.value.password,l={email:r,name:t.value.name};this.isLoginMode?this.auth.login(r,s).pipe((0,Jr.b)(()=>{this.auth.getUser(r).subscribe(g=>{g.length>0&&(this.name=g[0].name,this.router.navigate(["/home"]))})})).subscribe():this.auth.signup(r,s).pipe((0,Jr.b)(()=>{this.auth.storeUser(l).then(()=>{})})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Kg),h.Y36(li))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-auth"]],decls:25,vars:4,consts:[[1,"row"],[1,"col-xs-8","col-md-6","col-md-offset-3"],[3,"ngSubmit"],["authForm","ngForm"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email"],["type","email","ngModel","","name","email","placeholder","EMAIL","required","","email","",1,"form-control"],["for","password"],["type","password","ngModel","","name","password","placeholder","PASSWORD","required","","password","",1,"form-control"],["type","submit",1,"btn","btn-dark",3,"disabled"],[1,"divi"],["for","sign up"],["type","button",1,"btn","btn-dark",3,"click"],[1,"col-xs-4","col-md-6",2,"height","60vh","margin-top","20vh","align-content","center"],["for","username"],["type","text","ngModel","","name","name","placeholder","NAME","required","",1,"form-control"]],template:function(t,r){if(1&t){const s=h.EpF();h.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),h.NdJ("ngSubmit",function(){h.CHM(s);const l=h.MAs(3);return h.KtG(r.onSubmit(l))}),h.YNc(4,TV,4,0,"div",4),h.TgZ(5,"div",5)(6,"label",6),h._uU(7,"EMAIL"),h.qZA(),h._UZ(8,"input",7),h.qZA(),h.TgZ(9,"div",5)(10,"label",8),h._uU(11,"PASSWORD"),h.qZA(),h._UZ(12,"input",9),h.qZA(),h.TgZ(13,"div")(14,"button",10),h._uU(15),h.qZA(),h.TgZ(16,"span",11),h._uU(17,"|"),h.qZA(),h._uU(18,"\xa0 "),h.TgZ(19,"label",12),h._uU(20,"NEW USER?"),h.qZA(),h.TgZ(21,"button",13),h.NdJ("click",function(){return r.onSignup()}),h._uU(22),h.qZA()()()(),h.TgZ(23,"div",14),h._UZ(24,"app-logo"),h.qZA()()}if(2&t){const s=h.MAs(3);h.xp6(4),h.Q6J("ngIf",!r.isLoginMode),h.xp6(10),h.Q6J("disabled",!s.valid),h.xp6(1),h.Oqu(r.isLoginMode?"Login":"Sign Up"),h.xp6(7),h.Oqu(r.isLoginMode?"Sign Up":"Login")}},dependencies:[Ss,pm,gs,Pl,En,Ep,Dm,vp,ou,bV],styles:["*[_ngcontent-%COMP%]{color:#fff}form[_ngcontent-%COMP%]{width:90%}button[_ngcontent-%COMP%]{border:1px white solid;margin:1vh}button[_ngcontent-%COMP%]:disabled{border:1px white solid}.divi[_ngcontent-%COMP%]{font-size:4vh}label[_ngcontent-%COMP%]{font-size:1.5vh}input[_ngcontent-%COMP%]{color:#000}"]}),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hR=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.user.pipe(uu(1),(0,Vt.U)(s=>!!s||this.router.createUrlTree(["/auth"])))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Kg),h.LFG(li))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AV(n,e){1&n&&(h.TgZ(0,"div",2),h._UZ(1,"app-loader"),h.qZA())}function MV(n,e){if(1&n&&h._UZ(0,"img",12),2&n){const t=h.oxw(2);h.Q6J("src",t.profilePic,h.LSH)}}function xV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"input",13),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.change())}),h.qZA(),h._UZ(2,"br"),h.TgZ(3,"button",14),h.NdJ("click",function(){h.CHM(t);const s=h.MAs(6);return h.KtG(s)})("change",function(){h.CHM(t);const s=h.MAs(6);return h.KtG(s)}),h._UZ(4,"i",15),h.qZA(),h.TgZ(5,"input",16,17),h.NdJ("change",function(s){h.CHM(t);const u=h.oxw(2);return h.KtG(u.onFileSelected(s))}),h.qZA()()}if(2&n){const t=h.oxw(2);h.xp6(1),h.Q6J("src",t.profilePic,h.LSH)}}function RV(n,e){if(1&n&&(h.TgZ(0,"div",18)(1,"p"),h._uU(2),h.qZA(),h.TgZ(3,"p"),h._uU(4),h.qZA(),h.TgZ(5,"p"),h._uU(6),h.qZA()()),2&n){const t=h.oxw(2);h.xp6(2),h.hij("Name: ",t.name,""),h.xp6(2),h.hij("Email: ",t.email,""),h.xp6(2),h.hij("Bio: ",t.bio,"")}}function NV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",19),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(2);return h.KtG(s.editModeFunc())}),h._uU(1,"EDIT"),h.qZA()}}function PV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",4)(1,"form",20,21),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.MAs(2),u=h.oxw(2);return h.KtG(u.editServ(s))}),h.TgZ(3,"div",22)(4,"label",23),h._uU(5,"NAME"),h.qZA(),h.TgZ(6,"input",24),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw(2);return h.KtG(u.name=s)}),h.qZA()(),h.TgZ(7,"div",22)(8,"label",25),h._uU(9,"EMAIL"),h.qZA(),h.TgZ(10,"input",26),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw(2);return h.KtG(u.email=s)}),h.qZA()(),h.TgZ(11,"div",22)(12,"label",27),h._uU(13,"BIO "),h.TgZ(14,"span"),h._uU(15,"(max 75 chars)"),h.qZA()(),h.TgZ(16,"textarea",28),h.NdJ("ngModelChange",function(s){h.CHM(t);const u=h.oxw(2);return h.KtG(u.bio=s)}),h.qZA()(),h.TgZ(17,"button",29),h._uU(18,"SAVE"),h.qZA()()()}if(2&n){const t=h.MAs(2),r=h.oxw(2);h.xp6(6),h.Q6J("ngModel",r.name),h.xp6(4),h.Q6J("ngModel",r.email)("disabled",!0),h.xp6(6),h.Q6J("ngModel",r.bio),h.xp6(1),h.Q6J("disabled",!t.valid)}}function OV(n,e){if(1&n&&(h.TgZ(0,"div",3)(1,"div",4)(2,"div",5),h.YNc(3,MV,1,1,"img",6),h.YNc(4,xV,7,1,"div",7),h.TgZ(5,"div",8),h.YNc(6,RV,7,3,"div",9),h.qZA()(),h.YNc(7,NV,2,0,"button",10),h.qZA(),h.YNc(8,PV,19,5,"div",11),h.qZA()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngIf",!t.editMode),h.xp6(1),h.Q6J("ngIf",t.editMode),h.xp6(2),h.Q6J("ngIf",!t.editMode),h.xp6(1),h.Q6J("ngIf",!t.editMode),h.xp6(1),h.Q6J("ngIf",t.editMode)}}let kV=(()=>{class n{constructor(t,r,s,u){this.auth=t,this.firestoreDB=r,this.router=s,this.storage=u,this.name="",this.email="",this.profilePic="",this.bio="",this.onLoad=!1,this.selectedProfile=null,this.editMode=!1}ngOnInit(){this.onLoad=!0,this.auth.user.subscribe(t=>{t&&this.auth.getUser(t.email).subscribe(r=>{r.length>0&&(this.name=r[0].name,this.email=r[0].email,this.bio=r[0].bio,this.profilePic=r[0]&&r[0].hasOwnProperty("profilePic")?r[0].profilePic:"https://images.unsplash.com/source-404?fit=crop&fm=jpg&h=800&q=60&w=1200",this.onLoad=!1)})})}onFileSelected(t){this.selectedProfile=t.target.files[0],this.selectedProfile&&this.picUpload()}picUpload(){this.onLoad=!0;const t=`profile/${this.selectedProfile.name}`,r=this.storage.ref(t);this.storage.upload(t,this.selectedProfile).snapshotChanges().pipe(mh(()=>{r.getDownloadURL().subscribe(u=>{this.profilePic=u,this.onLoad=!1})})).subscribe()}change(){document.getElementById("upload").click()}editModeFunc(){this.editMode=!this.editMode}editServ(t){console.log(t.value);const r=t.value.bio,s=t.value.name,l=this.firestoreDB.collection("UserData",g=>g.where("email","==",this.email));this.unsub=l.snapshotChanges().subscribe(g=>{g.forEach(_=>{this.firestoreDB.doc(`UserData/${_.payload.doc.id}`).update({bio:r,name:s,profilePic:this.profilePic})})}),this.editModeFunc()}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Kg),h.Y36(Jb),h.Y36(li),h.Y36(JO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-user-profile"]],decls:2,vars:2,consts:[["class","text-center load justify-content-center",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center","load","justify-content-center"],[1,"row"],[1,"col-md-6"],[1,"text-center"],["alt","","style","border-radius: 50%; width:200px; height: 200px; object-fit:cover;",3,"src",4,"ngIf"],[4,"ngIf"],[1,"col-xs-12"],["class","bg-dark text-center border details",4,"ngIf"],["type","button","class","btn btn-light btn-sm",3,"click",4,"ngIf"],["class","col-md-6",4,"ngIf"],["alt","",2,"border-radius","50%","width","200px","height","200px","object-fit","cover",3,"src"],["type","image",2,"border-radius","50%","width","200px","height","200px","object-fit","cover",3,"src","click"],["disabled","","type","button",1,"btn",2,"background","transparent","border","none","font-size","2vw",3,"click","change"],[1,"fa","fa-upload"],["ngModel","","name","photo","type","file","id","upload","accept","image/*",2,"display","none",3,"change"],["upload",""],[1,"bg-dark","text-center","border","details"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],[3,"ngSubmit"],["editUser","ngForm"],[1,"form-group"],["for","NAME"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","EMAIL"],["name","email","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","BIO"],["name","bio","type","text","ngModel","","maxlength","75",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,r){1&t&&(h.YNc(0,AV,2,0,"div",0),h.YNc(1,OV,9,5,"div",1)),2&t&&(h.Q6J("ngIf",r.onLoad),h.xp6(1),h.Q6J("ngIf",!r.onLoad))},dependencies:[Ss,pm,gs,Pl,En,uv,vp,ou,Kx],styles:[".details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-bottom:1px solid black}.details[_ngcontent-%COMP%]{padding:10px}input[_ngcontent-%COMP%]{color:#000}input.ng-touched.ng-invalid[_ngcontent-%COMP%], textarea.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px red solid}.btn[_ngcontent-%COMP%]{margin:10px}span[_ngcontent-%COMP%]{font-size:.5em}"]}),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FV(n,e){if(1&n&&(h.TgZ(0,"div",4)(1,"div",5)(2,"div",6),h._UZ(3,"img",7),h.TgZ(4,"span"),h._uU(5),h.ALo(6,"uppercase"),h.qZA()(),h._UZ(7,"img",8),h.TgZ(8,"div",9)(9,"p",10),h._uU(10),h._UZ(11,"br"),h.TgZ(12,"li",11),h._uU(13),h.ALo(14,"date"),h.qZA()()()()()),2&n){const t=e.$implicit;h.xp6(5),h.hij(" ",h.lcZ(6,5,t.name)," "),h.xp6(2),h.Q6J("src",t.path,h.LSH),h.xp6(3),h.hij(" ",t.caption," "),h.xp6(3),h.AsE("",h.xi3(14,7,t.date,"medium")," | ",t.email,"")}}const LV=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:e2},{path:"upload",component:CV,canActivate:[hR]},{path:"profile",component:kV,canActivate:[hR]},{path:"auth",component:SV},{path:"user/:email",component:(()=>{class n{constructor(t,r,s,u){this.router=t,this.route=r,this.auth=s,this.posts=u}ngOnInit(){this.route.params.subscribe(t=>{this.subs=this.auth.getUser(t.email).subscribe(r=>{this.name=r[0].name,this.email=r[0].email,this.bio=r[0].bio,this.profile=r[0].profilePic}),this.posts.getUserPosts(t.email).subscribe(r=>{this.userPosts=r,console.log(this.userPosts[0])})})}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(li),h.Y36(_c),h.Y36(Kg),h.Y36(Zx))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-other-profiles"]],decls:10,vars:5,consts:[[1,"bg-dark","text-center","border","details"],["alt","","width","300px","height","300px",2,"border-radius","50%","object-fit","cover",3,"src"],[1,"col-md-6"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"cards"],[1,"userDets"],["src","../../assets/Screenshot 2023-06-17 183301.jpg","alt","PFP"],["width","90%","height","60%","alt","User Post",1,"card-img-top",2,"object-fit","contain",3,"src"],[1,"card-body"],[1,"card-text"],[1,"timeStamp"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"img",1),h.TgZ(2,"p"),h._uU(3),h.qZA(),h.TgZ(4,"p"),h._uU(5),h.qZA(),h.TgZ(6,"p"),h._uU(7),h.qZA()(),h.TgZ(8,"div",2),h.YNc(9,FV,15,10,"div",3),h.qZA()),2&t&&(h.xp6(1),h.Q6J("src",r.profile,h.LSH),h.xp6(2),h.hij("Name: ",r.name,""),h.xp6(2),h.hij("Email: ",r.email,""),h.xp6(2),h.hij("Bio: ",r.bio,""),h.xp6(2),h.Q6J("ngForOf",r.userPosts))},dependencies:[Ra,xu,An],styles:[".container[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;padding:5px;color:#000;width:80%}.cards[_ngcontent-%COMP%]{margin:2px;background-color:#fff;width:100%;height:80%}.card-body[_ngcontent-%COMP%]{border:1px solid black;padding:20px;border-radius:0 0 10px 10px}.cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2), .cards[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border:1px solid #000000}.cards[_ngcontent-%COMP%]   .userDets[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:1px solid black;display:flex;width:40px;height:40px}*[_ngcontent-%COMP%]{color:#000}.userDets[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;display:flex;padding:.5vh;border:1px solid black;border-bottom:none;font-weight:900}.userDets[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto 0;padding-left:.2vw}.timeStamp[_ngcontent-%COMP%]{font-size:xx-small;display:inline;margin:auto 0;list-style:none;font-weight:900}.load[_ngcontent-%COMP%]{justify-content:center;height:70vh}.details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:2vh}.details[_ngcontent-%COMP%]{height:60vh;border-radius:10px;margin-bottom:3vh}"]}),n})(),canActivate:[hR]}];let UV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[xh.forRoot(LV),xh]}),n})();function VV(n,e){1&n&&(h.TgZ(0,"a",17),h._uU(1,"Login/Sign Up"),h.qZA())}function BV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"a",18),h.NdJ("click",function(){h.CHM(t);const s=h.oxw();return h.KtG(s.logout())}),h._uU(1,"Logout"),h.qZA()}}function jV(n,e){if(1&n&&(h.TgZ(0,"li",10)(1,"a",19),h._UZ(2,"img",20),h.qZA()()),2&n){const t=h.oxw();h.xp6(2),h.Q6J("src",t.profilePic,h.LSH)}}let $V=(()=>{class n{constructor(t){this.auth=t,this.isAuth=!1,this.profilePic=""}ngOnInit(){this.userSub=this.auth.user.subscribe(t=>{this.isAuth=!!t,console.log(t),this.auth.getUser(t.email).subscribe(r=>{this.profilePic=r[0]&&r[0].hasOwnProperty("profilePic")?r[0].profilePic:"https://images.unsplash.com/source-404?fit=crop&fm=jpg&h=800&q=60&w=1200"})})}ngOnDestroy(){this.userSub.unsubscribe()}logout(){this.auth.logout()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Kg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header-component"]],decls:21,vars:3,consts:[[1,"header"],[1,"navbar","fixed-top","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../../assets/Screenshot_2023-06-17_183301-removebg-preview.png","alt","",2,"width","70px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","btn-nav-accordion"],[1,"navbar-toggler-icon","navbar-dark"],[1,"fas","fa-chevron-down"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","coll"],[1,"nav-item"],["routerLink","home","routerLinkActive","active","aria-current","page",1,"nav-link","navbarlia"],["routerLinkActive","active",1,"nav-item"],["navbarlia","","routerLink","/upload",1,"nav-link","navbarlia"],["routerLink","/auth","class","nav-link navbarlia",4,"ngIf"],["style","cursor: pointer;","class","nav-link navbarlia",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf"],["routerLink","/auth",1,"nav-link","navbarlia"],[1,"nav-link","navbarlia",2,"cursor","pointer",3,"click"],["routerLink","/profile",1,"nav-link"],["alt","",2,"width","50px","height","50px","border-radius","50%","border","1px solid black",3,"src"]],template:function(t,r){1&t&&(h.TgZ(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),h._UZ(4,"img",4),h.qZA(),h.TgZ(5,"button",5),h._UZ(6,"span",6)(7,"i",7),h.qZA()(),h.TgZ(8,"div",8)(9,"ul",9)(10,"li",10)(11,"a",11),h._uU(12,"Home"),h.qZA()(),h.TgZ(13,"li",12)(14,"a",13),h._uU(15,"Upload"),h.qZA()(),h.TgZ(16,"li",12),h.YNc(17,VV,2,0,"a",14),h.qZA(),h.TgZ(18,"li",10),h.YNc(19,BV,2,0,"a",15),h.qZA(),h.YNc(20,jV,3,1,"li",16),h.qZA()()()()),2&t&&(h.xp6(17),h.Q6J("ngIf",!r.isAuth),h.xp6(2),h.Q6J("ngIf",r.isAuth),h.xp6(1),h.Q6J("ngIf",r.isAuth))},dependencies:[Ss,qm,Xv],styles:[".navbar[_ngcontent-%COMP%]{background-color:#303030}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:900}.navbarlia[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:ease-in .15s}.navbarlia[_ngcontent-%COMP%]:active{transform:scale(.9);transition:ease-in .15s}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:auto}.collapse[_ngcontent-%COMP%]{width:40%;flex-flow:row-reverse}.active[_ngcontent-%COMP%]{background-color:#252525}"]}),n})(),HV=(()=>{class n{constructor(t,r){this.auth=t,this.posts=r,this.title="MindShare"}ngOnInit(){this.auth.autoLogin(),this.posts.getPosts().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Kg),h.Y36(Zx))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(t,r){1&t&&(h._UZ(0,"app-header-component"),h.TgZ(1,"div",0)(2,"div",1)(3,"div",2),h._UZ(4,"router-outlet"),h.qZA()()())},dependencies:[kp,$V],styles:[".container[_ngcontent-%COMP%]{padding-top:15vh}"]}),n})();var zV=L(6878);class fR{constructor(e){return e}}class _1{constructor(){return(0,cn.vb)("auth")}}const pR=new h.OlP("angularfire2.auth-instances");function WV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fR(r)}}const qV={provide:_1,deps:[[new h.FiY,pR]]},ZV={provide:fR,useFactory:function GV(n,e){const t=(0,cn.JM)("auth",n,e);return t&&new fR(t)},deps:[[new h.FiY,pR],z_]};let KV=(()=>{class n{constructor(){(0,Ff.KN)("angularfire",cn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ZV,qV]}),n})();function YV(n,...e){return{ngModule:KV,providers:[{provide:pR,useFactory:WV(n),multi:!0,deps:[h.R0b,h.zs3,cn.HU,Dx,[new h.FiY,W_],...e]}]}}const QV=(0,cn.u3)(zV.o,!0);class gR{constructor(e){return e}}const v1="firestore",mR=new h.OlP("angularfire2.firestore-instances");function eB(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gR(r)}}const tB={provide:class JV{constructor(){return(0,cn.vb)(v1)}},deps:[[new h.FiY,mR]]},nB={provide:gR,useFactory:function XV(n,e){const t=(0,cn.JM)(v1,n,e);return t&&new gR(t)},deps:[[new h.FiY,mR],z_]};let rB=(()=>{class n{constructor(){(0,Ff.KN)("angularfire",cn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[nB,tB]}),n})();function iB(n,...e){return{ngModule:rB,providers:[{provide:mR,useFactory:eB(n),multi:!0,deps:[h.R0b,h.zs3,cn.HU,Dx,[new h.FiY,_1],[new h.FiY,W_],...e]}]}}const sB=(0,cn.u3)(Pk,!0);let oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[HV]}),n.\u0275inj=h.cJS({imports:[dV,Il,$r.hO,UV,LE,QF(()=>JF(oT_firebase)),YV(()=>QV()),iB(()=>sB()),$r.hO.initializeApp(oT_firebase)]}),n})();Zu().bootstrapModule(oB).catch(n=>console.error(n))},5619:(pt,Ce,L)=>{L.d(Ce,{X:()=>B});var h=L(8645);class B extends h.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const ie=super._subscribe(J);return!ie.closed&&J.next(this._value),ie}getValue(){const{hasError:J,thrownError:ie,_value:pe}=this;if(J)throw ie;return this._throwIfClosed(),pe}next(J){super.next(this._value=J)}}},5592:(pt,Ce,L)=>{L.d(Ce,{y:()=>Ae});var h=L(1887),B=L(7394),P=L(4850),J=L(8407),ie=L(2653),pe=L(4674),_e=L(1441);let Ae=(()=>{class ne{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const qe=new ne;return qe.source=this,qe.operator=Me,qe}subscribe(Me,qe,xe){const Ze=function G(ne){return ne&&ne instanceof h.Lv||function H(ne){return ne&&(0,pe.m)(ne.next)&&(0,pe.m)(ne.error)&&(0,pe.m)(ne.complete)}(ne)&&(0,B.Nn)(ne)}(Me)?Me:new h.Hp(Me,qe,xe);return(0,_e.x)(()=>{const{operator:Pe,source:vt}=this;Ze.add(Pe?Pe.call(Ze,vt):vt?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Me){try{return this._subscribe(Me)}catch(qe){Me.error(qe)}}forEach(Me,qe){return new(qe=ge(qe))((xe,Ze)=>{const Pe=new h.Hp({next:vt=>{try{Me(vt)}catch(lt){Ze(lt),Pe.unsubscribe()}},error:Ze,complete:xe});this.subscribe(Pe)})}_subscribe(Me){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Me)}[P.L](){return this}pipe(...Me){return(0,J.U)(Me)(this)}toPromise(Me){return new(Me=ge(Me))((qe,xe)=>{let Ze;this.subscribe(Pe=>Ze=Pe,Pe=>xe(Pe),()=>qe(Ze))})}}return ne.create=ke=>new ne(ke),ne})();function ge(ne){var ke;return null!==(ke=ne??ie.config.Promise)&&void 0!==ke?ke:Promise}},8645:(pt,Ce,L)=>{L.d(Ce,{x:()=>_e});var h=L(5592),B=L(7394);const J=(0,L(2306).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=L(9039),pe=L(1441);let _e=(()=>{class ge extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ne=new Ae(this,this);return ne.operator=G,ne}_throwIfClosed(){if(this.closed)throw new J}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ne}=this;for(;ne.length;)ne.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ne,isStopped:ke,observers:Me}=this;return ne||ke?B.Lc:(this.currentObservers=null,Me.push(G),new B.w0(()=>{this.currentObservers=null,(0,ie.P)(Me,G)}))}_checkFinalizedStatuses(G){const{hasError:ne,thrownError:ke,isStopped:Me}=this;ne?G.error(ke):Me&&G.complete()}asObservable(){const G=new h.y;return G.source=this,G}}return ge.create=(H,G)=>new Ae(H,G),ge})();class Ae extends _e{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,ne;null===(ne=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ne||ne.call(G,H)}error(H){var G,ne;null===(ne=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ne||ne.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,ne;return null!==(ne=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==ne?ne:B.Lc}}},1887:(pt,Ce,L)=>{L.d(Ce,{Hp:()=>xe,Lv:()=>ne});var h=L(4674),B=L(7394),P=L(2653),J=L(3894);function ie(){}const pe=ge("C",void 0,void 0);function ge(te,De,se){return{kind:te,value:De,error:se}}var H=L(7599),G=L(1441);class ne extends B.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,B.Nn)(De)&&De.add(this)):this.destination=lt}static create(De,se,fe){return new xe(De,se,fe)}next(De){this.isStopped?vt(function Ae(te){return ge("N",te,void 0)}(De),this):this._next(De)}error(De){this.isStopped?vt(function _e(te){return ge("E",void 0,te)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?vt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Me(te,De){return ke.call(te,De)}class qe{constructor(De){this.partialObserver=De}next(De){const{partialObserver:se}=this;if(se.next)try{se.next(De)}catch(fe){Ze(fe)}}error(De){const{partialObserver:se}=this;if(se.error)try{se.error(De)}catch(fe){Ze(fe)}else Ze(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(se){Ze(se)}}}class xe extends ne{constructor(De,se,fe){let Ne;if(super(),(0,h.m)(De)||!De)Ne={next:De??void 0,error:se??void 0,complete:fe??void 0};else{let ee;this&&P.config.useDeprecatedNextContext?(ee=Object.create(De),ee.unsubscribe=()=>this.unsubscribe(),Ne={next:De.next&&Me(De.next,ee),error:De.error&&Me(De.error,ee),complete:De.complete&&Me(De.complete,ee)}):Ne=De}this.destination=new qe(Ne)}}function Ze(te){P.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(te):(0,J.h)(te)}function vt(te,De){const{onStoppedNotification:se}=P.config;se&&H.z.setTimeout(()=>se(te,De))}const lt={closed:!0,next:ie,error:function Pe(te){throw te},complete:ie}},7394:(pt,Ce,L)=>{L.d(Ce,{Lc:()=>pe,w0:()=>ie,Nn:()=>_e});var h=L(4674);const P=(0,L(2306).d)(ge=>function(G){ge(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ne,ke)=>`${ke+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var J=L(9039);class ie{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Me of G)Me.remove(this);else G.remove(this);const{initialTeardown:ne}=this;if((0,h.m)(ne))try{ne()}catch(Me){H=Me instanceof P?Me.errors:[Me]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Me of ke)try{Ae(Me)}catch(qe){H=H??[],qe instanceof P?H=[...H,...qe.errors]:H.push(qe)}}if(H)throw new P(H)}}add(H){var G;if(H&&H!==this)if(this.closed)Ae(H);else{if(H instanceof ie){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,J.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,J.P)(G,H),H instanceof ie&&H._removeParent(this)}}ie.EMPTY=(()=>{const ge=new ie;return ge.closed=!0,ge})();const pe=ie.EMPTY;function _e(ge){return ge instanceof ie||ge&&"closed"in ge&&(0,h.m)(ge.remove)&&(0,h.m)(ge.add)&&(0,h.m)(ge.unsubscribe)}function Ae(ge){(0,h.m)(ge)?ge():ge.unsubscribe()}},2653:(pt,Ce,L)=>{L.d(Ce,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(pt,Ce,L)=>{L.d(Ce,{E:()=>B});const B=new(L(5592).y)(ie=>ie.complete())},2459:(pt,Ce,L)=>{L.d(Ce,{D:()=>De});var h=L(4829),B=L(3093),P=L(5137),pe=L(5592),Ae=L(4971),ge=L(4674),H=L(7103);function ne(se,fe){if(!se)throw new Error("Iterable cannot be null");return new pe.y(Ne=>{(0,H.f)(Ne,fe,()=>{const ee=se[Symbol.asyncIterator]();(0,H.f)(Ne,fe,()=>{ee.next().then(et=>{et.done?Ne.complete():Ne.next(et.value)})},0,!0)})})}var ke=L(8382),Me=L(4026),qe=L(4266),xe=L(3664),Ze=L(5726),Pe=L(9853),vt=L(541);function De(se,fe){return fe?function te(se,fe){if(null!=se){if((0,ke.c)(se))return function J(se,fe){return(0,h.Xf)(se).pipe((0,P.R)(fe),(0,B.Q)(fe))}(se,fe);if((0,qe.z)(se))return function _e(se,fe){return new pe.y(Ne=>{let ee=0;return fe.schedule(function(){ee===se.length?Ne.complete():(Ne.next(se[ee++]),Ne.closed||this.schedule())})})}(se,fe);if((0,Me.t)(se))return function ie(se,fe){return(0,h.Xf)(se).pipe((0,P.R)(fe),(0,B.Q)(fe))}(se,fe);if((0,Ze.D)(se))return ne(se,fe);if((0,xe.T)(se))return function G(se,fe){return new pe.y(Ne=>{let ee;return(0,H.f)(Ne,fe,()=>{ee=se[Ae.h](),(0,H.f)(Ne,fe,()=>{let et,$e;try{({value:et,done:$e}=ee.next())}catch(Jt){return void Ne.error(Jt)}$e?Ne.complete():Ne.next(et)},0,!0)}),()=>(0,ge.m)(ee?.return)&&ee.return()})}(se,fe);if((0,vt.L)(se))return function lt(se,fe){return ne((0,vt.Q)(se),fe)}(se,fe)}throw(0,Pe.z)(se)}(se,fe):(0,h.Xf)(se)}},4829:(pt,Ce,L)=>{L.d(Ce,{Xf:()=>ke});var h=L(7582),B=L(4266),P=L(4026),J=L(5592),ie=L(8382),pe=L(5726),_e=L(9853),Ae=L(3664),ge=L(541),H=L(4674),G=L(3894),ne=L(4850);function ke(te){if(te instanceof J.y)return te;if(null!=te){if((0,ie.c)(te))return function Me(te){return new J.y(De=>{const se=te[ne.L]();if((0,H.m)(se.subscribe))return se.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,B.z)(te))return function qe(te){return new J.y(De=>{for(let se=0;se<te.length&&!De.closed;se++)De.next(te[se]);De.complete()})}(te);if((0,P.t)(te))return function xe(te){return new J.y(De=>{te.then(se=>{De.closed||(De.next(se),De.complete())},se=>De.error(se)).then(null,G.h)})}(te);if((0,pe.D)(te))return Pe(te);if((0,Ae.T)(te))return function Ze(te){return new J.y(De=>{for(const se of te)if(De.next(se),De.closed)return;De.complete()})}(te);if((0,ge.L)(te))return function vt(te){return Pe((0,ge.Q)(te))}(te)}throw(0,_e.z)(te)}function Pe(te){return new J.y(De=>{(function lt(te,De){var se,fe,Ne,ee;return(0,h.mG)(this,void 0,void 0,function*(){try{for(se=(0,h.KL)(te);!(fe=yield se.next()).done;)if(De.next(fe.value),De.closed)return}catch(et){Ne={error:et}}finally{try{fe&&!fe.done&&(ee=se.return)&&(yield ee.call(se))}finally{if(Ne)throw Ne.error}}De.complete()})})(te,De).catch(se=>De.error(se))})}},3019:(pt,Ce,L)=>{L.d(Ce,{T:()=>pe});var h=L(7537),B=L(4829),P=L(6232),J=L(4564),ie=L(2459);function pe(..._e){const Ae=(0,J.yG)(_e),ge=(0,J._6)(_e,1/0),H=_e;return H.length?1===H.length?(0,B.Xf)(H[0]):(0,h.J)(ge)((0,ie.D)(H,Ae)):P.E}},2096:(pt,Ce,L)=>{L.d(Ce,{of:()=>P});var h=L(4564),B=L(2459);function P(...J){const ie=(0,h.yG)(J);return(0,B.D)(J,ie)}},8251:(pt,Ce,L)=>{L.d(Ce,{x:()=>B});var h=L(1887);function B(J,ie,pe,_e,Ae){return new P(J,ie,pe,_e,Ae)}class P extends h.Lv{constructor(ie,pe,_e,Ae,ge,H){super(ie),this.onFinalize=ge,this.shouldUnsubscribe=H,this._next=pe?function(G){try{pe(G)}catch(ne){ie.error(ne)}}:super._next,this._error=Ae?function(G){try{Ae(G)}catch(ne){ie.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(G){ie.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},3997:(pt,Ce,L)=>{L.d(Ce,{x:()=>J});var h=L(2737),B=L(9360),P=L(8251);function J(pe,_e=h.y){return pe=pe??ie,(0,B.e)((Ae,ge)=>{let H,G=!0;Ae.subscribe((0,P.x)(ge,ne=>{const ke=_e(ne);(G||!pe(H,ke))&&(G=!1,H=ke,ge.next(ne))}))})}function ie(pe,_e){return pe===_e}},7398:(pt,Ce,L)=>{L.d(Ce,{U:()=>P});var h=L(9360),B=L(8251);function P(J,ie){return(0,h.e)((pe,_e)=>{let Ae=0;pe.subscribe((0,B.x)(_e,ge=>{_e.next(J.call(ie,ge,Ae++))}))})}},7537:(pt,Ce,L)=>{L.d(Ce,{J:()=>P});var h=L(1631),B=L(2737);function P(J=1/0){return(0,h.z)(B.y,J)}},1631:(pt,Ce,L)=>{L.d(Ce,{z:()=>Ae});var h=L(7398),B=L(4829),P=L(9360),J=L(7103),ie=L(8251),_e=L(4674);function Ae(ge,H,G=1/0){return(0,_e.m)(H)?Ae((ne,ke)=>(0,h.U)((Me,qe)=>H(ne,Me,ke,qe))((0,B.Xf)(ge(ne,ke))),G):("number"==typeof H&&(G=H),(0,P.e)((ne,ke)=>function pe(ge,H,G,ne,ke,Me,qe,xe){const Ze=[];let Pe=0,vt=0,lt=!1;const te=()=>{lt&&!Ze.length&&!Pe&&H.complete()},De=fe=>Pe<ne?se(fe):Ze.push(fe),se=fe=>{Me&&H.next(fe),Pe++;let Ne=!1;(0,B.Xf)(G(fe,vt++)).subscribe((0,ie.x)(H,ee=>{ke?.(ee),Me?De(ee):H.next(ee)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Pe--;Ze.length&&Pe<ne;){const ee=Ze.shift();qe?(0,J.f)(H,qe,()=>se(ee)):se(ee)}te()}catch(ee){H.error(ee)}}))};return ge.subscribe((0,ie.x)(H,De,()=>{lt=!0,te()})),()=>{xe?.()}}(ne,ke,ge,G)))}},3093:(pt,Ce,L)=>{L.d(Ce,{Q:()=>J});var h=L(7103),B=L(9360),P=L(8251);function J(ie,pe=0){return(0,B.e)((_e,Ae)=>{_e.subscribe((0,P.x)(Ae,ge=>(0,h.f)(Ae,ie,()=>Ae.next(ge),pe),()=>(0,h.f)(Ae,ie,()=>Ae.complete(),pe),ge=>(0,h.f)(Ae,ie,()=>Ae.error(ge),pe)))})}},3020:(pt,Ce,L)=>{L.d(Ce,{B:()=>ie});var h=L(4829),B=L(8645),P=L(1887),J=L(9360);function ie(_e={}){const{connector:Ae=(()=>new B.x),resetOnError:ge=!0,resetOnComplete:H=!0,resetOnRefCountZero:G=!0}=_e;return ne=>{let ke,Me,qe,xe=0,Ze=!1,Pe=!1;const vt=()=>{Me?.unsubscribe(),Me=void 0},lt=()=>{vt(),ke=qe=void 0,Ze=Pe=!1},te=()=>{const De=ke;lt(),De?.unsubscribe()};return(0,J.e)((De,se)=>{xe++,!Pe&&!Ze&&vt();const fe=qe=qe??Ae();se.add(()=>{xe--,0===xe&&!Pe&&!Ze&&(Me=pe(te,G))}),fe.subscribe(se),!ke&&xe>0&&(ke=new P.Hp({next:Ne=>fe.next(Ne),error:Ne=>{Pe=!0,vt(),Me=pe(lt,ge,Ne),fe.error(Ne)},complete:()=>{Ze=!0,vt(),Me=pe(lt,H),fe.complete()}}),(0,h.Xf)(De).subscribe(ke))})(ne)}}function pe(_e,Ae,...ge){if(!0===Ae)return void _e();if(!1===Ae)return;const H=new P.Hp({next:()=>{H.unsubscribe(),_e()}});return(0,h.Xf)(Ae(...ge)).subscribe(H)}},5137:(pt,Ce,L)=>{L.d(Ce,{R:()=>B});var h=L(9360);function B(P,J=0){return(0,h.e)((ie,pe)=>{pe.add(P.schedule(()=>ie.subscribe(pe),J))})}},4664:(pt,Ce,L)=>{L.d(Ce,{w:()=>J});var h=L(4829),B=L(9360),P=L(8251);function J(ie,pe){return(0,B.e)((_e,Ae)=>{let ge=null,H=0,G=!1;const ne=()=>G&&!ge&&Ae.complete();_e.subscribe((0,P.x)(Ae,ke=>{ge?.unsubscribe();let Me=0;const qe=H++;(0,h.Xf)(ie(ke,qe)).subscribe(ge=(0,P.x)(Ae,xe=>Ae.next(pe?pe(ke,xe,qe,Me++):xe),()=>{ge=null,ne()}))},()=>{G=!0,ne()}))})}},9397:(pt,Ce,L)=>{L.d(Ce,{b:()=>ie});var h=L(4674),B=L(9360),P=L(8251),J=L(2737);function ie(pe,_e,Ae){const ge=(0,h.m)(pe)||_e||Ae?{next:pe,error:_e,complete:Ae}:pe;return ge?(0,B.e)((H,G)=>{var ne;null===(ne=ge.subscribe)||void 0===ne||ne.call(ge);let ke=!0;H.subscribe((0,P.x)(G,Me=>{var qe;null===(qe=ge.next)||void 0===qe||qe.call(ge,Me),G.next(Me)},()=>{var Me;ke=!1,null===(Me=ge.complete)||void 0===Me||Me.call(ge),G.complete()},Me=>{var qe;ke=!1,null===(qe=ge.error)||void 0===qe||qe.call(ge,Me),G.error(Me)},()=>{var Me,qe;ke&&(null===(Me=ge.unsubscribe)||void 0===Me||Me.call(ge)),null===(qe=ge.finalize)||void 0===qe||qe.call(ge)}))}):J.y}},1954:(pt,Ce,L)=>{L.d(Ce,{o:()=>ie});var h=L(7394);class B extends h.w0{constructor(_e,Ae){super()}schedule(_e,Ae=0){return this}}const P={setInterval(pe,_e,...Ae){const{delegate:ge}=P;return ge?.setInterval?ge.setInterval(pe,_e,...Ae):setInterval(pe,_e,...Ae)},clearInterval(pe){const{delegate:_e}=P;return(_e?.clearInterval||clearInterval)(pe)},delegate:void 0};var J=L(9039);class ie extends B{constructor(_e,Ae){super(_e,Ae),this.scheduler=_e,this.work=Ae,this.pending=!1}schedule(_e,Ae=0){var ge;if(this.closed)return this;this.state=_e;const H=this.id,G=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(G,H,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(G,this.id,Ae),this}requestAsyncId(_e,Ae,ge=0){return P.setInterval(_e.flush.bind(_e,this),ge)}recycleAsyncId(_e,Ae,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return Ae;null!=Ae&&P.clearInterval(Ae)}execute(_e,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(_e,Ae);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Ae){let H,ge=!1;try{this.work(_e)}catch(G){ge=!0,H=G||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Ae}=this,{actions:ge}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(ge,this),null!=_e&&(this.id=this.recycleAsyncId(Ae,_e,null)),this.delay=null,super.unsubscribe()}}}},2631:(pt,Ce,L)=>{L.d(Ce,{v:()=>P});var h=L(4552);class B{constructor(ie,pe=B.now){this.schedulerActionCtor=ie,this.now=pe}schedule(ie,pe=0,_e){return new this.schedulerActionCtor(this,ie).schedule(_e,pe)}}B.now=h.l.now;class P extends B{constructor(ie,pe=B.now){super(ie,pe),this.actions=[],this._active=!1}flush(ie){const{actions:pe}=this;if(this._active)return void pe.push(ie);let _e;this._active=!0;do{if(_e=ie.execute(ie.state,ie.delay))break}while(ie=pe.shift());if(this._active=!1,_e){for(;ie=pe.shift();)ie.unsubscribe();throw _e}}}},6321:(pt,Ce,L)=>{L.d(Ce,{z:()=>P});var h=L(1954);const P=new(L(2631).v)(h.o)},4552:(pt,Ce,L)=>{L.d(Ce,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(pt,Ce,L)=>{L.d(Ce,{z:()=>h});const h={setTimeout(B,P,...J){const{delegate:ie}=h;return ie?.setTimeout?ie.setTimeout(B,P,...J):setTimeout(B,P,...J)},clearTimeout(B){const{delegate:P}=h;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},4971:(pt,Ce,L)=>{L.d(Ce,{h:()=>B});const B=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pt,Ce,L)=>{L.d(Ce,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(pt,Ce,L)=>{L.d(Ce,{_6:()=>pe,jO:()=>J,yG:()=>ie});var h=L(4674);function P(_e){return _e[_e.length-1]}function J(_e){return(0,h.m)(P(_e))?_e.pop():void 0}function ie(_e){return function B(_e){return _e&&(0,h.m)(_e.schedule)}(P(_e))?_e.pop():void 0}function pe(_e,Ae){return"number"==typeof P(_e)?_e.pop():Ae}},9039:(pt,Ce,L)=>{function h(B,P){if(B){const J=B.indexOf(P);0<=J&&B.splice(J,1)}}L.d(Ce,{P:()=>h})},2306:(pt,Ce,L)=>{function h(B){const J=B(ie=>{Error.call(ie),ie.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}L.d(Ce,{d:()=>h})},1441:(pt,Ce,L)=>{L.d(Ce,{O:()=>J,x:()=>P});var h=L(2653);let B=null;function P(ie){if(h.config.useDeprecatedSynchronousErrorHandling){const pe=!B;if(pe&&(B={errorThrown:!1,error:null}),ie(),pe){const{errorThrown:_e,error:Ae}=B;if(B=null,_e)throw Ae}}else ie()}function J(ie){h.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ie)}},7103:(pt,Ce,L)=>{function h(B,P,J,ie=0,pe=!1){const _e=P.schedule(function(){J(),pe?B.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(B.add(_e),!pe)return _e}L.d(Ce,{f:()=>h})},2737:(pt,Ce,L)=>{function h(B){return B}L.d(Ce,{y:()=>h})},4266:(pt,Ce,L)=>{L.d(Ce,{z:()=>h});const h=B=>B&&"number"==typeof B.length&&"function"!=typeof B},5726:(pt,Ce,L)=>{L.d(Ce,{D:()=>B});var h=L(4674);function B(P){return Symbol.asyncIterator&&(0,h.m)(P?.[Symbol.asyncIterator])}},4674:(pt,Ce,L)=>{function h(B){return"function"==typeof B}L.d(Ce,{m:()=>h})},8382:(pt,Ce,L)=>{L.d(Ce,{c:()=>P});var h=L(4850),B=L(4674);function P(J){return(0,B.m)(J[h.L])}},3664:(pt,Ce,L)=>{L.d(Ce,{T:()=>P});var h=L(4971),B=L(4674);function P(J){return(0,B.m)(J?.[h.h])}},4026:(pt,Ce,L)=>{L.d(Ce,{t:()=>B});var h=L(4674);function B(P){return(0,h.m)(P?.then)}},541:(pt,Ce,L)=>{L.d(Ce,{L:()=>J,Q:()=>P});var h=L(7582),B=L(4674);function P(ie){return(0,h.FC)(this,arguments,function*(){const _e=ie.getReader();try{for(;;){const{value:Ae,done:ge}=yield(0,h.qq)(_e.read());if(ge)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Ae)}}finally{_e.releaseLock()}})}function J(ie){return(0,B.m)(ie?.getReader)}},9360:(pt,Ce,L)=>{L.d(Ce,{A:()=>B,e:()=>P});var h=L(4674);function B(J){return(0,h.m)(J?.lift)}function P(J){return ie=>{if(B(ie))return ie.lift(function(pe){try{return J(pe,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(pt,Ce,L)=>{L.d(Ce,{U:()=>P,z:()=>B});var h=L(2737);function B(...J){return P(J)}function P(J){return 0===J.length?h.y:1===J.length?J[0]:function(pe){return J.reduce((_e,Ae)=>Ae(_e),pe)}}},3894:(pt,Ce,L)=>{L.d(Ce,{h:()=>P});var h=L(2653),B=L(7599);function P(J){B.z.setTimeout(()=>{const{onUnhandledError:ie}=h.config;if(!ie)throw J;ie(J)})}},9853:(pt,Ce,L)=>{function h(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>h})},5879:(pt,Ce,L)=>{L.d(Ce,{$8M:()=>ac,$WT:()=>As,$Z:()=>jv,AFp:()=>Rp,ALo:()=>wu,AaK:()=>ne,AsE:()=>ar,CHM:()=>wl,CRH:()=>dw,EJc:()=>hn,EpF:()=>_D,F4k:()=>f0,FYo:()=>qT,FiY:()=>ms,GfV:()=>dI,Gpc:()=>qe,HDt:()=>xg,JOm:()=>la,KtG:()=>Wu,LFG:()=>Pn,LSH:()=>_v,Lbi:()=>Sv,Lck:()=>nA,MAs:()=>hy,MGl:()=>Qp,MMx:()=>aC,MR2:()=>vv,NdJ:()=>Wh,Ojb:()=>BT,OlP:()=>In,Oqu:()=>td,P3R:()=>KE,PXZ:()=>JC,Q6J:()=>fy,QGY:()=>yu,Qsj:()=>xR,R0b:()=>$i,RDi:()=>jE,Rgc:()=>cf,SBq:()=>jm,Sil:()=>bA,Suo:()=>Dg,TTD:()=>ju,TgZ:()=>$h,VuI:()=>yi,X6Q:()=>Nw,XFs:()=>Ke,Xpm:()=>Yo,Xq5:()=>XI,Xts:()=>Mp,Y36:()=>Ec,YKP:()=>sC,YNc:()=>d0,Yjl:()=>Bf,Yz7:()=>Xt,Z0I:()=>Bn,ZZ4:()=>Cf,_Bn:()=>tw,_UZ:()=>gy,_c5:()=>Sf,_uU:()=>rg,aQg:()=>Aa,c2e:()=>WC,cJS:()=>dr,cg1:()=>$0,dDg:()=>Ta,dqk:()=>Wt,eFA:()=>tb,eJc:()=>u_,ekj:()=>T0,eoX:()=>w_,f3M:()=>Yt,g9A:()=>Fm,h0i:()=>nf,hGG:()=>cb,hij:()=>Ry,iGM:()=>lf,ifc:()=>wt,ip1:()=>m_,jDz:()=>uC,kL8:()=>Ly,lG2:()=>Mu,lcZ:()=>qo,lqb:()=>yc,lri:()=>Cw,n5z:()=>Xa,oAB:()=>Pa,oxw:()=>qh,q4F:()=>hI,qFp:()=>Zw,qLn:()=>Ch,qOj:()=>n0,qZA:()=>Hh,rWj:()=>vf,rg0:()=>em,s9C:()=>_y,sBO:()=>sb,s_b:()=>n_,soG:()=>gr,tb:()=>Tw,tp0:()=>ys,uIk:()=>hi,vHH:()=>te,vpe:()=>vo,wAp:()=>Mt,xi3:()=>af,xp6:()=>wI,z2F:()=>wf,zSh:()=>Ev,zs3:()=>wc});var h=L(8645),B=L(7394),P=L(5619),J=L(5592),ie=L(3019),pe=L(2096),_e=L(3020),Ae=L(4664),ge=L(3997);function H(i){for(let o in i)if(i[o]===H)return o;throw Error("Could not find renamed property on target object.")}function G(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ke(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Me=H({__forward_ref__:H});function qe(i){return i.__forward_ref__=qe,i.toString=function(){return ne(this())},i}function xe(i){return Ze(i)?i():i}function Ze(i){return"function"==typeof i&&i.hasOwnProperty(Me)&&i.__forward_ref__===qe}function Pe(i){return i&&!!i.\u0275providers}const lt="https://g.co/ng/security#xss";class te extends Error{constructor(o,a){super(function De(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function $e(i,o){throw new te(-201,!1)}function tt(i,o){null==i&&function gt(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function dr(i){return{providers:i.providers||[],imports:i.imports||[]}}function tr(i){return Ai(i,Ar)||Ai(i,Wr)}function Bn(i){return null!==tr(i)}function Ai(i,o){return i.hasOwnProperty(o)?i[o]:null}function Gi(i){return i&&(i.hasOwnProperty(jn)||i.hasOwnProperty(os))?i[jn]:null}const Ar=H({\u0275prov:H}),jn=H({\u0275inj:H}),Wr=H({ngInjectableDef:H}),os=H({ngInjectorDef:H});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let dt;function Kt(i){const o=dt;return dt=i,o}function nr(i,o,a){const c=tr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ke.Optional?null:void 0!==o?o:void $e(ne(i))}const Wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ur={},kt="__NG_DI_FLAG__",Un="ngTempTokenPath",Ts=/\n/gm,$n="__source";let Dn;function Nn(i){const o=Dn;return Dn=i,o}function rr(i,o=Ke.Default){if(void 0===Dn)throw new te(-203,!1);return null===Dn?nr(i,void 0,o):Dn.get(i,o&Ke.Optional?null:void 0,o)}function Pn(i,o=Ke.Default){return(function Dt(){return dt}()||rr)(xe(i),o)}function Yt(i,o=Ke.Default){return Pn(i,z(o))}function z(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function j(i){const o=[];for(let a=0;a<i.length;a++){const c=xe(i[a]);if(Array.isArray(c)){if(0===c.length)throw new te(900,!1);let d,f=Ke.Default;for(let y=0;y<c.length;y++){const w=c[y],D=F(w);"number"==typeof D?-1===D?d=w.token:f|=D:d=w}o.push(Pn(d,f))}else o.push(Pn(c))}return o}function k(i,o){return i[kt]=o,i.prototype[kt]=o,i}function F(i){return i[kt]}function ve(i){return{toString:i}.toString()}var We=(()=>((We=We||{})[We.OnPush=0]="OnPush",We[We.Default=1]="Default",We))(),wt=(()=>{return(i=wt||(wt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",wt;var i})();const yt={},ht=[],xt=H({\u0275cmp:H}),_n=H({\u0275dir:H}),Lt=H({\u0275pipe:H}),_r=H({\u0275mod:H}),xr=H({\u0275fac:H}),he=H({__NG_ELEMENT_ID__:H}),re=H({__NG_ENV_ID__:H});function Fe(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function ft(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],y=a[c++],w=a[c++];i.setAttribute(o,y,w,f)}else{const f=d,y=a[++c];jt(f)?i.setProperty(o,f,y):i.setAttribute(o,f,y),c++}}return c}function Rt(i){return 3===i||4===i||6===i}function jt(i){return 64===i.charCodeAt(0)}function nn(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||vr(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function vr(i,o,a,c,d){let f=0,y=i.length;if(-1===o)y=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,o),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const Hn="ng-template";function Ks(i,o,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const y=i[c++];if(a&&"class"===f&&-1!==Fe(y.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Io(i){return 4===i.type&&i.value!==Hn}function xa(i,o,a){return o===(4!==i.type||a?i.value:Hn)}function Sd(i,o,a){let c=4;const d=i.attrs||[],f=function Ra(i){for(let o=0;o<i.length;o++)if(Rt(i[o]))return o;return i.length}(d);let y=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!y)if(4&c){if(c=2|1&c,""!==D&&!xa(i,D,a)||""===D&&1===o.length){if(ri(c))return!1;y=!0}}else{const S=8&c?D:o[++w];if(8&c&&null!==i.attrs){if(!Ks(i.attrs,S,a)){if(ri(c))return!1;y=!0}continue}const V=Ys(8&c?"class":D,d,Io(i),a);if(-1===V){if(ri(c))return!1;y=!0;continue}if(""!==S){let q;q=V>f?"":d[V+1].toLowerCase();const Q=8&c?q:null;if(Q&&-1!==Fe(Q,S,0)||2&c&&S!==q){if(ri(c))return!1;y=!0}}}}else{if(!y&&!ri(c)&&!ri(D))return!1;if(y&&ri(D))continue;y=!1,c=D|1&c}}return ri(c)||y}function ri(i){return 0==(1&i)}function Ys(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let f=!1;for(;d<o.length;){const y=o[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function Kn(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function Do(i,o,a=!1){for(let c=0;c<o.length;c++)if(Sd(i,o[c],a))return!0;return!1}function Ss(i,o){return i?":not("+o.trim()+")":o}function Qg(i){let o=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const w=i[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!ri(y)&&(o+=Ss(f,d),d=""),c=y,f=f||!ri(c);a++}return""!==d&&(o+=Ss(f,d)),o}function Yo(i){return ve(()=>{const o=xd(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===We.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||wt.Emulated,styles:i.styles||ht,_:null,schemas:i.schemas||null,tView:null,id:""};Oa(a);const c=i.dependencies;return a.directiveDefs=Qo(c,!1),a.pipeDefs=Qo(c,!0),a.id=function xu(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function Vf(i){return Ut(i)||wr(i)}function Na(i){return null!==i}function Pa(i){return ve(()=>({type:i.type,bootstrap:i.bootstrap||ht,declarations:i.declarations||ht,imports:i.imports||ht,exports:i.exports||ht,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Au(i,o){if(null==i)return yt;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,o&&(o[d]=f)}return a}function Mu(i){return ve(()=>{const o=xd(i);return Oa(o),o})}function Bf(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ut(i){return i[xt]||null}function wr(i){return i[_n]||null}function gn(i){return i[Lt]||null}function As(i){const o=Ut(i)||wr(i)||gn(i);return null!==o&&o.standalone}function Zr(i,o){const a=i[_r]||null;if(!a&&!0===o)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return a}function xd(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||yt,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||ht,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Au(i.inputs,o),outputs:Au(i.outputs)}}function Oa(i){i.features?.forEach(o=>o(i))}function Qo(i,o){if(!i)return null;const a=o?gn:Vf;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Na)}const Yn=0,it=1,Pt=2,An=3,Kr=4,Ru=5,Rr=6,Ms=7,vn=8,qi=9,Co=10,Tt=11,Fa=12,Nu=13,Qs=14,On=15,Pu=16,bo=17,us=18,Jo=19,Ou=20,Nr=21,Yr=22,Jc=23,Zi=24,sn=25,cs=1,To=2,wi=7,Xo=9,Pr=11;function Vr(i){return Array.isArray(i)&&"object"==typeof i[cs]}function Br(i){return Array.isArray(i)&&!0===i[cs]}function Xc(i){return 0!=(4&i.flags)}function Ki(i){return i.componentOffset>-1}function Js(i){return 1==(1&i.flags)}function Cn(i){return!!i.template}function ta(i){return 0!=(512&i[Pt])}function Xs(i,o){return i.hasOwnProperty(xr)?i[xr]:null}let Va=Wt.WeakRef??class Ua{constructor(o){this.ref=o}deref(){return this.ref}},Lu=0,Mi=null,Uu=!1;function Gn(i){const o=Mi;return Mi=i,o}class Ei{constructor(){this.id=Lu++,this.ref=function Gf(i){return new Va(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,a]of this.producers){const c=a.producerNode.deref();if(void 0!==c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(o),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Uu;Uu=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{Uu=o}}producerAccessed(){if(Uu)throw new Error("");if(null===Mi)return;let o=Mi.producers.get(this.id);void 0===o?(o={consumerNode:Mi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Mi.trackingVersion},Mi.producers.set(this.id,o),this.consumers.set(Mi.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Mi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Mi?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let Ld=null;function em(i){const o=Gn(null);try{return i()}finally{Gn(o)}}const Ba=()=>{};class Zf extends Ei{constructor(o,a,c){super(),this.watch=o,this.schedule=a,this.dirty=!1,this.cleanupFn=Ba,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=Gn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ba,this.watch(this.registerOnCleanup)}finally{Gn(o)}}cleanup(){this.cleanupFn()}}class ja{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ju(){return na}function na(i){return i.type.prototype.ngOnChanges&&(i.setInput=hl),dl}function dl(){const i=fl(this),o=i?.current;if(o){const a=i.previous;if(a===yt)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function hl(i,o,a,c){const d=this.declaredInputs[a],f=fl(i)||function Vd(i,o){return i[Kf]=o}(i,{previous:yt,current:null}),y=f.current||(f.current={}),w=f.previous,D=w[d];y[d]=new ja(D&&D.currentValue,o,w===yt),i[c]=o}ju.ngInherit=!0;const Kf="__ngSimpleChanges__";function fl(i){return i[Kf]||null}const Yi=function(i,o,a){};function wn(i){for(;Array.isArray(i);)i=i[Yn];return i}function ra(i,o){return wn(o[i])}function jr(i,o){return wn(o[i.index])}function Bd(i,o){return i.data[o]}function no(i,o){return i[o]}function xi(i,o){const a=o[i];return Vr(a)?a:a[Yn]}function ds(i,o){return null==o?null:i[o]}function Hd(i){i[bo]=0}function yl(i){1024&i[Pt]||(i[Pt]|=1024,sa(i,1))}function Hu(i){1024&i[Pt]&&(i[Pt]&=-1025,sa(i,-1))}function sa(i,o){let a=i[An];if(null===a)return;a[Ru]+=o;let c=a;for(a=a[An];null!==a&&(1===o&&1===c[Ru]||-1===o&&0===c[Ru]);)a[Ru]+=o,c=a,a=a[An]}const At={lFrame:Dl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $a(){return At.bindingsEnabled}function Se(){return At.lFrame.lView}function en(){return At.lFrame.tView}function wl(i){return At.lFrame.contextLView=i,i[vn]}function Wu(i){return At.lFrame.contextLView=null,i}function hr(){let i=ep();for(;null!==i&&64===i.type;)i=i.parent;return i}function ep(){return At.lFrame.currentTNode}function Qr(i,o){const a=At.lFrame;a.currentTNode=i,a.isParent=o}function tp(){return At.lFrame.isParent}function Or(){const i=At.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function kn(){return At.lFrame.bindingIndex++}function fs(i){const o=At.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function za(i,o){const a=At.lFrame;a.bindingIndex=a.bindingRootIndex=i,Zd(o)}function Zd(i){At.lFrame.currentDirectiveIndex=i}function Yu(){return At.lFrame.currentQueryIndex}function ro(i){At.lFrame.currentQueryIndex=i}function io(i){const o=i[it];return 2===o.type?o.declTNode:1===o.type?i[Rr]:null}function oa(i,o,a){if(a&Ke.SkipSelf){let d=o,f=i;for(;!(d=d.parent,null!==d||a&Ke.Host||(d=io(f),null===d||(f=f[Qs],10&d.type))););if(null===d)return!1;o=d,i=f}const c=At.lFrame=Ju();return c.currentTNode=o,c.lView=i,!0}function Qu(i){const o=Ju(),a=i[it];At.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ju(){const i=At.lFrame,o=null===i?null:i.child;return null===o?Dl(i):o}function Dl(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function nm(){const i=At.lFrame;return At.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Kd=nm;function Yd(){const i=nm();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function si(){return At.lFrame.selectedIndex}function so(i){At.lFrame.selectedIndex=i}function Mn(){const i=At.lFrame;return Bd(i.tView,i.selectedIndex)}let Cl=!0;function Wa(){return Cl}function Ro(i){Cl=i}function Xu(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=f;y&&(i.contentHooks??=[]).push(-a,y),w&&((i.contentHooks??=[]).push(a,w),(i.contentCheckHooks??=[]).push(a,w)),D&&(i.viewHooks??=[]).push(-a,D),S&&((i.viewHooks??=[]).push(a,S),(i.viewCheckHooks??=[]).push(a,S)),null!=R&&(i.destroyHooks??=[]).push(a,R)}}function qa(i,o,a){ln(i,o,3,a)}function bl(i,o,a,c){(3&i[Pt])===a&&ln(i,o,a,c)}function ec(i,o){let a=i[Pt];(3&a)===o&&(a&=8191,a+=1,i[Pt]=a)}function ln(i,o,a,c){const f=c??-1,y=o.length-1;let w=0;for(let D=void 0!==c?65535&i[bo]:0;D<y;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=c&&w>=c)break}else o[D]<0&&(i[bo]+=65536),(w<f||-1==f)&&(Tl(i,a,o,D),i[bo]=(4294901760&i[bo])+D+2),D++}function oi(i,o){Yi(4,i,o);const a=Gn(null);try{o.call(i)}finally{Gn(a),Yi(5,i,o)}}function Tl(i,o,a,c){const d=a[c]<0,f=a[c+1],w=i[d?-a[c]:a[c]];d?i[Pt]>>13<i[bo]>>16&&(3&i[Pt])===o&&(i[Pt]+=8192,oi(w,f)):oi(w,f)}const oo=-1;class No{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function tc(i){return i!==oo}function ai(i){return 32767&i}function Qa(i,o){let a=function Al(i){return i>>16}(i),c=o;for(;a>0;)c=c[Qs],a--;return c}let xs=!0;function Ni(i){const o=xs;return xs=i,o}const Ji=255,Oo=5;let im=0;const Pi={};function gs(i,o){const a=Ml(i,o);if(-1!==a)return a;const c=o[it];c.firstCreatePass&&(i.injectorIndex=o.length,Oi(c.data,i),Oi(o,null),Oi(c.blueprint,null));const d=Fn(i,o),f=i.injectorIndex;if(tc(d)){const y=ai(d),w=Qa(d,o),D=w[it].data;for(let S=0;S<8;S++)o[f+S]=w[y+S]|D[y+S]}return o[f+8]=d,f}function Oi(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Ml(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Fn(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=oc(d),null===c)return oo;if(a++,d=d[Qs],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return oo}function Rs(i,o,a){!function rp(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(he)&&(c=a[he]),null==c&&(c=a[he]=im++);const d=c&Ji;o.data[i+(d>>Oo)]|=1<<d}(i,o,a)}function Ja(i,o,a){if(a&Ke.Optional||void 0!==i)return i;$e()}function nc(i,o,a,c){if(a&Ke.Optional&&void 0===c&&(c=null),!(a&(Ke.Self|Ke.Host))){const d=i[qi],f=Kt(void 0);try{return d?d.get(o,c,a&Ke.Optional):nr(o,c,a&Ke.Optional)}finally{Kt(f)}}return Ja(c,0,a)}function rc(i,o,a,c=Ke.Default,d){if(null!==i){if(2048&o[Pt]&&!(c&Ke.Self)){const y=function ip(i,o,a,c,d){let f=i,y=o;for(;null!==f&&null!==y&&2048&y[Pt]&&!(512&y[Pt]);){const w=rh(f,y,a,c|Ke.Self,Pi);if(w!==Pi)return w;let D=f.parent;if(!D){const S=y[Ou];if(S){const R=S.get(a,Pi,c);if(R!==Pi)return R}D=oc(y),y=y[Qs]}f=D}return d}(i,o,a,c,Pi);if(y!==Pi)return y}const f=rh(i,o,a,c,Pi);if(f!==Pi)return f}return nc(o,a,c,d)}function rh(i,o,a,c,d){const f=function xl(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(he)?i[he]:void 0;return"number"==typeof o?o>=0?o&Ji:sh:o}(a);if("function"==typeof f){if(!oa(o,i,c))return c&Ke.Host?Ja(d,0,c):nc(o,a,c,d);try{const y=f(c);if(null!=y||c&Ke.Optional)return y;$e()}finally{Kd()}}else if("number"==typeof f){let y=null,w=Ml(i,o),D=oo,S=c&Ke.Host?o[On][Rr]:null;for((-1===w||c&Ke.SkipSelf)&&(D=-1===w?Fn(i,o):o[w+8],D!==oo&&ko(c,!1)?(y=o[it],w=ai(D),o=Qa(D,o)):w=-1);-1!==w;){const R=o[it];if(ic(f,w,R.data)){const V=ih(w,o,a,y,c,S);if(V!==Pi)return V}D=o[w+8],D!==oo&&ko(c,o[it].data[w+8]===S)&&ic(f,w,o)?(y=R,w=ai(D),o=Qa(D,o)):w=-1}}return d}function ih(i,o,a,c,d,f){const y=o[it],w=y.data[i+8],R=aa(w,y,a,null==c?Ki(w)&&xs:c!=y&&0!=(3&w.type),d&Ke.Host&&f===w);return null!==R?uo(o,y,R,w):Pi}function aa(i,o,a,c,d){const f=i.providerIndexes,y=o.data,w=1048575&f,D=i.directiveStart,R=f>>20,q=d?w+R:i.directiveEnd;for(let Q=c?w:w+R;Q<q;Q++){const Ie=y[Q];if(Q<D&&a===Ie||Q>=D&&Ie.type===a)return Q}if(d){const Q=y[D];if(Q&&Cn(Q)&&Q.type===a)return D}return null}function uo(i,o,a,c){let d=i[a];const f=o.data;if(function Sl(i){return i instanceof No}(d)){const y=d;y.resolving&&function Ne(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function fe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}(f[a]));const w=Ni(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Kt(y.injectImpl):null;oa(i,c,Ke.Default);try{d=i[a]=y.factory(void 0,f,i,c),o.firstCreatePass&&a>=c.directiveStart&&function nh(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const y=na(o);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],o)}finally{null!==D&&Kt(D),Ni(w),y.resolving=!1,Kd()}}return d}function ic(i,o,a){return!!(a[o+(i>>Oo)]&1<<i)}function ko(i,o){return!(i&Ke.Self||i&Ke.Host&&o)}class Fo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return rc(this._tNode,this._lView,o,z(c),a)}}function sh(){return new Fo(hr(),Se())}function Xa(i){return ve(()=>{const o=i.prototype.constructor,a=o[xr]||sc(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[xr]||sc(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function sc(i){return Ze(i)?()=>{const o=sc(xe(i));return o&&o()}:Xs(i)}function oc(i){const o=i[it],a=o.type;return 2===a?o.declTNode:1===a?i[Rr]:null}function ac(i){return function sm(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(Rt(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===o)return a[d+1];d+=2}}}return null}(hr(),i)}const Ns="__parameters__";function Ps(i,o,a){return ve(()=>{const c=function ua(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const y=new d(...f);return w.annotation=y,w;function w(D,S,R){const V=D.hasOwnProperty(Ns)?D[Ns]:Object.defineProperty(D,Ns,{value:[]})[Ns];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function ru(i,o){i.forEach(a=>Array.isArray(a)?ru(a,o):o(a))}function Uo(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function Ol(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function E(i,o,a){let c=A(i,o);return c>=0?i[1|c]=a:(c=~c,function am(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function b(i,o){const a=A(i,o);if(a>=0)return i[1|a]}function A(i,o){return function W(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),y=i[f<<a];if(o===y)return f<<a;y>o?d=f:c=f+1}return~(d<<a)}(i,o,1)}const ms=k(Ps("Optional"),8),ys=k(Ps("SkipSelf"),4);function fm(i){return 128==(128&i.flags)}var la=(()=>((la=la||{})[la.Important=1]="Important",la[la.DashCase=2]="DashCase",la))();const gm=new Map;let dT=0;const ym="__ngContext__";function Fi(i,o){Vr(o)?(i[ym]=o[Jo],function EE(i){gm.set(i[Jo],i)}(o)):i[ym]=o}let wp;function rv(i,o){return wp(i,o)}function ah(i){const o=i[An];return Br(o)?o[An]:o}function wm(i){return iv(i[Fa])}function RE(i){return iv(i[Kr])}function iv(i){for(;null!==i&&!Br(i);)i=i[Kr];return i}function jl(i,o,a,c,d){if(null!=c){let f,y=!1;Br(c)?f=c:Vr(c)&&(y=!0,c=c[Yn]);const w=wn(c);0===i&&null!==a?null==d?IT(o,a,w):uh(o,a,w,d||null,!0):1===i&&null!==a?uh(o,a,w,d||null,!0):2===i?function bt(i,o,a){const c=cv(i,o);c&&function DT(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,w,y):3===i&&o.destroyNode(w),null!=f&&function VE(i,o,a,c,d){const f=a[wi];f!==wn(a)&&jl(o,i,c,f,d);for(let w=Pr;w<a.length;w++){const D=a[w];Ip(D[it],D,i,o,c,f)}}(o,i,f,a,d)}}function Im(i,o,a){return i.createElement(o,a)}function Dm(i,o){const a=i[Xo],c=a.indexOf(o);Hu(o),a.splice(c,1)}function sv(i,o){if(i.length<=Pr)return;const a=Pr+o,c=i[a];if(c){const d=c[Pu];null!==d&&d!==i&&Dm(d,c),o>0&&(i[a-1][Kr]=c[Kr]);const f=Ol(i,Pr+o);!function PE(i,o){Ip(i,o,o[Tt],2,null,null),o[Yn]=null,o[Rr]=null}(c[it],c);const y=f[us];null!==y&&y.detachView(f[it]),c[An]=null,c[Kr]=null,c[Pt]&=-129}return c}function ov(i,o){if(!(256&o[Pt])){const a=o[Tt];o[Jc]?.destroy(),o[Zi]?.destroy(),a.destroyNode&&Ip(i,o,a,3,null,null),function Ep(i){let o=i[Fa];if(!o)return av(i[it],i);for(;o;){let a=null;if(Vr(o))a=o[Fa];else{const c=o[Pr];c&&(a=c)}if(!a){for(;o&&!o[Kr]&&o!==i;)Vr(o)&&av(o[it],o),o=o[An];null===o&&(o=i),Vr(o)&&av(o[it],o),a=o&&o[Kr]}o=a}}(o)}}function av(i,o){if(!(256&o[Pt])){o[Pt]&=-129,o[Pt]|=256,function wT(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof No)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=d[f[y]],D=f[y+1];Yi(4,w,D);try{D.call(w)}finally{Yi(5,w,D)}}else{Yi(4,d,f);try{f.call(d)}finally{Yi(5,d,f)}}}}}(i,o),function uv(i,o){const a=i.cleanup,c=o[Ms];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(o[Ms]=null);const d=o[Nr];if(null!==d){o[Nr]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,o),1===o[it].type&&o[Tt].destroy();const a=o[Pu];if(null!==a&&Br(o[An])){a!==o[An]&&Dm(a,o);const c=o[us];null!==c&&c.detachView(i)}!function DE(i){gm.delete(i[Jo])}(o)}}function Cm(i,o,a){return function ET(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[Yn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===wt.None||f===wt.Emulated)return null}return jr(c,a)}}(i,o.parent,a)}function uh(i,o,a,c,d){i.insertBefore(o,a,c,d)}function IT(i,o,a){i.appendChild(o,a)}function kE(i,o,a,c,d){null!==c?uh(i,o,a,c,d):IT(i,o,a)}function cv(i,o){return i.parentNode(o)}let FE,Dp,pr,TT=function bT(i,o,a){return 40&i.type?jr(i,a):null};function lv(i,o,a,c){const d=Cm(i,c,o),f=o[Tt],w=function CT(i,o,a){return TT(i,o,a)}(c.parent||o[Rr],c,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)kE(f,d,a[D],w,!1);else kE(f,d,a,w,!1);void 0!==FE&&FE(f,c,o,a,d)}function $r(i,o){if(null!==o){const a=o.type;if(3&a)return jr(o,i);if(4&a)return dv(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return $r(i,c);{const d=i[o.index];return Br(d)?dv(-1,d):wn(d)}}if(32&a)return rv(o,i)()||wn(i[o.index]);{const c=ch(i,o);return null!==c?Array.isArray(c)?c[0]:$r(ah(i[On]),c):$r(i,o.next)}}return null}function ch(i,o){return null!==o?i[On][Rr].projection[o.projection]:null}function dv(i,o){const a=Pr+i+1;if(a<o.length){const c=o[a],d=c[it].firstChild;if(null!==d)return $r(c,d)}return o[wi]}function lh(i,o,a,c,d,f,y){for(;null!=a;){const w=c[a.index],D=a.type;if(y&&0===o&&(w&&Fi(wn(w),c),a.flags|=2),32!=(32&a.flags))if(8&D)lh(i,o,a.child,c,d,f,!1),jl(o,i,d,w,f);else if(32&D){const S=rv(a,c);let R;for(;R=S();)jl(o,i,d,R,f);jl(o,i,d,w,f)}else 16&D?UE(i,o,c,a,d,f):jl(o,i,d,w,f);a=y?a.projectionNext:a.next}}function Ip(i,o,a,c,d,f){lh(a,c,i.firstChild,o,d,f,!1)}function UE(i,o,a,c,d,f){const y=a[On],D=y[Rr].projection[c.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)jl(o,i,d,D[S],f);else{let S=D;const R=y[An];fm(c)&&(S.flags|=128),lh(i,o,S,R,d,f,!0)}}function dh(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function BE(i,o,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&ft(i,o,c),null!==d&&dh(i,o,d),null!==f&&function bm(i,o,a){i.setAttribute(o,"style",a)}(i,o,f)}function jE(i){Dp=i}function Li(i){return function uu(){if(void 0===pr&&(pr=null,Wt.trustedTypes))try{pr=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return pr}()?.createScriptURL(i)||i}class bp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Ui(i){return i instanceof bp?i.changingThisBreaksApplicationSecurity:i}function Tp(i,o){const a=function Sm(i){return i instanceof bp&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${lt})`)}return a===o}const NT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function _v(i){const o=Ap();return o?o.sanitize(or.URL,i)||"":Tp(i,"URL")?Ui(i):function fo(i){return(i=String(i)).match(NT)?i:"unsafe:"+i}(se(i))}function Rm(i){const o=Ap();if(o)return Li(o.sanitize(or.RESOURCE_URL,i)||"");if(Tp(i,"ResourceURL"))return Li(Ui(i));throw new te(904,!1)}function KE(i,o,a){return function LT(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Rm:_v}(o,a)(i)}function Ap(){const i=Se();return i&&i[Co].sanitizer}class In{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mp=new In("ENVIRONMENT_INITIALIZER"),QE=new In("INJECTOR",-1),JE=new In("INJECTOR_DEF_TYPES");class XE{get(o,a=Ur){if(a===Ur){const c=new Error(`NullInjectorError: No provider for ${ne(o)}!`);throw c.name="NullInjectorError",c}return a}}function vv(i){return{\u0275providers:i}}function eI(...i){return{\u0275providers:wv(0,i),\u0275fromNgModule:!0}}function wv(i,...o){const a=[],c=new Set;let d;return ru(o,f=>{const y=f;lu(y,a,[],c)&&(d||=[],d.push(y))}),void 0!==d&&tI(d,a),a}function tI(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];Pm(d,f=>{o.push(f)})}}function lu(i,o,a,c){if(!(i=xe(i)))return!1;let d=null,f=Gi(i);const y=!f&&Ut(i);if(f||y){if(y&&!y.standalone)return!1;d=i}else{const D=i.ngModule;if(f=Gi(D),!f)return!1;d=D}const w=c.has(d);if(y){if(w)return!1;if(c.add(d),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of D)lu(S,o,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let S;c.add(d);try{ru(f.imports,R=>{lu(R,o,a,c)&&(S||=[],S.push(R))})}finally{}void 0!==S&&tI(S,o)}if(!w){const S=Xs(d)||(()=>new d);o.push({provide:d,useFactory:S,deps:ht},{provide:JE,useValue:d,multi:!0},{provide:Mp,useValue:()=>Pn(d),multi:!0})}const D=f.providers;null==D||w||Pm(D,R=>{o.push(R)})}}return d!==i&&void 0!==i.providers}function Pm(i,o){for(let a of i)Pe(a)&&(a=a.\u0275providers),Array.isArray(a)?Pm(a,o):o(a)}const nI=H({provide:String,useValue:H});function wh(i){return null!==i&&"object"==typeof i&&nI in i}function mc(i){return"function"==typeof i}const Ev=new In("Set Injector scope."),zl={},UT={};let Iv;function km(){return void 0===Iv&&(Iv=new XE),Iv}class yc{}class Gl extends yc{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,du(o,y=>this.processProvider(y)),this.records.set(QE,Wl(void 0,this)),d.has("environment")&&this.records.set(yc,Wl(void 0,this));const f=this.records.get(Ev);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(JE.multi,ht,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=Nn(this),c=Kt(void 0);try{return o()}finally{Nn(a),Kt(c)}}get(o,a=Ur,c=Ke.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(re))return o[re](this);c=z(c);const d=Nn(this),f=Kt(void 0);try{if(!(c&Ke.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function Tv(i){return"function"==typeof i||"object"==typeof i&&i instanceof In}(o)&&tr(o);w=D&&this.injectableDefInScope(D)?Wl(Dv(o),zl):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&Ke.Self?km():this.parent).get(o,a=c&Ke.Optional&&a===Ur?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Un]=y[Un]||[]).unshift(ne(o)),d)throw y;return function N(i,o,a,c){const d=i[Un];throw o[$n]&&d.unshift(o[$n]),i.message=function X(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ne(o);if(Array.isArray(o))d=o.map(ne).join(" -> ");else if("object"==typeof o){let f=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):ne(w)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Ts,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Un]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{Kt(f),Nn(d)}}resolveInjectorInitializers(){const o=Nn(this),a=Kt(void 0);try{const c=this.get(Mp.multi,ht,Ke.Self);for(const d of c)d()}finally{Nn(o),Kt(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ne(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(o){let a=mc(o=xe(o))?o:xe(o&&o.provide);const c=function VT(i){return wh(i)?Wl(void 0,i.useValue):Wl(bv(i),zl)}(o);if(mc(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Wl(void 0,zl,!0),d.factory=()=>j(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===zl&&(a.value=UT,a.value=a.factory()),"object"==typeof a.value&&a.value&&function fa(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=xe(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Dv(i){const o=tr(i),a=null!==o?o.factory:Xs(i);if(null!==a)return a;if(i instanceof In)throw new te(204,!1);if(i instanceof Function)return function Cv(i){const o=i.length;if(o>0)throw function kl(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new te(204,!1);const a=function Eo(i){return i&&(i[Ar]||i[Wr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new te(204,!1)}function bv(i,o,a){let c;if(mc(i)){const d=xe(i);return Xs(d)||Dv(d)}if(wh(i))c=()=>xe(i.useValue);else if(function Om(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...j(i.deps||[]));else if(function Eh(i){return!(!i||!i.useExisting)}(i))c=()=>Pn(xe(i.useExisting));else{const d=xe(i&&(i.useClass||i.provide));if(!function xp(i){return!!i.deps}(i))return Xs(d)||Dv(d);c=()=>new d(...j(i.deps))}return c}function Wl(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function du(i,o){for(const a of i)Array.isArray(a)?du(a,o):a&&Pe(a)?du(a.\u0275providers,o):o(a)}const Rp=new In("AppId",{providedIn:"root",factory:()=>Np}),Np="ng",Fm=new In("Platform Initializer"),Sv=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BT=new In("CSP nonce",{providedIn:"root",factory:()=>function Vo(){if(void 0!==Dp)return Dp;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _c=(i,o)=>null;function Op(i,o){return _c(i,o)}class GT{}class uI{}class cI{resolveComponentFactory(o){throw function Uv(i){const o=Error(`No component factory found for ${ne(i)}.`);return o.ngComponent=i,o}(o)}}let Fp=(()=>{class i{}return i.NULL=new cI,i})();function lI(){return Dh(hr(),Se())}function Dh(i,o){return new jm(jr(i,o))}let jm=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=lI,i})();function MR(i){return i instanceof jm?i.nativeElement:i}class qT{}let xR=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function ZT(){const i=Se(),a=xi(hr().index,i);return(Vr(a)?a:i)[Tt]}(),i})(),RR=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class dI{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const hI=new dI("16.1.1"),Lp={};function ts(i){for(;i;){i[Pt]|=64;const o=ah(i);if(ta(i)&&!o)return i;i=o}return null}function pI(i){return i.ngOriginalError}class Ch{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&pI(o);for(;a&&pI(a);)a=pI(a);return a||null}}const Up=new In("",{providedIn:"root",factory:()=>!1});function pu(i){return i instanceof Function?i():i}class Bp extends Ei{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){ts(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,a,c){const d=Gn(this);this.trackingVersion++;try{o(a,c)}finally{Gn(d)}}destroy(){this.trackingVersion++}}let gu=null;function yI(){return gu??=new Bp,gu}function _I(i,o){return i[o]??yI()}function vI(i,o){const a=yI();a.hasReadASignal&&(i[o]=gu,a.lView=i,gu=new Bp)}const zt={};function wI(i){EI(en(),Se(),si()+i,!1)}function EI(i,o,a,c){if(!c)if(3==(3&o[Pt])){const f=i.preOrderCheckHooks;null!==f&&qa(o,f,a)}else{const f=i.preOrderHooks;null!==f&&bl(o,f,0,a)}so(a)}function TI(i,o=null,a=null,c){const d=zm(i,o,a,c);return d.resolveInjectorInitializers(),d}function zm(i,o=null,a=null,c,d=new Set){const f=[a||ht,eI(i)];return c=c||("object"==typeof i?void 0:ne(i)),new Gl(f,o||km(),c||null,d)}let wc=(()=>{class i{static create(a,c){if(Array.isArray(a))return TI({name:""},c,a,"");{const d=a.name??"";return TI({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Ur,i.NULL=new XE,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>Pn(QE)}),i.__NG_ELEMENT_ID__=-1,i})();function Ec(i,o=Ke.Default){const a=Se();return null===a?Pn(i,o):rc(hr(),a,xe(i),o)}function jv(){throw new Error("invalid")}function Gm(i,o,a,c,d,f,y,w,D,S,R){const V=o.blueprint.slice();return V[Yn]=d,V[Pt]=140|c,(null!==S||i&&2048&i[Pt])&&(V[Pt]|=2048),Hd(V),V[An]=V[Qs]=i,V[vn]=a,V[Co]=y||i&&i[Co],V[Tt]=w||i&&i[Tt],V[qi]=D||i&&i[qi]||null,V[Rr]=f,V[Jo]=function yR(){return dT++}(),V[Yr]=R,V[Ou]=S,V[On]=2==o.type?i[On]:V,V}function Sh(i,o,a,c,d){let f=i.data[o];if(null===f)f=function $v(i,o,a,c,d){const f=ep(),y=tp(),D=i.data[o]=function cS(i,o,a,c,d,f){let y=o?o.injectorIndex:-1,w=0;return function Qi(){return null!==At.skipHydrationRootTNode}()&&(w|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=D),null!==f&&(y?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D,D.prev=f)),D}(i,o,a,c,d),function fr(){return At.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const y=function qu(){const i=At.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Qr(f,!0),f}function Ic(i,o,a,c){if(0===a)return-1;const d=o.length;for(let f=0;f<a;f++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function SI(i,o,a,c,d){const f=_I(o,Jc),y=si(),w=2&c;try{if(so(-1),w&&o.length>sn&&EI(i,o,sn,!1),Yi(w?2:0,d),w)f.runInContext(a,c,d);else{const S=Gn(null);try{a(c,d)}finally{Gn(S)}}}finally{w&&null===o[Jc]&&vI(o,Jc),so(y),Yi(w?3:1,d)}}function Hv(i,o,a){if(Xc(o)){const c=Gn(null);try{const f=o.directiveEnd;for(let y=o.directiveStart;y<f;y++){const w=i.data[y];w.contentQueries&&w.contentQueries(1,a[y],y)}}finally{Gn(c)}}}function zv(i,o,a){$a()&&(function fS(i,o,a,c){const d=a.directiveStart,f=a.directiveEnd;Ki(a)&&function yS(i,o,a){const c=jr(o,i),d=AI(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const w=$p(i,Gm(i,d,null,y,c,o,null,i[Co].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=w}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||gs(a,o),Fi(c,o);const y=a.initialInputs;for(let w=d;w<f;w++){const D=i.data[w],S=uo(o,i,w,a);Fi(S,o),null!==y&&li(0,w-d,S,D,0,y),Cn(D)&&(xi(a.index,o)[vn]=uo(o,i,w,a))}}(i,o,a,jr(a,o)),64==(64&a.flags)&&kI(i,o,a))}function Gv(i,o,a=jr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],w=-1===y?a(o,i):i[y];i[d++]=w}}}function AI(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Wv(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Wv(i,o,a,c,d,f,y,w,D,S,R){const V=sn+c,q=V+d,Q=function MI(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:zt);return a}(V,q),Ie="function"==typeof S?S():S;return Q[it]={type:i,blueprint:Q,template:a,queries:null,viewQuery:w,declTNode:o,data:Q.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Ie,incompleteFirstPass:!1,ssrId:R}}let qv=i=>null;function RI(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?NI(a,o,d,f):c.hasOwnProperty(d)&&NI(a,o,c[d],f)}return a}function NI(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function ci(i,o,a,c,d,f,y,w){const D=jr(o,a);let R,S=o.inputs;!w&&null!=S&&(R=S[c])?(Km(i,a,R,c,d),Ki(o)&&function Kv(i,o){const a=xi(o,i);16&a[Pt]||(a[Pt]|=64)}(a,o.index)):3&o.type&&(c=function Zv(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,o.value||"",c):d,f.setProperty(D,c,d))}function Ah(i,o,a,c){if($a()){const d=null===c?null:{"":-1},f=function Wm(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(Do(o,y.selectors,!1))if(c||(c=[]),Cn(y))if(null!==y.findHostDirectiveDefs){const w=[];d=d||new Map,y.findHostDirectiveDefs(y,w,d),c.unshift(...w,y),Qv(i,o,w.length)}else c.unshift(y),Qv(i,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,w;null===f?y=w=null:[y,w]=f,null!==y&&Yv(i,o,a,y,d,w),d&&function gS(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const f=a[o[d+1]];if(null==f)throw new te(-301,!1);c.push(o[d],f)}}}(a,c,d)}a.mergedAttrs=nn(a.mergedAttrs,a.attrs)}function Yv(i,o,a,c,d,f){for(let S=0;S<c.length;S++)Rs(gs(a,o),i,c[S].type);!function FI(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let S=0;S<c.length;S++){const R=c[S];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,D=Ic(i,o,c.length,null);for(let S=0;S<c.length;S++){const R=c[S];a.mergedAttrs=nn(a.mergedAttrs,R.hostAttrs),mS(i,a,o,D,R),Fs(D,R,d),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const V=R.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!w&&(V.ngOnChanges||V.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),w=!0),D++}!function PI(i,o,a){const d=o.directiveEnd,f=i.data,y=o.attrs,w=[];let D=null,S=null;for(let R=o.directiveStart;R<d;R++){const V=f[R],q=a?a.get(V):null,Ie=q?q.outputs:null;D=RI(V.inputs,R,D,q?q.inputs:null),S=RI(V.outputs,R,S,Ie);const Le=null===D||null===y||Io(o)?null:qm(D,R,y);w.push(Le)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=D,o.outputs=S}(i,a,f)}function kI(i,o,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,y=function Ku(){return At.lFrame.currentDirectiveIndex}();try{so(f);for(let w=c;w<d;w++){const D=i.data[w],S=o[w];Zd(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&pS(D,S)}}finally{so(-1),Zd(y)}}function pS(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Qv(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function Fs(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;Cn(o)&&(a[""]=i)}}function mS(i,o,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=Xs(d.type)),y=new No(f,Cn(d),Ec);i.blueprint[c]=y,a[c]=y,function OI(i,o,a,c,d){const f=d.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~o.index;(function hS(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,c,f)}}(i,o,c,Ic(i,a,d.hostVars,zt),d)}function ga(i,o,a,c,d,f){const y=jr(i,o);!function Jv(i,o,a,c,d,f,y){if(null==f)i.removeAttribute(o,d,a);else{const w=null==y?se(f):y(f,c||"",d);i.setAttribute(o,d,w,a)}}(o[Tt],y,f,i.value,a,c,d)}function li(i,o,a,c,d,f){const y=f[o];if(null!==y)for(let w=0;w<y.length;)LI(c,a,y[w++],y[w++],y[w++])}function LI(i,o,a,c,d){const f=Gn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(o,d)),null!==i.setInput?i.setInput(o,d,a,c):o[c]=d}finally{Gn(f)}}function qm(i,o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let w=0;w<y.length;w+=2)if(y[w]===o){c.push(f,y[w+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Xv(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function UI(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];ro(a[c]),y.contentQueries(2,o[f],f)}}}function $p(i,o){return i[Fa]?i[Nu][Kr]=o:i[Fa]=o,i[Nu]=o,o}function VI(i,o,a){ro(0);const c=Gn(null);try{o(i,a)}finally{Gn(c)}}function BI(i){return i[Ms]||(i[Ms]=[])}function Zm(i){return i.cleanup||(i.cleanup=[])}function _S(i,o){const a=i[qi],c=a?a.get(Ch,null):null;c&&c.handleError(o)}function Km(i,o,a,c,d){for(let f=0;f<a.length;){const y=a[f++],w=a[f++];LI(i.data[y],o[y],c,w,d)}}function Di(i,o,a){const c=ra(o,i);!function NE(i,o,a){i.setValue(o,a)}(i[Tt],c,a)}function vS(i,o){const a=xi(o,i),c=a[it];!function UR(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const d=a[Yn];null!==d&&null===a[Yr]&&(a[Yr]=Op(d,a[qi])),jI(c,a,a[vn])}function jI(i,o,a){Qu(o);try{const c=i.viewQuery;null!==c&&VI(1,c,a);const d=i.template;null!==d&&SI(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&UI(i,o),i.staticViewQueries&&VI(2,i.viewQuery,a);const f=i.components;null!==f&&function VR(i,o){for(let a=0;a<o.length;a++)vS(i,o[a])}(o,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[Pt]&=-5,Yd()}}let GI=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,y=new Zf(a,S=>{this.all.has(S)&&this.queue.set(S,f)},d);let w;this.all.add(y),y.notify();const D=()=>{y.cleanup(),w?.(),this.all.delete(y),this.queue.delete(y)};return w=c?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>new i}),i})();function t0(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?f=w:1==f?d=ke(d,w):2==f&&(c=ke(c,w+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Mh(i,o,a,c,d=!1){for(;null!==a;){const f=o[a.index];if(null!==f&&c.push(wn(f)),Br(f)){for(let w=Pr;w<f.length;w++){const D=f[w],S=D[it].firstChild;null!==S&&Mh(D[it],D,S,c)}f[wi]!==f[Yn]&&c.push(f[wi])}const y=a.type;if(8&y)Mh(i,o,a.child,c);else if(32&y){const w=rv(a,o);let D;for(;D=w();)c.push(D)}else if(16&y){const w=ch(o,a);if(Array.isArray(w))c.push(...w);else{const D=ah(o[On]);Mh(D[it],D,w,c,!0)}}a=d?a.projectionNext:a.next}return c}function Ym(i,o,a,c=!0){const d=o[Co].rendererFactory;d.begin&&d.begin();try{ES(i,o,i.template,a)}catch(y){throw c&&_S(o,y),y}finally{d.end&&d.end(),o[Co].effectManager?.flush()}}function ES(i,o,a,c){const d=o[Pt];if(256!=(256&d)){o[Co].effectManager?.flush(),Qu(o);try{Hd(o),function Zu(i){return At.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&SI(i,o,a,2,c);const y=3==(3&d);if(y){const S=i.preOrderCheckHooks;null!==S&&qa(o,S,null)}else{const S=i.preOrderHooks;null!==S&&bl(o,S,0,null),ec(o,0)}if(function jR(i){for(let o=wm(i);null!==o;o=RE(o)){if(!o[To])continue;const a=o[Xo];for(let c=0;c<a.length;c++){yl(a[c])}}}(o),WI(o,2),null!==i.contentQueries&&UI(i,o),y){const S=i.contentCheckHooks;null!==S&&qa(o,S)}else{const S=i.contentHooks;null!==S&&bl(o,S,1),ec(o,1)}!function sS(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=_I(o,Zi);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)so(~f);else{const y=f,w=a[++d],D=a[++d];za(w,y),c.runInContext(D,2,o[y])}}}finally{null===o[Zi]&&vI(o,Zi),so(-1)}}(i,o);const w=i.components;null!==w&&KI(o,w,0);const D=i.viewQuery;if(null!==D&&VI(2,D,c),y){const S=i.viewCheckHooks;null!==S&&qa(o,S)}else{const S=i.viewHooks;null!==S&&bl(o,S,2),ec(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Pt]&=-73,Hu(o)}finally{Yd()}}}function WI(i,o){for(let a=wm(i);null!==a;a=RE(a))for(let c=Pr;c<a.length;c++)ZI(a[c],o)}function qI(i,o,a){ZI(xi(o,i),a)}function ZI(i,o){if(!function jd(i){return 128==(128&i[Pt])}(i))return;const a=i[it];if(80&i[Pt]&&0===o||1024&i[Pt]||2===o)ES(a,i,a.template,i[vn]);else if(i[Ru]>0){WI(i,1);const d=i[it].components;null!==d&&KI(i,d,1)}}function KI(i,o,a){for(let c=0;c<o.length;c++)qI(i,o[c],a)}class xh{get rootNodes(){const o=this._lView,a=o[it];return Mh(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vn]}set context(o){this._lView[vn]=o}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[An];if(Br(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(sv(o,c),Ol(a,c))}this._attachedToViewContainer=!1}ov(this._lView[it],this._lView)}onDestroy(o){!function Ri(i,o){if(256==(256&i[Pt]))throw new te(911,!1);null===i[Nr]&&(i[Nr]=[]),i[Nr].push(o)}(this._lView,o)}markForCheck(){ts(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){Ym(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _T(i,o){Ip(i,o,o[Tt],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=o}}class IS extends xh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Ym(o[it],o,o[vn],!1)}checkNoChanges(){}get context(){return null}}class YI extends Fp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ut(o);return new Rh(a,this.ngModule)}}function QI(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class CS{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=z(c);const d=this.injector.get(o,Lp,c);return d!==Lp||a===Lp?d:this.parentInjector.get(o,a,c)}}class Rh extends uI{get inputs(){return QI(this.componentDef.inputs)}get outputs(){return QI(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Ad(i){return i.map(Qg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let f=(d=d||this.ngModule)instanceof yc?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new CS(o,f):o,w=y.get(qT,null);if(null===w)throw new te(407,!1);const R={rendererFactory:w,sanitizer:y.get(RR,null),effectManager:y.get(GI,null)},V=w.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",Q=c?function LR(i,o,a,c){const f=c.get(Up,!1)||a===wt.ShadowDom,y=i.selectRootElement(o,f);return function xI(i){qv(i)}(y),y}(V,c,this.componentDef.encapsulation,y):Im(V,q,function DS(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(q)),Je=this.componentDef.signals?4608:this.componentDef.onPush?576:528,_t=Wv(0,null,null,1,0,null,null,null,null,null,null),be=Gm(null,_t,null,Je,null,null,R,V,y,null,null);let Bt,on;Qu(be);try{const an=this.componentDef;let zi,Mf=null;an.findHostDirectiveDefs?(zi=[],Mf=new Map,an.findHostDirectiveDefs(an,zi,Mf),zi.push(an)):zi=[an];const _b=function $R(i,o){const a=i[it],c=sn;return i[c]=o,Sh(a,c,2,"#host",null)}(be,Q),vb=function HR(i,o,a,c,d,f,y){const w=d[it];!function zR(i,o,a,c){for(const d of i)o.mergedAttrs=nn(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(t0(o,o.mergedAttrs,!0),null!==a&&BE(c,a,o))}(c,i,o,y);let D=null;null!==o&&(D=Op(o,d[qi]));const S=f.rendererFactory.createRenderer(o,a);let R=16;a.signals?R=4096:a.onPush&&(R=64);const V=Gm(d,AI(a),null,R,d[i.index],i,f,S,null,null,D);return w.firstCreatePass&&Qv(w,i,c.length-1),$p(d,V),d[i.index]=V}(_b,Q,an,zi,be,R,V);on=Bd(_t,sn),Q&&function WR(i,o,a,c){if(c)ft(i,a,["ng-version",hI.full]);else{const{attrs:d,classes:f}=function Su(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&o.push(f,i[++c]):8===d&&a.push(f);else{if(!ri(d))break;d=f}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ft(i,a,d),f&&f.length>0&&dh(i,a,f.join(" "))}}(V,an,Q,c),void 0!==a&&function JI(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(on,this.ngContentSelectors,a),Bt=function GR(i,o,a,c,d,f){const y=hr(),w=d[it],D=jr(y,d);Yv(w,d,y,a,null,c);for(let R=0;R<a.length;R++)Fi(uo(d,w,y.directiveStart+R,y),d);kI(w,d,y),D&&Fi(D,d);const S=uo(d,w,y.directiveStart+y.componentOffset,y);if(i[vn]=d[vn]=S,null!==f)for(const R of f)R(S,o);return Hv(w,y,i),S}(vb,an,zi,Mf,be,[cn]),jI(_t,be,null)}finally{Yd()}return new bS(this.componentType,Bt,Dh(on,be),be,on)}}class bS extends GT{constructor(o,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new IS(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const f=this._rootLView;Km(f[it],f,d,o,a),this.previousInputValues.set(o,a),ts(xi(this._tNode.index,f))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function cn(){const i=hr();Xu(Se()[it],i)}function n0(i){let o=function Qm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(Cn(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new te(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=Hp(i.inputs),y.inputTransforms=Hp(i.inputTransforms),y.declaredInputs=Hp(i.declaredInputs),y.outputs=Hp(i.outputs);const w=d.hostBindings;w&&Nh(i,w);const D=d.viewQuery,S=d.contentQueries;if(D&&Ee(i,D),S&&Ls(i,S),G(i.inputs,d.inputs),G(i.declaredInputs,d.declaredInputs),G(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),G(y.inputTransforms,d.inputTransforms)),Cn(d)&&d.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(i),w===n0&&(a=!1)}}o=Object.getPrototypeOf(o)}!function qR(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=nn(d.hostAttrs,a=nn(a,d.hostAttrs))}}(c)}function Hp(i){return i===yt?{}:i===ht?[]:i}function Ee(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function Ls(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{o(c,d,f),a(c,d,f)}:o}function Nh(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function XI(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const d=o[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Xm(i){return!!di(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function di(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Vn(i,o,a){return i[o]=a}function Vi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Cc(i,o,a,c){const d=Vi(i,o,a);return Vi(i,o+1,c)||d}function hi(i,o,a,c){const d=Se();return Vi(d,kn(),o)&&(en(),ga(Mn(),d,i,o,a,c)),hi}function ma(i,o,a,c){return Vi(i,kn(),a)?o+se(a)+c:zt}function mu(i,o,a,c,d,f){const w=Cc(i,function hs(){return At.lFrame.bindingIndex}(),a,d);return fs(2),w?o+se(a)+c+se(d)+f:zt}function d0(i,o,a,c,d,f,y,w){const D=Se(),S=en(),R=i+sn,V=S.firstCreatePass?function PS(i,o,a,c,d,f,y,w,D){const S=o.consts,R=Sh(o,i,4,y||null,ds(S,w));Ah(o,a,R,ds(S,D)),Xu(o,R);const V=R.tView=Wv(2,R,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S,null);return null!==o.queries&&(o.queries.template(o,R),V.queries=o.queries.embeddedTView(R)),R}(R,S,D,o,a,c,d,f,y):S.data[R];Qr(V,!1);const q=dD(S,D,V,i);Wa()&&lv(S,D,q,V),Fi(q,D),$p(D,D[R]=Xv(q,D,q,V)),Js(V)&&zv(S,D,V),null!=y&&Gv(D,V,w)}let dD=function hD(i,o,a,c){return Ro(!0),o[Tt].createComment("")};function hy(i){return no(function El(){return At.lFrame.contextLView}(),sn+i)}function fy(i,o,a){const c=Se();return Vi(c,kn(),o)&&ci(en(),Mn(),c,i,o,c[Tt],a,!1),fy}function h0(i,o,a,c,d){const y=d?"class":"style";Km(i,a,o.inputs[y],y,c)}function $h(i,o,a,c){const d=Se(),f=en(),y=sn+i,w=d[Tt],D=f.firstCreatePass?function py(i,o,a,c,d,f){const y=o.consts,D=Sh(o,i,2,c,ds(y,d));return Ah(o,a,D,ds(y,f)),null!==D.attrs&&t0(D,D.attrs,!1),null!==D.mergedAttrs&&t0(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(y,f,d,o,a,c):f.data[y],S=fD(f,d,D,w,o,i);d[y]=S;const R=Js(D);return Qr(D,!0),BE(w,S,D),32!=(32&D.flags)&&Wa()&&lv(f,d,S,D),0===function tm(){return At.lFrame.elementDepthCount}()&&Fi(S,d),function vl(){At.lFrame.elementDepthCount++}(),R&&(zv(f,d,D),Hv(f,D,d)),null!==c&&Gv(d,D),$h}function Hh(){let i=hr();tp()?function Wn(){At.lFrame.isParent=!1}():(i=i.parent,Qr(i,!1));const o=i;(function Gu(i){return At.skipHydrationRootTNode===i})(o)&&function Xf(){At.skipHydrationRootTNode=null}(),function Qf(){At.lFrame.elementDepthCount--}();const a=en();return a.firstCreatePass&&(Xu(a,i),Xc(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Ya(i){return 0!=(8&i.flags)}(o)&&h0(a,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function kr(i){return 0!=(16&i.flags)}(o)&&h0(a,o,Se(),o.stylesWithoutHost,!1),Hh}function gy(i,o,a,c){return $h(i,o,a,c),Hh(),gy}let fD=(i,o,a,c,d,f)=>(Ro(!0),Im(c,d,function th(){return At.lFrame.currentNamespace}()));function _D(){return Se()}function yu(i){return!!i&&"function"==typeof i.then}function f0(i){return!!i&&"function"==typeof i.subscribe}function Wh(i,o,a,c){const d=Se(),f=en(),y=hr();return function g0(i,o,a,c,d,f,y){const w=Js(c),S=i.firstCreatePass&&Zm(i),R=o[vn],V=BI(o);let q=!0;if(3&c.type||y){const Le=jr(c,o),Je=y?y(Le):Le,_t=V.length,be=y?on=>y(wn(on[c.index])):c.index;let Bt=null;if(!y&&w&&(Bt=function Yp(i,o,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===c){const w=o[Ms],D=d[f+2];return w.length>D?w[D]:null}"string"==typeof y&&(f+=2)}return null}(i,o,d,c.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=f,Bt.__ngLastListenerFn__=f,q=!1;else{f=m0(c,o,R,f,!1);const on=a.listen(Je,d,f);V.push(f,on),S&&S.push(d,be,_t,_t+1)}}else f=m0(c,o,R,f,!1);const Q=c.outputs;let Ie;if(q&&null!==Q&&(Ie=Q[d])){const Le=Ie.length;if(Le)for(let Je=0;Je<Le;Je+=2){const an=o[Ie[Je]][Ie[Je+1]].subscribe(f),zi=V.length;V.push(f,an),S&&S.push(d,c.index,zi,-(zi+1))}}}(f,d,d[Tt],y,i,o,c),Wh}function Bi(i,o,a,c){try{return Yi(6,o,a),!1!==a(c)}catch(d){return _S(i,d),!1}finally{Yi(7,o,a)}}function m0(i,o,a,c,d){return function f(y){if(y===Function)return c;ts(i.componentOffset>-1?xi(i.index,o):o);let D=Bi(o,a,c,y),S=f.__ngNextListenerFn__;for(;S;)D=Bi(o,a,S,y)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&y.preventDefault(),D}}function qh(i=1){return function Qd(i){return(At.lFrame.contextLView=function rm(i,o){for(;i>0;)o=o[Qs],i--;return o}(i,At.lFrame.contextLView))[vn]}(i)}function _y(i,o,a){return Qp(i,"",o,"",a),_y}function Qp(i,o,a,c,d){const f=Se(),y=ma(f,o,a,c);return y!==zt&&ci(en(),Mn(),f,i,y,f[Tt],d,!1),Qp}function Yh(i,o){return i<<17|o<<2}function Ho(i){return i>>17&32767}function Iy(i){return 2|i}function Sc(i){return(131068&i)>>2}function w0(i,o){return-131069&i|o<<2}function Dy(i){return 1|i}function ID(i,o,a,c,d){const f=i[a+1],y=null===o;let w=c?Ho(f):Sc(f),D=!1;for(;0!==w&&(!1===D||y);){const R=i[w+1];FS(i[w],o)&&(D=!0,i[w+1]=c?Dy(R):Iy(R)),w=c?Ho(R):Sc(R)}D&&(i[a+1]=c?Iy(f):Dy(f))}function FS(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&A(i,o)>=0}function T0(i,o){return function go(i,o,a,c){const d=Se(),f=en(),y=fs(2);f.firstUpdatePass&&function CD(i,o,a,c){const d=i.data;if(null===d[a+1]){const f=d[si()],y=function Xl(i,o){return o>=i.expandoStartIndex}(i,a);(function Jh(i,o){return 0!=(i.flags&(o?8:16))})(f,c)&&null===o&&!y&&(o=!1),o=function VS(i,o,a,c){const d=function Ga(i){const o=At.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=ed(a=Sy(null,i,o,a,c),o.attrs,c),f=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Sy(d,i,o,a,c),null===f){let D=function bD(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Sc(c))return i[Ho(c)]}(i,o,c);void 0!==D&&Array.isArray(D)&&(D=Sy(null,i,o,D[1],c),D=ed(D,o.attrs,c),function BS(i,o,a,c){i[Ho(a?o.classBindings:o.styleBindings)]=c}(i,o,c,D))}else f=function TD(i,o,a){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=ed(c,i[f].hostAttrs,a);return ed(c,o.attrs,a)}(i,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),a}(d,f,o,c),function Ql(i,o,a,c,d,f){let y=f?o.classBindings:o.styleBindings,w=Ho(y),D=Sc(y);i[c]=a;let R,S=!1;if(Array.isArray(a)?(R=a[1],(null===R||A(a,R)>0)&&(S=!0)):R=a,d)if(0!==D){const q=Ho(i[w+1]);i[c+1]=Yh(q,w),0!==q&&(i[q+1]=w0(i[q+1],c)),i[w+1]=function ED(i,o){return 131071&i|o<<17}(i[w+1],c)}else i[c+1]=Yh(w,0),0!==w&&(i[w+1]=w0(i[w+1],c)),w=c;else i[c+1]=Yh(D,0),0===w?w=c:i[D+1]=w0(i[D+1],c),D=c;S&&(i[c+1]=Iy(i[c+1])),ID(i,R,c,!0),ID(i,R,c,!1),function I0(i,o,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&A(f,o)>=0&&(a[c+1]=Dy(a[c+1]))}(o,R,i,c,f),y=Yh(w,D),f?o.classBindings=y:o.styleBindings=y}(d,f,o,a,y,c)}}(f,i,y,c),o!==zt&&Vi(d,y,o)&&function AD(i,o,a,c,d,f,y,w){if(!(3&o.type))return;const D=i.data,S=D[w+1],R=function Xp(i){return 1==(1&i)}(S)?MD(D,o,a,d,Sc(S),y):void 0;Ay(R)||(Ay(f)||function v0(i){return 2==(2&i)}(S)&&(f=MD(D,null,a,d,w,y)),function ST(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:la.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=la.Important),i.setStyle(a,c,d,f))}}(c,y,ra(si(),a),d,f))}(f,f.data[si()],d,d[Tt],i,d[y+1]=function My(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ne(Ui(i)))),i}(o,a),c,y)}(i,o,null,!0),T0}function Sy(i,o,a,c,d){let f=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(f=o[w],c=ed(c,f.hostAttrs,d),f!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function ed(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const y=o[f];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),E(i,y,!!a||o[++f]))}return void 0===i?null:i}function MD(i,o,a,c,d,f){const y=null===o;let w;for(;d>0;){const D=i[d],S=Array.isArray(D),R=S?D[1]:D,V=null===R;let q=a[d+1];q===zt&&(q=V?ht:void 0);let Q=V?b(q,c):R===c?q:void 0;if(S&&!Ay(Q)&&(Q=b(D,c)),Ay(Q)&&(w=Q,y))return w;const Ie=i[d+1];d=y?Ho(Ie):Sc(Ie)}if(null!==o){let D=f?o.residualClasses:o.residualStyles;null!=D&&(w=b(D,c))}return w}function Ay(i){return void 0!==i}function rg(i,o=""){const a=Se(),c=en(),d=i+sn,f=c.firstCreatePass?Sh(c,d,1,o,null):c.data[d],y=xy(c,a,f,o,i);a[d]=y,Wa()&&lv(c,a,y,f),Qr(f,!1)}let xy=(i,o,a,c,d)=>(Ro(!0),function da(i,o){return i.createText(o)}(o[Tt],c));function td(i){return Ry("",i,""),td}function Ry(i,o,a){const c=Se(),d=ma(c,i,o,a);return d!==zt&&Di(c,si(),d),Ry}function ar(i,o,a,c,d){const f=Se(),y=mu(f,i,o,a,c,d);return y!==zt&&Di(f,si(),y),ar}const wa=void 0;var $D=["en",[["a","p"],["AM","PM"],wa],[["AM","PM"],wa,wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wa,"{1} 'at' {0}",wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vs(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let nd={};function $0(i){const o=function Ia(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Tn(o);if(a)return a;const c=o.split("-")[0];if(a=Tn(c),a)return a;if("en"===c)return $D;throw new te(701,!1)}function Ly(i){return $0(i)[Mt.PluralCase]}function Tn(i){return i in nd||(nd[i]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[i]),nd[i]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Go="en-US";let lg=Go;function od(i,o,a,c,d){if(i=xe(i),Array.isArray(i))for(let f=0;f<i.length;f++)od(i[f],o,a,c,d);else{const f=en(),y=Se();let w=mc(i)?i:xe(i.provide),D=bv(i);const S=hr(),R=1048575&S.providerIndexes,V=S.directiveStart,q=S.providerIndexes>>20;if(mc(i)||!i.multi){const Q=new No(D,d,Ec),Ie=ew(w,o,d?R:R+q,V);-1===Ie?(Rs(gs(S,y),f,w),Wy(f,i,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Q),y.push(Q)):(a[Ie]=Q,y[Ie]=Q)}else{const Q=ew(w,o,R+q,V),Ie=ew(w,o,R,R+q),Je=Ie>=0&&a[Ie];if(d&&!Je||!d&&!(Q>=0&&a[Q])){Rs(gs(S,y),f,w);const _t=function Zy(i,o,a,c,d){const f=new No(i,a,Ec);return f.multi=[],f.index=o,f.componentProviders=0,bi(f,d,c&&!a),f}(d?Ca:iC,a.length,d,c,D);!d&&Je&&(a[Ie].providerFactory=_t),Wy(f,i,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(_t),y.push(_t)}else Wy(f,i,Q>-1?Q:Ie,bi(a[d?Ie:Q],D,!d&&c));!d&&c&&Je&&a[Ie].componentProviders++}}}function Wy(i,o,a,c){const d=mc(o),f=function rI(i){return!!i.useClass}(o);if(d||f){const D=(f?xe(o.useClass):o).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const R=S.indexOf(a);-1===R?S.push(a,[c,D]):S[R+1].push(c,D)}else S.push(a,D)}}}function bi(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function ew(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function iC(i,o,a,c){return qy(this.multi,[])}function Ca(i,o,a,c){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=uo(a,a[it],this.providerFactory.index,c);f=w.slice(0,y),qy(d,f);for(let D=y;D<w.length;D++)f.push(w[D])}else f=[],qy(d,f);return f}function qy(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function tw(i,o=[]){return a=>{a.providersResolver=(c,d)=>function yg(i,o,a){const c=en();if(c.firstCreatePass){const d=Cn(i);od(a,c.data,c.blueprint,d,!0),od(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class nf{}class sC{}function nA(i,o){return new nw(i,o??null,[])}class nw extends nf{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YI(this);const d=Zr(o);this._bootstrapComponents=pu(d.bootstrap),this._r3Injector=zm(o,a,[{provide:nf,useValue:this},{provide:Fp,useValue:this.componentFactoryResolver},...c],ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class rw extends sC{constructor(o){super(),this.moduleType=o}create(o){return new nw(this.moduleType,o,[])}}class oC extends nf{constructor(o){super(),this.componentFactoryResolver=new YI(this),this.instance=null;const a=new Gl([...o.providers,{provide:nf,useValue:this},{provide:Fp,useValue:this.componentFactoryResolver}],o.parent||km(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function aC(i,o,a=null){return new oC({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let iA=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=wv(0,a.type),d=c.length>0?aC([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Xt({token:i,providedIn:"environment",factory:()=>new i(Pn(yc))}),i})();function uC(i){i.getStandaloneInjector=o=>o.get(iA).getOrCreateStandaloneInjector(i)}function Hs(i,o){const a=i[o];return a===zt?void 0:a}function wu(i,o){const a=en();let c;const d=i+sn;a.firstCreatePass?(c=function Qy(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const f=c.factory||(c.factory=Xs(c.type)),y=Kt(Ec);try{const w=Ni(!1),D=f();return Ni(w),function Zp(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,Se(),d,D),D}finally{Kt(y)}}function qo(i,o,a){const c=i+sn,d=Se(),f=no(d,c);return ud(d,c)?function _g(i,o,a,c,d,f){const y=o+a;return Vi(i,y,d)?Vn(i,y+1,f?c.call(f,d):c(d)):Hs(i,y+1)}(d,Or(),o,f.transform,a,f):f.transform(a)}function af(i,o,a,c){const d=i+sn,f=Se(),y=no(f,d);return ud(f,d)?function vg(i,o,a,c,d,f,y){const w=o+a;return Cc(i,w,d,f)?Vn(i,w+2,y?c.call(y,d,f):c(d,f)):Hs(i,w+2)}(f,Or(),o,y.transform,a,c,y):y.transform(a,c)}function ud(i,o){return i[it].data[o].pure}function Eu(i){return o=>{setTimeout(i,void 0,o)}}const vo=class Jy extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,f=a||(()=>null),y=c;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),f=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(f=Eu(f),d&&(d=Eu(d)),y&&(y=Eu(y)));const w=super.subscribe({next:d,error:f,complete:y});return o instanceof B.w0&&o.add(w),w}};function wg(){return this._results[Symbol.iterator]()}class Xy{get changes(){return this._changes||(this._changes=new vo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Xy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=wg)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function ir(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function lc(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=o[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cf=(()=>{class i{}return i.__NG_ELEMENT_ID__=vC,i})();const e_=cf,Eg=class extends e_{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a,null)}createEmbeddedViewImpl(o,a,c){const y=this._declarationTContainer.tView,w=Gm(this._declarationLView,y,o,4096&this._declarationLView[Pt]?4096:16,null,y.declTNode,null,null,null,a||null,c||null);w[Pu]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[us];return null!==S&&(w[us]=S.createEmbeddedView(y)),jI(y,w,o),new xh(w)}};function vC(){return t_(hr(),Se())}function t_(i,o){return 4&i.type?new Eg(o,i,Dh(i,o)):null}let n_=(()=>{class i{}return i.__NG_ELEMENT_ID__=TC,i})();function TC(){return r_(hr(),Se())}const un=n_,Sn=class extends un{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Dh(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Fn(this._hostTNode,this._hostLView);if(tc(o)){const a=Qa(o,this._hostLView),c=ai(o);return new Fo(a[it].data[c+8],a)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=ld(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(o,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const w=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(w,d,false),w}createComponent(o,a,c,d,f){const y=o&&!function co(i){return"function"==typeof i}(o);let w;if(y)w=a;else{const Le=a||{};w=Le.index,c=Le.injector,d=Le.projectableNodes,f=Le.environmentInjector||Le.ngModuleRef}const D=y?o:new Rh(Ut(o)),S=c||this.parentInjector;if(!f&&null==D.ngModule){const Je=(y?S:this.parentInjector).get(yc,null);Je&&(f=Je)}Ut(D.componentType??{});const Q=D.create(S,d,null,f);return this.insertImpl(Q.hostView,w,false),Q}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const d=o._lView,f=d[it];if(function $d(i){return Br(i[An])}(d)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const S=d[An],R=new Sn(S,S[Rr],S[An]);R.detach(R.indexOf(o))}}const y=this._adjustIndex(a),w=this._lContainer;if(function OE(i,o,a,c){const d=Pr+c,f=a.length;c>0&&(a[d-1][Kr]=o),c<f-Pr?(o[Kr]=a[d],Uo(a,Pr+c,o)):(a.push(o),o[Kr]=null),o[An]=a;const y=o[Pu];null!==y&&a!==y&&function vT(i,o){const a=i[Xo];o[On]!==o[An][An][On]&&(i[To]=!0),null===a?i[Xo]=[o]:a.push(o)}(y,o);const w=o[us];null!==w&&w.insertView(i),o[Pt]|=128}(f,d,w,y),!c){const D=dv(y,w),S=d[Tt],R=cv(S,w[wi]);null!==R&&function yT(i,o,a,c,d,f){c[Yn]=d,c[Rr]=o,Ip(i,c,a,1,d,f)}(f,w[Rr],S,d,R,D)}return o.attachToViewContainerRef(),Uo(Ig(w),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=ld(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=sv(this._lContainer,a);c&&(Ol(Ig(this._lContainer),a),ov(c[it],c))}detach(o){const a=this._adjustIndex(o,-1),c=sv(this._lContainer,a);return c&&null!=Ol(Ig(this._lContainer),a)?new xh(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function ld(i){return i[8]}function Ig(i){return i[8]||(i[8]=[])}function r_(i,o){let a;const c=o[i.index];return Br(c)?a=c:(a=Xv(c,o,null,i),o[i.index]=a,$p(o,a)),i_(a,o,i,c),new Sn(a,i,o)}let i_=function aw(i,o,a,c){if(i[wi])return;let d;d=8&a.type?wn(c):function SC(i,o){const a=i[Tt],c=a.createComment(""),d=jr(o,i);return uh(a,cv(a,d),c,function vR(i,o){return i.nextSibling(o)}(a,d),!1),c}(o,a),i[wi]=d};class uw{constructor(o){this.queryList=o,this.matches=null}clone(){return new uw(this.queryList)}setDirty(){this.queryList.setDirty()}}class cw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new cw(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==fw(o,a).matches&&this.queries[a].setDirty()}}class xC{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class s_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new s_(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class lw{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new lw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,a,RC(a,f)),this.matchTNodeWithReadOption(o,a,aa(a,o,f,!1,!1))}else c===cf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,aa(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===jm||d===n_||d===cf&&4&a.type)this.addMatch(a.index,-2);else{const f=aa(a,o,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function RC(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function lA(i,o,a,c){return-1===a?function cA(i,o){return 11&i.type?Dh(i,o):4&i.type?t_(i,o):null}(o,i):-2===a?function dA(i,o,a){return a===jm?Dh(o,i):a===cf?t_(o,i):a===n_?r_(o,i):void 0}(i,o,c):uo(i,i[it],a,o)}function o_(i,o,a,c){const d=o[us].queries[c];if(null===d.matches){const f=i.data,y=a.matches,w=[];for(let D=0;D<y.length;D+=2){const S=y[D];w.push(S<0?null:lA(o,f[S],y[D+1],a.metadata.read))}d.matches=w}return d.matches}function Du(i,o,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=o_(i,o,d,a);for(let w=0;w<f.length;w+=2){const D=f[w];if(D>0)c.push(y[w/2]);else{const S=f[w+1],R=o[-D];for(let V=Pr;V<R.length;V++){const q=R[V];q[Pu]===q[An]&&Du(q[it],q,S,c)}if(null!==R[Xo]){const V=R[Xo];for(let q=0;q<V.length;q++){const Q=V[q];Du(Q[it],Q,S,c)}}}}}return c}function lf(i){const o=Se(),a=en(),c=Yu();ro(c+1);const d=fw(a,c);if(i.dirty&&function Yf(i){return 4==(4&i[Pt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Du(a,o,c,[]):o_(a,o,d,c);i.reset(f,MR),i.notifyOnChanges()}return!0}return!1}function Dg(i,o,a,c){const d=en();if(d.firstCreatePass){const f=hr();(function hw(i,o,a){null===i.queries&&(i.queries=new s_),i.queries.track(new lw(o,a))})(d,new xC(o,a,c),f.index),function df(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function ba(i,o,a){const c=new Xy(4==(4&a));(function uS(i,o,a,c){const d=BI(o);d.push(a),i.firstCreatePass&&Zm(i).push(c,d.length-1)})(i,o,c,c.destroy),null===o[us]&&(o[us]=new cw),o[us].queries.push(new uw(c))}(d,Se(),a)}function dw(){return function NC(i,o){return i[us].queries[o].queryList}(Se(),Yu())}function fw(i,o){return i.queries.getByIndex(o)}function u_(i){return!!Zr(i)}const m_=new In("Application Initializer");let Mg=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Yt(m_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(yu(f))a.push(f);else if(f0(f)){const y=new Promise((w,D)=>{f.subscribe({complete:w,error:D})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),WC=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const gr=new In("LocaleId",{providedIn:"root",factory:()=>Yt(gr,Ke.Optional|Ke.SkipSelf)||function IA(){return typeof $localize<"u"&&$localize.locale||Go}()}),hn=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xg=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class ZC{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let bA=(()=>{class i{compileModuleSync(a){return new rw(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=pu(Zr(a).declarations).reduce((y,w)=>{const D=Ut(w);return D&&y.push(new Rh(D)),y},[]);return new ZC(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const YC=(()=>Promise.resolve(0))();function __(i){typeof Zone>"u"?YC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}function Ew(...i){}class $i{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function SA(){let i=Wt.requestAnimationFrame,o=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function RA(i){const o=()=>{!function xA(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Wt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Rg(i),i.isCheckStableRunning=!0,Iw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Rg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,y,w)=>{try{return gd(i),a.invokeTask(d,f,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),Dw(i)}},onInvoke:(a,c,d,f,y,w,D)=>{try{return gd(i),a.invoke(d,f,y,w,D)}finally{i.shouldCoalesceRunChangeDetection&&o(),Dw(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Rg(i),Iw(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if($i.isInAngularZone())throw new te(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,o,MA,Ew,Ew);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const MA={};function Iw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Rg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function gd(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Dw(i){i._nesting--,Iw(i)}class NA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const Tr=new In("",{providedIn:"root",factory:v_});function v_(){const i=Yt($i);let o=!0;const a=new J.y(d=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(o),d.complete()})}),c=new J.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{$i.assertNotInAngularZone(),__(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{$i.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,ie.T)(a,c.pipe((0,_e.B)()))}const Cw=new In(""),vf=new In("");let md,Ta=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,md||(function QC(i){md=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),__(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())__(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Pn($i),Pn(w_),Pn(vf))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),w_=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return md?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),bu=null;const bw=new In("AllowMultipleToken"),E_=new In("PlatformDestroyListeners"),Tw=new In("appBootstrapListener");class JC{constructor(o,a){this.name=o,this.token=a}}function tb(i,o,a=[]){const c=`Platform: ${o}`,d=new In(c);return(f=[])=>{let y=Vc();if(!y||y.injector.get(bw,!1)){const w=[...a,...f,{provide:d,useValue:!0}];i?i(w):function Sw(i){if(bu&&!bu.get(bw,!1))throw new te(400,!1);(function D_(){!function Ud(i){Ld=i}(()=>{throw new te(600,!1)})})(),bu=i;const o=i.get(Aw);(function eb(i){i.get(Fm,null)?.forEach(a=>a())})(i)}(function nb(i=[],o){return wc.create({name:o,providers:[{provide:Ev,useValue:"platform"},{provide:E_,useValue:new Set([()=>bu=null])},...i]})}(w,c))}return function FA(i){const o=Vc();if(!o)throw new te(401,!1);return o}()}}function Vc(){return bu?.get(Aw)??null}let Aw=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function ib(i="zone.js",o){return"noop"===i?new NA:"zone.js"===i?new $i(o):i}(c?.ngZone,function rb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function rA(i,o,a){return new nw(i,o,a)}(a.moduleType,this.injector,function xw(i){return[{provide:$i,useFactory:i},{provide:Mp,multi:!0,useFactory:()=>{const o=Yt(vd,{optional:!0});return()=>o.initialize()}},{provide:Bc,useFactory:_d},{provide:Tr,useFactory:v_}]}(()=>d)),y=f.injector.get(Ch,null);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:D=>{y.handleError(D)}});f.onDestroy(()=>{Ng(this._modules,f),w.unsubscribe()})}),function Sa(i,o,a){try{const c=a();return yu(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(y,d,()=>{const w=f.injector.get(Mg);return w.runInitializers(),w.donePromise.then(()=>(function dg(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(lg=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(gr,Go)||Go),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=Mw({},c);return function PA(i,o,a){const c=new rw(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(wf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new te(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(E_,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Pn(wc))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Mw(i,o){return Array.isArray(o)?o.reduce(Mw,i):{...i,...o}}let wf=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yt(Bc),this.zoneIsStable=Yt(Tr),this.componentTypes=[],this.components=[],this.isStable=Yt(xg).hasPendingTasks.pipe((0,Ae.w)(a=>a?(0,pe.of)(!1):this.zoneIsStable),(0,ge.x)(),(0,_e.B)()),this._injector=Yt(yc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof uI;if(!this._injector.get(Mg).done)throw!d&&As(a),new te(405,!1);let y;y=d?a:this._injector.get(Fp).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function OA(i){return i.isBoundToModule}(y)?void 0:this._injector.get(nf),S=y.create(wc.NULL,[],c||y.selector,w),R=S.location.nativeElement,V=S.injector.get(Cw,null);return V?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Ng(this.components,S),V?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Ng(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Tw,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ng(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new te(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ng(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const Bc=new In("",{providedIn:"root",factory:()=>Yt(Ch).handleError.bind(void 0)});function _d(){const i=Yt($i),o=Yt(Ch);return a=>i.runOutsideAngular(()=>o.handleError(a))}let vd=(()=>{class i{constructor(){this.zone=Yt($i),this.applicationRef=Yt(wf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Nw(){return!1}let sb=(()=>{class i{}return i.__NG_ELEMENT_ID__=b_,i})();function b_(i){return function Og(i,o,a){if(Ki(i)&&!a){const c=xi(i.index,o);return new xh(c,c)}return 47&i.type?new xh(o[On],o):null}(hr(),Se(),16==(16&i))}class S_{constructor(){}supports(o){return Xm(o)}create(o){return new $A(o)}}const A_=(i,o)=>o;class $A{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||A_}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<Df(c,d,f)?a:c,w=Df(y,d,f),D=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const S=w-d,R=D-d;if(S!=R){for(let q=0;q<S;q++){const Q=q<f.length?f[q]:f[q]=0,Ie=Q+q;R<=Ie&&Ie<S&&(f[q]=Q+1)}f[y.previousIndex]=R-S}}w!==D&&o(y,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Xm(o))throw new te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],y=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,w),c=!0),a=a._next}else d=0,function AS(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,d)):o=this._addAfter(new ob(a,c),f,d),o}_verifyReinsertion(o,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ug),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ug),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ob{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lg{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Ug{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Lg,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Df(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class Vw{constructor(){}supports(o){return o instanceof Map||di(o)}create(){return new ab}}class ab{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||di(o)))throw new te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const c=new Hi(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class Hi{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bw(){return new Cf([new S_])}let Cf=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Bw()),deps:[[i,new ys,new ms]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new te(901,!1)}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:Bw}),i})();function $w(){return new Aa([new Vw])}let Aa=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||$w()),deps:[[i,new ys,new ms]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new te(901,!1)}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:$w}),i})();const Sf=tb(null,"core",[]);let cb=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Pn(wf))},i.\u0275mod=Pa({type:i}),i.\u0275inj=dr({}),i})();function yi(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function Zw(i){const o=Ut(i);if(!o)return null;const a=new Rh(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(pt,Ce,L)=>{L.d(Ce,{Z:()=>qe});var h=L(9058),B=L(4537),P=L(534),J=L(7879);class ie{constructor(Ze,Pe){this._delegate=Ze,this.firebase=Pe,(0,P._addComponent)(Ze,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ze,Pe=P._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(Ze);return!lt.isInitialized()&&"EXPLICIT"===(null===(vt=lt.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:Pe})}_removeServiceInstance(Ze,Pe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(Pe)}_addComponent(Ze){(0,P._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,P._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ge(){const xe=function Ae(xe){const Ze={},Pe={__esModule:!0,initializeApp:function te(Ne,ee={}){const et=P.initializeApp(Ne,ee);if((0,h.r3)(Ze,et.name))return Ze[et.name];const $e=new xe(et,Pe);return Ze[et.name]=$e,$e},app:lt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function se(Ne){const ee=Ne.name,et=ee.replace("-compat","");if(P._registerComponent(Ne)&&"PUBLIC"===Ne.type){const $e=(Jt=lt())=>{if("function"!=typeof Jt[et])throw _e.create("invalid-app-argument",{appName:ee});return Jt[et]()};void 0!==Ne.serviceProps&&(0,h.ZB)($e,Ne.serviceProps),Pe[et]=$e,xe.prototype[et]=function(...Jt){return this._getService.bind(this,ee).apply(this,Ne.multipleInstances?Jt:[])}}return"PUBLIC"===Ne.type?Pe[et]:null},removeApp:function vt(Ne){delete Ze[Ne]},useAsService:function fe(Ne,ee){return"serverAuth"===ee?null:ee},modularAPIs:P}};function lt(Ne){if(!(0,h.r3)(Ze,Ne=Ne||P._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Ne});return Ze[Ne]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function De(){return Object.keys(Ze).map(Ne=>Ze[Ne])}}),lt.App=xe,Pe}(ie);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function Ze(Pe){(0,h.ZB)(xe,Pe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),xe}(),G=new J.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=H;!function Me(xe){(0,P.registerVersion)("@firebase/app-compat","0.2.13",xe)}()},534:(pt,Ce,L)=>{L.r(Ce),L.d(Ce,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>Wi,_DEFAULT_ENTRY_NAME:()=>Ke,_addComponent:()=>nr,_addOrOverwriteComponent:()=>ni,_apps:()=>Dt,_clearComponents:()=>pn,_components:()=>Kt,_getProvider:()=>qn,_registerComponent:()=>Wt,_removeServiceInstance:()=>as,deleteApp:()=>Dn,getApp:()=>Mr,getApps:()=>$n,initializeApp:()=>Ts,onLog:()=>rr,registerVersion:()=>Nn,setLogLevel:()=>Pn});var h=L(5861),B=L(4537),P=L(7879),J=L(9058);const ie=(he,re)=>re.some(Fe=>he instanceof Fe);let pe,_e;const H=new WeakMap,G=new WeakMap,ne=new WeakMap,ke=new WeakMap,Me=new WeakMap;let Ze={get(he,re,Fe){if(he instanceof IDBTransaction){if("done"===re)return G.get(he);if("objectStoreNames"===re)return he.objectStoreNames||ne.get(he);if("store"===re)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return te(he[re])},set:(he,re,Fe)=>(he[re]=Fe,!0),has:(he,re)=>he instanceof IDBTransaction&&("done"===re||"store"===re)||re in he};function lt(he){return"function"==typeof he?function vt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...re){return he.apply(De(this),re),te(H.get(this))}:function(...re){return te(he.apply(De(this),re))}:function(re,...Fe){const ft=he.call(De(this),re,...Fe);return ne.set(ft,re.sort?re.sort():[re]),te(ft)}}(he):(he instanceof IDBTransaction&&function xe(he){if(G.has(he))return;const re=new Promise((Fe,ft)=>{const Rt=()=>{he.removeEventListener("complete",jt),he.removeEventListener("error",nn),he.removeEventListener("abort",nn)},jt=()=>{Fe(),Rt()},nn=()=>{ft(he.error||new DOMException("AbortError","AbortError")),Rt()};he.addEventListener("complete",jt),he.addEventListener("error",nn),he.addEventListener("abort",nn)});G.set(he,re)}(he),ie(he,function Ae(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Ze):he)}function te(he){if(he instanceof IDBRequest)return function qe(he){const re=new Promise((Fe,ft)=>{const Rt=()=>{he.removeEventListener("success",jt),he.removeEventListener("error",nn)},jt=()=>{Fe(te(he.result)),Rt()},nn=()=>{ft(he.error),Rt()};he.addEventListener("success",jt),he.addEventListener("error",nn)});return re.then(Fe=>{Fe instanceof IDBCursor&&H.set(Fe,he)}).catch(()=>{}),Me.set(re,he),re}(he);if(ke.has(he))return ke.get(he);const re=lt(he);return re!==he&&(ke.set(he,re),Me.set(re,he)),re}const De=he=>Me.get(he),Ne=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],et=new Map;function $e(he,re){if(!(he instanceof IDBDatabase)||re in he||"string"!=typeof re)return;if(et.get(re))return et.get(re);const Fe=re.replace(/FromIndex$/,""),ft=re!==Fe,Rt=ee.includes(Fe);if(!(Fe in(ft?IDBIndex:IDBObjectStore).prototype)||!Rt&&!Ne.includes(Fe))return;const jt=function(){var nn=(0,h.Z)(function*(vr,...Hn){const Ks=this.transaction(vr,Rt?"readwrite":"readonly");let Io=Ks.store;return ft&&(Io=Io.index(Hn.shift())),(yield Promise.all([Io[Fe](...Hn),Rt&&Ks.done]))[0]});return function(Hn){return nn.apply(this,arguments)}}();return et.set(re,jt),jt}!function Pe(he){Ze=he(Ze)}(he=>({...he,get:(re,Fe,ft)=>$e(re,Fe)||he.get(re,Fe,ft),has:(re,Fe)=>!!$e(re,Fe)||he.has(re,Fe)}));class Jt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function cr(he){const re=he.getComponent();return"VERSION"===re?.type}(Fe)){const ft=Fe.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Fe=>Fe).join(" ")}}const Gr="@firebase/app",ae=new P.Yd("@firebase/app"),Ke="[DEFAULT]",dt={[Gr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,Kt=new Map;function nr(he,re){try{he.container.addComponent(re)}catch(Fe){ae.debug(`Component ${re.name} failed to register with FirebaseApp ${he.name}`,Fe)}}function ni(he,re){he.container.addOrOverwriteComponent(re)}function Wt(he){const re=he.name;if(Kt.has(re))return ae.debug(`There were multiple attempts to register component ${re}.`),!1;Kt.set(re,he);for(const Fe of Dt.values())nr(Fe,he);return!0}function qn(he,re){const Fe=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),he.container.getProvider(re)}function as(he,re,Fe=Ke){qn(he,re).clearInstance(Fe)}function pn(){Kt.clear()}const kt=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Un{constructor(re,Fe,ft){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}const Wi="9.23.0";function Ts(he,re={}){let Fe=he;"object"!=typeof re&&(re={name:re});const ft=Object.assign({name:Ke,automaticDataCollectionEnabled:!1},re),Rt=ft.name;if("string"!=typeof Rt||!Rt)throw kt.create("bad-app-name",{appName:String(Rt)});if(Fe||(Fe=(0,J.aH)()),!Fe)throw kt.create("no-options");const jt=Dt.get(Rt);if(jt){if((0,J.vZ)(Fe,jt.options)&&(0,J.vZ)(ft,jt.config))return jt;throw kt.create("duplicate-app",{appName:Rt})}const nn=new B.H0(Rt);for(const Hn of Kt.values())nn.addComponent(Hn);const vr=new Un(Fe,ft,nn);return Dt.set(Rt,vr),vr}function Mr(he=Ke){const re=Dt.get(he);if(!re&&he===Ke&&(0,J.aH)())return Ts();if(!re)throw kt.create("no-app",{appName:he});return re}function $n(){return Array.from(Dt.values())}function Dn(he){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(he){const re=he.name;Dt.has(re)&&(Dt.delete(re),yield Promise.all(he.container.getProviders().map(Fe=>Fe.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Nn(he,re,Fe){var ft;let Rt=null!==(ft=dt[he])&&void 0!==ft?ft:he;Fe&&(Rt+=`-${Fe}`);const jt=Rt.match(/\s|\//),nn=re.match(/\s|\//);if(jt||nn){const vr=[`Unable to register library "${Rt}" with version "${re}":`];return jt&&vr.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),jt&&nn&&vr.push("and"),nn&&vr.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void ae.warn(vr.join(" "))}Wt(new B.wA(`${Rt}-version`,()=>({library:Rt,version:re}),"VERSION"))}function rr(he,re){if(null!==he&&"function"!=typeof he)throw kt.create("invalid-log-argument");(0,P.Am)(he,re)}function Pn(he){(0,P.Ub)(he)}const qr="firebase-heartbeat-database",Yt=1,z="firebase-heartbeat-store";let j=null;function k(){return j||(j=function se(he,re,{blocked:Fe,upgrade:ft,blocking:Rt,terminated:jt}={}){const nn=indexedDB.open(he,re),vr=te(nn);return ft&&nn.addEventListener("upgradeneeded",Hn=>{ft(te(nn.result),Hn.oldVersion,Hn.newVersion,te(nn.transaction),Hn)}),Fe&&nn.addEventListener("blocked",Hn=>Fe(Hn.oldVersion,Hn.newVersion,Hn)),vr.then(Hn=>{jt&&Hn.addEventListener("close",()=>jt()),Rt&&Hn.addEventListener("versionchange",Ks=>Rt(Ks.oldVersion,Ks.newVersion,Ks))}).catch(()=>{}),vr}(qr,Yt,{upgrade:(he,re)=>{0===re&&he.createObjectStore(z)}}).catch(he=>{throw kt.create("idb-open",{originalErrorMessage:he.message})})),j}function N(){return(N=(0,h.Z)(function*(he){try{return yield(yield k()).transaction(z).objectStore(z).get(We(he))}catch(re){if(re instanceof J.ZR)ae.warn(re.message);else{const Fe=kt.create("idb-get",{originalErrorMessage:re?.message});ae.warn(Fe.message)}}})).apply(this,arguments)}function X(he,re){return ve.apply(this,arguments)}function ve(){return(ve=(0,h.Z)(function*(he,re){try{const ft=(yield k()).transaction(z,"readwrite");yield ft.objectStore(z).put(re,We(he)),yield ft.done}catch(Fe){if(Fe instanceof J.ZR)ae.warn(Fe.message);else{const ft=kt.create("idb-set",{originalErrorMessage:Fe?.message});ae.warn(ft.message)}}})).apply(this,arguments)}function We(he){return`${he.name}!${he.options.appId}`}class ht{constructor(re){this.container=re,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new Lt(Fe),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var re=this;return(0,h.Z)(function*(){const ft=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=xt();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!re._heartbeatsCache.heartbeats.some(jt=>jt.date===Rt))return re._heartbeatsCache.heartbeats.push({date:Rt,agent:ft}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(jt=>{const nn=new Date(jt.date).valueOf();return Date.now()-nn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,h.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Fe=xt(),{heartbeatsToSend:ft,unsentEntries:Rt}=function _n(he,re=1024){const Fe=[];let ft=he.slice();for(const Rt of he){const jt=Fe.find(nn=>nn.agent===Rt.agent);if(jt){if(jt.dates.push(Rt.date),_r(Fe)>re){jt.dates.pop();break}}else if(Fe.push({agent:Rt.agent,dates:[Rt.date]}),_r(Fe)>re){Fe.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:ft}}(re._heartbeatsCache.heartbeats),jt=(0,J.L)(JSON.stringify({version:2,heartbeats:ft}));return re._heartbeatsCache.lastSentHeartbeatDate=Fe,Rt.length>0?(re._heartbeatsCache.heartbeats=Rt,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),jt})()}}function xt(){return(new Date).toISOString().substring(0,10)}class Lt{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,h.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function F(he){return N.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Fe=this;return(0,h.Z)(function*(){var ft;if(yield Fe._canUseIndexedDBPromise){const jt=yield Fe.read();return X(Fe.app,{lastSentHeartbeatDate:null!==(ft=re.lastSentHeartbeatDate)&&void 0!==ft?ft:jt.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Fe=this;return(0,h.Z)(function*(){var ft;if(yield Fe._canUseIndexedDBPromise){const jt=yield Fe.read();return X(Fe.app,{lastSentHeartbeatDate:null!==(ft=re.lastSentHeartbeatDate)&&void 0!==ft?ft:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...re.heartbeats]})}})()}}function _r(he){return(0,J.L)(JSON.stringify({version:2,heartbeats:he})).length}!function xr(he){Wt(new B.wA("platform-logger",re=>new Jt(re),"PRIVATE")),Wt(new B.wA("heartbeat",re=>new ht(re),"PRIVATE")),Nn(Gr,"0.9.13",he),Nn(Gr,"0.9.13","esm2017"),Nn("fire-js","")}("")},4537:(pt,Ce,L)=>{L.d(Ce,{H0:()=>Ae,wA:()=>P});var h=L(5861),B=L(9058);class P{constructor(H,G,ne){this.name=H,this.instanceFactory=G,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const J="[DEFAULT]";class ie{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const ne=new B.BH;if(this.instancesDeferred.set(G,ne),this.isInitialized(G)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:G});ke&&ne.resolve(ke)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const ne=this.normalizeInstanceIdentifier(H?.identifier),ke=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Me){if(ke)return null;throw Me}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function _e(ge){return"EAGER"===ge.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[G,ne]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(G);try{const Me=this.getOrInitializeService({instanceIdentifier:ke});ne.resolve(Me)}catch{}}}}clearInstance(H=J){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...G.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=J){return this.instances.has(H)}getOptions(H=J){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,ne=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:ne,options:G});for(const[Me,qe]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Me)&&qe.resolve(ke);return ke}onInit(H,G){var ne;const ke=this.normalizeInstanceIdentifier(G),Me=null!==(ne=this.onInitCallbacks.get(ke))&&void 0!==ne?ne:new Set;Me.add(H),this.onInitCallbacks.set(ke,Me);const qe=this.instances.get(ke);return qe&&H(qe,ke),()=>{Me.delete(H)}}invokeOnInitCallbacks(H,G){const ne=this.onInitCallbacks.get(G);if(ne)for(const ke of ne)try{ke(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let ne=this.instances.get(H);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=H,ge===J?void 0:ge),options:G}),this.instances.set(H,ne),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(ne,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ne)}catch{}var ge;return ne||null}normalizeInstanceIdentifier(H=J){return this.component?this.component.multipleInstances?H:J:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new ie(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(pt,Ce,L)=>{L.d(Ce,{Am:()=>ge,Ub:()=>Ae,Yd:()=>_e,in:()=>B});const h=[];var B=(()=>((B=B||{})[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B))();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},J=B.INFO,ie={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},pe=(H,G,...ne)=>{if(G<H.logLevel)return;const ke=(new Date).toISOString(),Me=ie[G];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Me](`[${ke}]  ${H.name}:`,...ne)};class _e{constructor(G){this.name=G,this._logLevel=J,this._logHandler=pe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in B))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...G),this._logHandler(this,B.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...G),this._logHandler(this,B.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,B.INFO,...G),this._logHandler(this,B.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,B.WARN,...G),this._logHandler(this,B.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...G),this._logHandler(this,B.ERROR,...G)}}function Ae(H){h.forEach(G=>{G.setLogLevel(H)})}function ge(H,G){for(const ne of h){let ke=null;G&&G.level&&(ke=P[G.level]),ne.userLogHandler=null===H?null:(Me,qe,...xe)=>{const Ze=xe.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");qe>=(ke??Me.logLevel)&&H({level:B[qe].toLowerCase(),message:Ze,args:xe,type:Me.name})}}}},3182:(pt,Ce,L)=>{L.d(Ce,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=L(534);(0,h.registerVersion)("firebase","9.23.0","app")},7142:(pt,Ce,L)=>{L.d(Ce,{Z:()=>h.Z});var h=L(3106);h.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(pt,Ce,L)=>{L.r(Ce);var h=L(5861),B=L(3106),P=L(6878),J=L(9058),_e=(L(534),L(7879),L(4537));function Ae(){return window}function G(){return G=(0,h.Z)(function*(k,F,N){var X;const{BuildInfo:ve}=Ae();(0,P.as)(F.sessionId,"AuthEvent did not contain a session ID");const We=yield function Pe(k){return vt.apply(this,arguments)}(F.sessionId),wt={};return(0,P.at)()?wt.ibi=ve.packageName:(0,P.au)()?wt.apn=ve.packageName:(0,P.av)(k,"operation-not-supported-in-this-environment"),ve.displayName&&(wt.appDisplayName=ve.displayName),wt.sessionId=We,(0,P.aw)(k,N,F.type,void 0,null!==(X=F.eventId)&&void 0!==X?X:void 0,wt)}),G.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(k){const{BuildInfo:F}=Ae(),N={};(0,P.at)()?N.iosBundleId=F.packageName:(0,P.au)()?N.androidPackageName=F.packageName:(0,P.av)(k,"operation-not-supported-in-this-environment"),yield(0,P.ax)(k,N)})).apply(this,arguments)}function xe(){return(xe=(0,h.Z)(function*(k,F,N){const{cordova:X}=Ae();let ve=()=>{};try{yield new Promise((We,wt)=>{let yt=null;function ht(){var Lt;We();const _r=null===(Lt=X.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof _r&&_r(),"function"==typeof N?.close&&N.close()}function xt(){yt||(yt=window.setTimeout(()=>{wt((0,P.az)(k,"redirect-cancelled-by-user"))},2e3))}function _n(){"visible"===document?.visibilityState&&xt()}F.addPassiveListener(ht),document.addEventListener("resume",xt,!1),(0,P.au)()&&document.addEventListener("visibilitychange",_n,!1),ve=()=>{F.removePassiveListener(ht),document.removeEventListener("resume",xt,!1),document.removeEventListener("visibilitychange",_n,!1),yt&&window.clearTimeout(yt)}})}finally{ve()}})).apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(k){const F=function lt(k){if((0,P.as)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const F=new ArrayBuffer(k.length),N=new Uint8Array(F);for(let X=0;X<k.length;X++)N[X]=k.charCodeAt(X);return N}(k),N=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(N)).map(ve=>ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class De extends P.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(F)),super.onEvent(F)}initialized(){var F=this;return(0,h.Z)(function*(){yield F.initPromise})()}}function Ne(k){return ee.apply(this,arguments)}function ee(){return(ee=(0,h.Z)(function*(k){const F=yield Jt()._get(cr(k));return F&&(yield Jt()._remove(cr(k))),F})).apply(this,arguments)}function $e(){const k=[];for(let N=0;N<20;N++){const X=Math.floor(62*Math.random());k.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(X))}return k.join("")}function Jt(){return(0,P.aC)(P.b)}function cr(k){return(0,P.aD)("authEvent",k.config.apiKey,k.name)}function ae(k){if(!k?.includes("?"))return{};const[F,...N]=k.split("?");return(0,J.zd)(N.join("?"))}const Oe=class Te{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(F){var N=this;return(0,h.Z)(function*(){const X=F._key();let ve=N.eventManagers.get(X);return ve||(ve=new De(F),N.eventManagers.set(X,ve),N.attachCallbackListeners(F,ve)),ve})()}_openPopup(F){(0,P.av)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,N,X,ve){var We=this;return(0,h.Z)(function*(){!function Ze(k){var F,N,X,ve,We,wt,yt,ht,xt,_n;const Lt=Ae();(0,P.aA)("function"==typeof(null===(F=Lt?.universalLinks)||void 0===F?void 0:F.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aA)(typeof(null===(N=Lt?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aA)("function"==typeof(null===(We=null===(ve=null===(X=Lt?.cordova)||void 0===X?void 0:X.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===We?void 0:We.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(ht=null===(yt=null===(wt=Lt?.cordova)||void 0===wt?void 0:wt.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===ht?void 0:ht.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(_n=null===(xt=Lt?.cordova)||void 0===xt?void 0:xt.InAppBrowser)||void 0===_n?void 0:_n.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const wt=yield We._initialize(F);yield wt.initialized(),wt.resetRedirect(),(0,P.aG)(),yield We._originValidation(F);const yt=function se(k,F,N=null){return{type:F,eventId:N,urlResponse:null,sessionId:$e(),postBody:null,tenantId:k.tenantId,error:(0,P.az)(k,"no-auth-event")}}(F,X,ve);yield function fe(k,F){return Jt()._set(cr(k),F)}(F,yt);const ht=yield function H(k,F,N){return G.apply(this,arguments)}(F,yt,N),xt=yield function Me(k){const{cordova:F}=Ae();return new Promise(N=>{F.plugins.browsertab.isAvailable(X=>{let ve=null;X?F.plugins.browsertab.openUrl(k):ve=F.InAppBrowser.open(k,(0,P.ay)()?"_blank":"_system","location=yes"),N(ve)})})}(ht);return function qe(k,F,N){return xe.apply(this,arguments)}(F,wt,xt)})()}_isIframeWebStorageSupported(F,N){throw new Error("Method not implemented.")}_originValidation(F){const N=F._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function ne(k){return ke.apply(this,arguments)}(F)),this.originValidationPromises[N]}attachCallbackListeners(F,N){const{universalLinks:X,handleOpenURL:ve,BuildInfo:We}=Ae(),wt=setTimeout((0,h.Z)(function*(){yield Ne(F),N.onEvent(He())}),500),yt=function(){var _n=(0,h.Z)(function*(Lt){clearTimeout(wt);const _r=yield Ne(F);let xr=null;_r&&Lt?.url&&(xr=function et(k,F){var N,X;const ve=function bs(k){const F=ae(k),N=F.link?decodeURIComponent(F.link):void 0,X=ae(N).link,ve=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return ae(ve).link||ve||X||N||k}(F);if(ve.includes("/__/auth/callback")){const We=ae(ve),wt=We.firebaseError?function Gr(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(We.firebaseError)):null,yt=null===(X=null===(N=wt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===X?void 0:X[1],ht=yt?(0,P.az)(yt):null;return ht?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:ht,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:ve,postBody:null}}return null}(_r,Lt.url)),N.onEvent(xr||He())});return function(_r){return _n.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,yt);const ht=ve,xt=`${We.packageName.toLowerCase()}://`;Ae().handleOpenURL=function(){var _n=(0,h.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(xt)&&yt({url:Lt}),"function"==typeof ht)try{ht(Lt)}catch(_r){console.error(_r)}});return function(Lt){return _n.apply(this,arguments)}}()}};function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.az)("no-auth-event")}}function tt(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function rn(k=(0,J.z$)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function dr(){try{const k=self.localStorage,F=P.aL();if(k)return k.setItem(F,"1"),k.removeItem(F),!function lr(k=(0,J.z$)()){return function Ln(){return(0,J.w1)()&&11===document?.documentMode}()||function Xt(k=(0,J.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,J.hl)()}catch{return tr()&&(0,J.hl)()}return!1}function tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function gt(){return"http:"===tt()||"https:"===tt()}()||(0,J.ru)()||rn())&&!function yn(){return(0,J.b$)()||(0,J.UG)()}()&&dr()&&!tr()}function Ai(){return rn()&&typeof document<"u"}function Gi(){return(Gi=(0,h.Z)(function*(){return!!Ai()&&new Promise(k=>{const F=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),k(!0)})})})).apply(this,arguments)}const jn={LOCAL:"local",NONE:"none",SESSION:"session"},Wr=P.aA,os="persistence";function dt(k){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(k){yield k._initializationPromise;const F=nr(),N=P.aD(os,k.config.apiKey,k.name);F&&F.setItem(N,k._getPersistence())})).apply(this,arguments)}function nr(){var k;try{return(null===(k=function Ar(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const ni=P.aA;class Wt{constructor(){this.browserResolver=P.aC(P.k),this.cordovaResolver=P.aC(Oe),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(F){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,N,X,ve){var We=this;return(0,h.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(F,N,X,ve)})()}_openRedirect(F,N,X,ve){var We=this;return(0,h.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(F,N,X,ve)})()}_isIframeWebStorageSupported(F,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,N)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Ai()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ni(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,h.Z)(function*(){if(F.underlyingResolver)return;const N=yield function Eo(){return Gi.apply(this,arguments)}();F.underlyingResolver=N?F.cordovaResolver:F.browserResolver})()}}function qn(k){return k.unwrap()}function pn(k){return kt(k)}function kt(k){const{_tokenResponse:F}=k instanceof J.ZR?k.customData:k;if(!F)return null;if(!(k instanceof J.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return P.P.credentialFromResult(k);const N=F.providerId;if(!N||N===P.p.PASSWORD)return null;let X;switch(N){case P.p.GOOGLE:X=P.V;break;case P.p.FACEBOOK:X=P.U;break;case P.p.GITHUB:X=P.W;break;case P.p.TWITTER:X=P.Z;break;default:const{oauthIdToken:ve,oauthAccessToken:We,oauthTokenSecret:wt,pendingToken:yt,nonce:ht}=F;return We||wt||ve||yt?yt?N.startsWith("saml.")?P.aO._create(N,yt):P.L._fromParams({providerId:N,signInMethod:N,pendingToken:yt,idToken:ve,accessToken:We}):new P.X(N).credential({idToken:ve,accessToken:We,rawNonce:ht}):null}return k instanceof J.ZR?X.credentialFromError(k):X.credentialFromResult(k)}function Un(k,F){return F.catch(N=>{throw N instanceof J.ZR&&function Ur(k,F){var N;const X=null===(N=F.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Mr(k,P.aq(k,F));else if(X){const ve=kt(F),We=F;ve&&(We.credential=ve,We.tenantId=X.tenantId||void 0,We.email=X.email||void 0,We.phoneNumber=X.phoneNumber||void 0)}}(k,N),N}).then(N=>{const ve=N.user;return{operationType:N.operationType,credential:pn(N),additionalUserInfo:P.ao(N),user:$n.getOrCreate(ve)}})}function Wi(k,F){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(k,F){const N=yield F;return{verificationId:N.verificationId,confirm:X=>Un(k,N.confirm(X))}})).apply(this,arguments)}class Mr{constructor(F,N){this.resolver=N,this.auth=function as(k){return k.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Un(qn(this.auth),this.resolver.resolveSignIn(F))}}class $n{constructor(F){this._delegate=F,this.multiFactor=P.ar(F)}static getOrCreate(F){return $n.USER_MAP.has(F)||$n.USER_MAP.set(F,new $n(F)),$n.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var N=this;return(0,h.Z)(function*(){return Un(N.auth,P.a0(N._delegate,F))})()}linkWithPhoneNumber(F,N){var X=this;return(0,h.Z)(function*(){return Wi(X.auth,P.l(X._delegate,F,N))})()}linkWithPopup(F){var N=this;return(0,h.Z)(function*(){return Un(N.auth,P.d(N._delegate,F,Wt))})()}linkWithRedirect(F){var N=this;return(0,h.Z)(function*(){return yield dt(P.aH(N.auth)),P.g(N._delegate,F,Wt)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var N=this;return(0,h.Z)(function*(){return Un(N.auth,P.a1(N._delegate,F))})()}reauthenticateWithPhoneNumber(F,N){return Wi(this.auth,P.r(this._delegate,F,N))}reauthenticateWithPopup(F){return Un(this.auth,P.e(this._delegate,F,Wt))}reauthenticateWithRedirect(F){var N=this;return(0,h.Z)(function*(){return yield dt(P.aH(N.auth)),P.h(N._delegate,F,Wt)})()}sendEmailVerification(F){return P.ae(this._delegate,F)}unlink(F){var N=this;return(0,h.Z)(function*(){return yield P.an(N._delegate,F),N})()}updateEmail(F){return P.aj(this._delegate,F)}updatePassword(F){return P.ak(this._delegate,F)}updatePhoneNumber(F){return P.u(this._delegate,F)}updateProfile(F){return P.ai(this._delegate,F)}verifyBeforeUpdateEmail(F,N){return P.af(this._delegate,F,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$n.USER_MAP=new WeakMap;const Dn=P.aA;let Zn=(()=>{class k{constructor(N,X){if(this.app=N,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ve}=N.options;Dn(ve,"invalid-api-key",{appName:N.name}),Dn(ve,"invalid-api-key",{appName:N.name});const We=typeof window<"u"?Wt:void 0;this._delegate=X.initialize({options:{persistence:rr(ve,N.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(P.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$n.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,X){P.I(this._delegate,N,X)}applyActionCode(N){return P.a5(this._delegate,N)}checkActionCode(N){return P.a6(this._delegate,N)}confirmPasswordReset(N,X){return P.a4(this._delegate,N,X)}createUserWithEmailAndPassword(N,X){var ve=this;return(0,h.Z)(function*(){return Un(ve._delegate,P.a8(ve._delegate,N,X))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return P.ad(this._delegate,N)}isSignInWithEmailLink(N){return P.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,h.Z)(function*(){Dn(Bn(),N._delegate,"operation-not-supported-in-this-environment");const X=yield P.j(N._delegate,Wt);return X?Un(N._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Ve(k,F){(0,P.aH)(k)._logFramework(F)}(this._delegate,N)}onAuthStateChanged(N,X,ve){const{next:We,error:wt,complete:yt}=Nn(N,X,ve);return this._delegate.onAuthStateChanged(We,wt,yt)}onIdTokenChanged(N,X,ve){const{next:We,error:wt,complete:yt}=Nn(N,X,ve);return this._delegate.onIdTokenChanged(We,wt,yt)}sendSignInLinkToEmail(N,X){return P.aa(this._delegate,N,X)}sendPasswordResetEmail(N,X){return P.a3(this._delegate,N,X||void 0)}setPersistence(N){var X=this;return(0,h.Z)(function*(){let ve;switch(function Ke(k,F){Wr(Object.values(jn).includes(F),k,"invalid-persistence-type"),(0,J.b$)()?Wr(F!==jn.SESSION,k,"unsupported-persistence-type"):(0,J.UG)()?Wr(F===jn.NONE,k,"unsupported-persistence-type"):tr()?Wr(F===jn.NONE||F===jn.LOCAL&&(0,J.hl)(),k,"unsupported-persistence-type"):Wr(F===jn.NONE||dr(),k,"unsupported-persistence-type")}(X._delegate,N),N){case jn.SESSION:ve=P.a;break;case jn.LOCAL:ve=(yield P.aC(P.i)._isAvailable())?P.i:P.b;break;case jn.NONE:ve=P.N;break;default:return P.av("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(ve)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return Un(this._delegate,P._(this._delegate))}signInWithCredential(N){return Un(this._delegate,P.$(this._delegate,N))}signInWithCustomToken(N){return Un(this._delegate,P.a2(this._delegate,N))}signInWithEmailAndPassword(N,X){return Un(this._delegate,P.a9(this._delegate,N,X))}signInWithEmailLink(N,X){return Un(this._delegate,P.ac(this._delegate,N,X))}signInWithPhoneNumber(N,X){return Wi(this._delegate,P.s(this._delegate,N,X))}signInWithPopup(N){var X=this;return(0,h.Z)(function*(){return Dn(Bn(),X._delegate,"operation-not-supported-in-this-environment"),Un(X._delegate,P.c(X._delegate,N,Wt))})()}signInWithRedirect(N){var X=this;return(0,h.Z)(function*(){return Dn(Bn(),X._delegate,"operation-not-supported-in-this-environment"),yield dt(X._delegate),P.f(X._delegate,N,Wt)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return P.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=jn,k})();function Nn(k,F,N){let X=k;"function"!=typeof k&&({next:X,error:F,complete:N}=k);const ve=X;return{next:wt=>ve(wt&&$n.getOrCreate(wt)),error:F,complete:N}}function rr(k,F){const N=function Kt(k,F){const N=nr();if(!N)return[];const X=P.aD(os,k,F);switch(N.getItem(X)){case jn.NONE:return[P.N];case jn.LOCAL:return[P.i,P.a];case jn.SESSION:return[P.a];default:return[]}}(k,F);if(typeof self<"u"&&!N.includes(P.i)&&N.push(P.i),typeof window<"u")for(const X of[P.b,P.a])N.includes(X)||N.push(X);return N.includes(P.N)||N.push(P.N),N}class Pn{constructor(){this.providerId="phone",this._delegate=new P.P(qn(B.Z.auth()))}static credential(F,N){return P.P.credential(F,N)}verifyPhoneNumber(F,N){return this._delegate.verifyPhoneNumber(F,N)}unwrap(){return this._delegate}}Pn.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Pn.PROVIDER_ID=P.P.PROVIDER_ID;const qr=P.aA;class Yt{constructor(F,N,X=B.Z.app()){var ve;qr(null===(ve=X.options)||void 0===ve?void 0:ve.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new P.R(F,N,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(k){k.INTERNAL.registerComponent(new _e.wA("auth-compat",F=>{const N=F.getProvider("app-compat").getImmediate(),X=F.getProvider("auth");return new Zn(N,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.Q,FacebookAuthProvider:P.U,GithubAuthProvider:P.W,GoogleAuthProvider:P.V,OAuthProvider:P.X,SAMLAuthProvider:P.Y,PhoneAuthProvider:Pn,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Yt,TwitterAuthProvider:P.Z,Auth:Zn,AuthCredential:P.J,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(pt,Ce,L)=>{function h(P,J,ie,pe,_e,Ae,ge){try{var H=P[Ae](ge),G=H.value}catch(ne){return void ie(ne)}H.done?J(G):Promise.resolve(G).then(pe,_e)}function B(P){return function(){var J=this,ie=arguments;return new Promise(function(pe,_e){var Ae=P.apply(J,ie);function ge(G){h(Ae,pe,_e,ge,H,"next",G)}function H(G){h(Ae,pe,_e,ge,H,"throw",G)}ge(void 0)})}}L.d(Ce,{Z:()=>B})},7582:(pt,Ce,L)=>{function J(ae,we){var Te={};for(var Oe in ae)Object.prototype.hasOwnProperty.call(ae,Oe)&&we.indexOf(Oe)<0&&(Te[Oe]=ae[Oe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Oe=Object.getOwnPropertySymbols(ae);He<Oe.length;He++)we.indexOf(Oe[He])<0&&Object.prototype.propertyIsEnumerable.call(ae,Oe[He])&&(Te[Oe[He]]=ae[Oe[He]])}return Te}function ne(ae,we,Te,Oe){return new(Te||(Te=Promise))(function(Ve,Ye){function ot(gt){try{tt(Oe.next(gt))}catch(rn){Ye(rn)}}function Rn(gt){try{tt(Oe.throw(gt))}catch(rn){Ye(rn)}}function tt(gt){gt.done?Ve(gt.value):function He(Ve){return Ve instanceof Te?Ve:new Te(function(Ye){Ye(Ve)})}(gt.value).then(ot,Rn)}tt((Oe=Oe.apply(ae,we||[])).next())})}function te(ae){return this instanceof te?(this.v=ae,this):new te(ae)}function De(ae,we,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Oe=Te.apply(ae,we||[]),Ve=[];return He={},Ye("next"),Ye("throw"),Ye("return"),He[Symbol.asyncIterator]=function(){return this},He;function Ye(yn){Oe[yn]&&(He[yn]=function(Ln){return new Promise(function(Xt,lr){Ve.push([yn,Ln,Xt,lr])>1||ot(yn,Ln)})})}function ot(yn,Ln){try{!function Rn(yn){yn.value instanceof te?Promise.resolve(yn.value.v).then(tt,gt):rn(Ve[0][2],yn)}(Oe[yn](Ln))}catch(Xt){rn(Ve[0][3],Xt)}}function tt(yn){ot("next",yn)}function gt(yn){ot("throw",yn)}function rn(yn,Ln){yn(Ln),Ve.shift(),Ve.length&&ot(Ve[0][0],Ve[0][1])}}function fe(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,we=ae[Symbol.asyncIterator];return we?we.call(ae):(ae=function xe(ae){var we="function"==typeof Symbol&&Symbol.iterator,Te=we&&ae[we],Oe=0;if(Te)return Te.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Oe>=ae.length&&(ae=void 0),{value:ae&&ae[Oe++],done:!ae}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Te={},Oe("next"),Oe("throw"),Oe("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Oe(Ve){Te[Ve]=ae[Ve]&&function(Ye){return new Promise(function(ot,Rn){!function He(Ve,Ye,ot,Rn){Promise.resolve(Rn).then(function(tt){Ve({value:tt,done:ot})},Ye)}(ot,Rn,(Ye=ae[Ve](Ye)).done,Ye.value)})}}}L.d(Ce,{FC:()=>De,KL:()=>fe,_T:()=>J,mG:()=>ne,qq:()=>te})}},pt=>{pt(pt.s=7095)}]);